var SI=t=>{throw TypeError(t)};var $0=(t,e,n)=>e.has(t)||SI("Cannot "+n);var H=(t,e,n)=>($0(t,e,"read from private field"),n?n.call(t):e.get(t)),be=(t,e,n)=>e.has(t)?SI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ve=(t,e,n,r)=>($0(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),qe=(t,e,n)=>($0(t,e,"access private method"),n);var em=(t,e,n,r)=>({set _(i){ve(t,e,i,n)},get _(){return H(t,e,r)}});function x6(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function CA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bA={exports:{}},Ev={},RA={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vf=Symbol.for("react.element"),T6=Symbol.for("react.portal"),S6=Symbol.for("react.fragment"),I6=Symbol.for("react.strict_mode"),C6=Symbol.for("react.profiler"),b6=Symbol.for("react.provider"),R6=Symbol.for("react.context"),A6=Symbol.for("react.forward_ref"),P6=Symbol.for("react.suspense"),N6=Symbol.for("react.memo"),k6=Symbol.for("react.lazy"),II=Symbol.iterator;function D6(t){return t===null||typeof t!="object"?null:(t=II&&t[II]||t["@@iterator"],typeof t=="function"?t:null)}var AA={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PA=Object.assign,NA={};function jc(t,e,n){this.props=t,this.context=e,this.refs=NA,this.updater=n||AA}jc.prototype.isReactComponent={};jc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};jc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kA(){}kA.prototype=jc.prototype;function GE(t,e,n){this.props=t,this.context=e,this.refs=NA,this.updater=n||AA}var qE=GE.prototype=new kA;qE.constructor=GE;PA(qE,jc.prototype);qE.isPureReactComponent=!0;var CI=Array.isArray,DA=Object.prototype.hasOwnProperty,QE={current:null},OA={key:!0,ref:!0,__self:!0,__source:!0};function MA(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)DA.call(e,r)&&!OA.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:vf,type:t,key:s,ref:a,props:i,_owner:QE.current}}function O6(t,e){return{$$typeof:vf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function YE(t){return typeof t=="object"&&t!==null&&t.$$typeof===vf}function M6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var bI=/\/+/g;function B0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?M6(""+t.key):e.toString(36)}function Lm(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case vf:case T6:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+B0(a,0):r,CI(i)?(n="",t!=null&&(n=t.replace(bI,"$&/")+"/"),Lm(i,e,n,"",function(h){return h})):i!=null&&(YE(i)&&(i=O6(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(bI,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",CI(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+B0(s,l);a+=Lm(s,e,n,c,i)}else if(c=D6(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+B0(s,l++),a+=Lm(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function tm(t,e,n){if(t==null)return t;var r=[],i=0;return Lm(t,r,"","",function(s){return e.call(n,s,i++)}),r}function L6(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var or={current:null},Fm={transition:null},F6={ReactCurrentDispatcher:or,ReactCurrentBatchConfig:Fm,ReactCurrentOwner:QE};function LA(){throw Error("act(...) is not supported in production builds of React.")}Ze.Children={map:tm,forEach:function(t,e,n){tm(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return tm(t,function(){e++}),e},toArray:function(t){return tm(t,function(e){return e})||[]},only:function(t){if(!YE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ze.Component=jc;Ze.Fragment=S6;Ze.Profiler=C6;Ze.PureComponent=GE;Ze.StrictMode=I6;Ze.Suspense=P6;Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F6;Ze.act=LA;Ze.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=PA({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=QE.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)DA.call(e,c)&&!OA.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:vf,type:t.type,key:i,ref:s,props:r,_owner:a}};Ze.createContext=function(t){return t={$$typeof:R6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:b6,_context:t},t.Consumer=t};Ze.createElement=MA;Ze.createFactory=function(t){var e=MA.bind(null,t);return e.type=t,e};Ze.createRef=function(){return{current:null}};Ze.forwardRef=function(t){return{$$typeof:A6,render:t}};Ze.isValidElement=YE;Ze.lazy=function(t){return{$$typeof:k6,_payload:{_status:-1,_result:t},_init:L6}};Ze.memo=function(t,e){return{$$typeof:N6,type:t,compare:e===void 0?null:e}};Ze.startTransition=function(t){var e=Fm.transition;Fm.transition={};try{t()}finally{Fm.transition=e}};Ze.unstable_act=LA;Ze.useCallback=function(t,e){return or.current.useCallback(t,e)};Ze.useContext=function(t){return or.current.useContext(t)};Ze.useDebugValue=function(){};Ze.useDeferredValue=function(t){return or.current.useDeferredValue(t)};Ze.useEffect=function(t,e){return or.current.useEffect(t,e)};Ze.useId=function(){return or.current.useId()};Ze.useImperativeHandle=function(t,e,n){return or.current.useImperativeHandle(t,e,n)};Ze.useInsertionEffect=function(t,e){return or.current.useInsertionEffect(t,e)};Ze.useLayoutEffect=function(t,e){return or.current.useLayoutEffect(t,e)};Ze.useMemo=function(t,e){return or.current.useMemo(t,e)};Ze.useReducer=function(t,e,n){return or.current.useReducer(t,e,n)};Ze.useRef=function(t){return or.current.useRef(t)};Ze.useState=function(t){return or.current.useState(t)};Ze.useSyncExternalStore=function(t,e,n){return or.current.useSyncExternalStore(t,e,n)};Ze.useTransition=function(){return or.current.useTransition()};Ze.version="18.3.1";RA.exports=Ze;var w=RA.exports;const de=CA(w),FA=x6({__proto__:null,default:de},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V6=w,j6=Symbol.for("react.element"),U6=Symbol.for("react.fragment"),$6=Object.prototype.hasOwnProperty,B6=V6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,z6={key:!0,ref:!0,__self:!0,__source:!0};function VA(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)$6.call(e,r)&&!z6.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:j6,type:t,key:s,ref:a,props:i,_owner:B6.current}}Ev.Fragment=U6;Ev.jsx=VA;Ev.jsxs=VA;bA.exports=Ev;var v=bA.exports,jA={exports:{}},Br={},UA={exports:{}},$A={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,Y){var ue=q.length;q.push(Y);e:for(;0<ue;){var oe=ue-1>>>1,me=q[oe];if(0<i(me,Y))q[oe]=Y,q[ue]=me,ue=oe;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var Y=q[0],ue=q.pop();if(ue!==Y){q[0]=ue;e:for(var oe=0,me=q.length,xe=me>>>1;oe<xe;){var Xe=2*(oe+1)-1,ot=q[Xe],De=Xe+1,_e=q[De];if(0>i(ot,ue))De<me&&0>i(_e,ot)?(q[oe]=_e,q[De]=ue,oe=De):(q[oe]=ot,q[Xe]=ue,oe=Xe);else if(De<me&&0>i(_e,ue))q[oe]=_e,q[De]=ue,oe=De;else break e}}return Y}function i(q,Y){var ue=q.sortIndex-Y.sortIndex;return ue!==0?ue:q.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],h=[],p=1,m=null,g=3,x=!1,I=!1,E=!1,b=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(q){for(var Y=n(h);Y!==null;){if(Y.callback===null)r(h);else if(Y.startTime<=q)r(h),Y.sortIndex=Y.expirationTime,e(c,Y);else break;Y=n(h)}}function V(q){if(E=!1,R(q),!I)if(n(c)!==null)I=!0,le(U);else{var Y=n(h);Y!==null&&he(V,Y.startTime-q)}}function U(q,Y){I=!1,E&&(E=!1,C(A),A=-1),x=!0;var ue=g;try{for(R(Y),m=n(c);m!==null&&(!(m.expirationTime>Y)||q&&!$());){var oe=m.callback;if(typeof oe=="function"){m.callback=null,g=m.priorityLevel;var me=oe(m.expirationTime<=Y);Y=t.unstable_now(),typeof me=="function"?m.callback=me:m===n(c)&&r(c),R(Y)}else r(c);m=n(c)}if(m!==null)var xe=!0;else{var Xe=n(h);Xe!==null&&he(V,Xe.startTime-Y),xe=!1}return xe}finally{m=null,g=ue,x=!1}}var z=!1,N=null,A=-1,k=5,L=-1;function $(){return!(t.unstable_now()-L<k)}function j(){if(N!==null){var q=t.unstable_now();L=q;var Y=!0;try{Y=N(!0,q)}finally{Y?F():(z=!1,N=null)}}else z=!1}var F;if(typeof T=="function")F=function(){T(j)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ge=ee.port2;ee.port1.onmessage=j,F=function(){ge.postMessage(null)}}else F=function(){b(j,0)};function le(q){N=q,z||(z=!0,F())}function he(q,Y){A=b(function(){q(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){I||x||(I=!0,le(U))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(q){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var ue=g;g=Y;try{return q()}finally{g=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,Y){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ue=g;g=q;try{return Y()}finally{g=ue}},t.unstable_scheduleCallback=function(q,Y,ue){var oe=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?oe+ue:oe):ue=oe,q){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=ue+me,q={id:p++,callback:Y,priorityLevel:q,startTime:ue,expirationTime:me,sortIndex:-1},ue>oe?(q.sortIndex=ue,e(h,q),n(c)===null&&q===n(h)&&(E?(C(A),A=-1):E=!0,he(V,ue-oe))):(q.sortIndex=me,e(c,q),I||x||(I=!0,le(U))),q},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(q){var Y=g;return function(){var ue=g;g=Y;try{return q.apply(this,arguments)}finally{g=ue}}}})($A);UA.exports=$A;var W6=UA.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H6=w,$r=W6;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var BA=new Set,Ch={};function Bl(t,e){yc(t,e),yc(t+"Capture",e)}function yc(t,e){for(Ch[t]=e,t=0;t<e.length;t++)BA.add(e[t])}var Qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),H_=Object.prototype.hasOwnProperty,K6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,RI={},AI={};function G6(t){return H_.call(AI,t)?!0:H_.call(RI,t)?!1:K6.test(t)?AI[t]=!0:(RI[t]=!0,!1)}function q6(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Q6(t,e,n,r){if(e===null||typeof e>"u"||q6(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ar(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kn[t]=new ar(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kn[e]=new ar(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kn[t]=new ar(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kn[t]=new ar(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kn[t]=new ar(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kn[t]=new ar(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kn[t]=new ar(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kn[t]=new ar(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kn[t]=new ar(t,5,!1,t.toLowerCase(),null,!1,!1)});var XE=/[\-:]([a-z])/g;function JE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(XE,JE);kn[e]=new ar(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(XE,JE);kn[e]=new ar(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(XE,JE);kn[e]=new ar(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kn[t]=new ar(t,1,!1,t.toLowerCase(),null,!1,!1)});kn.xlinkHref=new ar("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kn[t]=new ar(t,1,!1,t.toLowerCase(),null,!0,!0)});function ZE(t,e,n,r){var i=kn.hasOwnProperty(e)?kn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Q6(e,n,i,r)&&(n=null),r||i===null?G6(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var oo=H6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nm=Symbol.for("react.element"),ku=Symbol.for("react.portal"),Du=Symbol.for("react.fragment"),e1=Symbol.for("react.strict_mode"),K_=Symbol.for("react.profiler"),zA=Symbol.for("react.provider"),WA=Symbol.for("react.context"),t1=Symbol.for("react.forward_ref"),G_=Symbol.for("react.suspense"),q_=Symbol.for("react.suspense_list"),n1=Symbol.for("react.memo"),Do=Symbol.for("react.lazy"),HA=Symbol.for("react.offscreen"),PI=Symbol.iterator;function Vd(t){return t===null||typeof t!="object"?null:(t=PI&&t[PI]||t["@@iterator"],typeof t=="function"?t:null)}var jt=Object.assign,z0;function Jd(t){if(z0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);z0=e&&e[1]||""}return`
`+z0+t}var W0=!1;function H0(t,e){if(!t||W0)return"";W0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=l);break}}}finally{W0=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Jd(t):""}function Y6(t){switch(t.tag){case 5:return Jd(t.type);case 16:return Jd("Lazy");case 13:return Jd("Suspense");case 19:return Jd("SuspenseList");case 0:case 2:case 15:return t=H0(t.type,!1),t;case 11:return t=H0(t.type.render,!1),t;case 1:return t=H0(t.type,!0),t;default:return""}}function Q_(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Du:return"Fragment";case ku:return"Portal";case K_:return"Profiler";case e1:return"StrictMode";case G_:return"Suspense";case q_:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case WA:return(t.displayName||"Context")+".Consumer";case zA:return(t._context.displayName||"Context")+".Provider";case t1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case n1:return e=t.displayName||null,e!==null?e:Q_(t.type)||"Memo";case Do:e=t._payload,t=t._init;try{return Q_(t(e))}catch{}}return null}function X6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Q_(e);case 8:return e===e1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function KA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function J6(t){var e=KA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function rm(t){t._valueTracker||(t._valueTracker=J6(t))}function GA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=KA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function fg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Y_(t,e){var n=e.checked;return jt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function NI(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=pa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qA(t,e){e=e.checked,e!=null&&ZE(t,"checked",e,!1)}function X_(t,e){qA(t,e);var n=pa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?J_(t,e.type,n):e.hasOwnProperty("defaultValue")&&J_(t,e.type,pa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function kI(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function J_(t,e,n){(e!=="number"||fg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zd=Array.isArray;function Hu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+pa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Z_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return jt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function DI(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ae(92));if(Zd(n)){if(1<n.length)throw Error(ae(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:pa(n)}}function QA(t,e){var n=pa(e.value),r=pa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function OI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function YA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ew(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?YA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var im,XA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(im=im||document.createElement("div"),im.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=im.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function bh(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var dh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Z6=["Webkit","ms","Moz","O"];Object.keys(dh).forEach(function(t){Z6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dh[e]=dh[t]})});function JA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||dh.hasOwnProperty(t)&&dh[t]?(""+e).trim():e+"px"}function ZA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=JA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var e$=jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tw(t,e){if(e){if(e$[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function nw(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rw=null;function r1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var iw=null,Ku=null,Gu=null;function MI(t){if(t=wf(t)){if(typeof iw!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=Cv(e),iw(t.stateNode,t.type,e))}}function eP(t){Ku?Gu?Gu.push(t):Gu=[t]:Ku=t}function tP(){if(Ku){var t=Ku,e=Gu;if(Gu=Ku=null,MI(t),e)for(t=0;t<e.length;t++)MI(e[t])}}function nP(t,e){return t(e)}function rP(){}var K0=!1;function iP(t,e,n){if(K0)return t(e,n);K0=!0;try{return nP(t,e,n)}finally{K0=!1,(Ku!==null||Gu!==null)&&(rP(),tP())}}function Rh(t,e){var n=t.stateNode;if(n===null)return null;var r=Cv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ae(231,e,typeof n));return n}var sw=!1;if(Qs)try{var jd={};Object.defineProperty(jd,"passive",{get:function(){sw=!0}}),window.addEventListener("test",jd,jd),window.removeEventListener("test",jd,jd)}catch{sw=!1}function t$(t,e,n,r,i,s,a,l,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(p){this.onError(p)}}var hh=!1,pg=null,mg=!1,ow=null,n$={onError:function(t){hh=!0,pg=t}};function r$(t,e,n,r,i,s,a,l,c){hh=!1,pg=null,t$.apply(n$,arguments)}function i$(t,e,n,r,i,s,a,l,c){if(r$.apply(this,arguments),hh){if(hh){var h=pg;hh=!1,pg=null}else throw Error(ae(198));mg||(mg=!0,ow=h)}}function zl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function LI(t){if(zl(t)!==t)throw Error(ae(188))}function s$(t){var e=t.alternate;if(!e){if(e=zl(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return LI(i),t;if(s===r)return LI(i),e;s=s.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=s;break}if(l===r){a=!0,r=i,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=i;break}if(l===r){a=!0,r=s,n=i;break}l=l.sibling}if(!a)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?t:e}function oP(t){return t=s$(t),t!==null?aP(t):null}function aP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=aP(t);if(e!==null)return e;t=t.sibling}return null}var lP=$r.unstable_scheduleCallback,FI=$r.unstable_cancelCallback,o$=$r.unstable_shouldYield,a$=$r.unstable_requestPaint,Xt=$r.unstable_now,l$=$r.unstable_getCurrentPriorityLevel,i1=$r.unstable_ImmediatePriority,uP=$r.unstable_UserBlockingPriority,gg=$r.unstable_NormalPriority,u$=$r.unstable_LowPriority,cP=$r.unstable_IdlePriority,xv=null,rs=null;function c$(t){if(rs&&typeof rs.onCommitFiberRoot=="function")try{rs.onCommitFiberRoot(xv,t,void 0,(t.current.flags&128)===128)}catch{}}var ki=Math.clz32?Math.clz32:f$,d$=Math.log,h$=Math.LN2;function f$(t){return t>>>=0,t===0?32:31-(d$(t)/h$|0)|0}var sm=64,om=4194304;function eh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vg(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=eh(l):(s&=a,s!==0&&(r=eh(s)))}else a=n&~i,a!==0?r=eh(a):s!==0&&(r=eh(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ki(e),i=1<<n,r|=t[n],e&=~i;return r}function p$(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m$(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ki(s),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=p$(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function aw(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dP(){var t=sm;return sm<<=1,!(sm&4194240)&&(sm=64),t}function G0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ki(e),t[e]=n}function g$(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ki(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function s1(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ki(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Tt=0;function hP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fP,o1,pP,mP,gP,lw=!1,am=[],ea=null,ta=null,na=null,Ah=new Map,Ph=new Map,Mo=[],v$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function VI(t,e){switch(t){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":Ah.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ph.delete(e.pointerId)}}function Ud(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=wf(e),e!==null&&o1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function y$(t,e,n,r,i){switch(e){case"focusin":return ea=Ud(ea,t,e,n,r,i),!0;case"dragenter":return ta=Ud(ta,t,e,n,r,i),!0;case"mouseover":return na=Ud(na,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ah.set(s,Ud(Ah.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ph.set(s,Ud(Ph.get(s)||null,t,e,n,r,i)),!0}return!1}function vP(t){var e=fl(t.target);if(e!==null){var n=zl(e);if(n!==null){if(e=n.tag,e===13){if(e=sP(n),e!==null){t.blockedOn=e,gP(t.priority,function(){pP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=uw(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);rw=r,n.target.dispatchEvent(r),rw=null}else return e=wf(n),e!==null&&o1(e),t.blockedOn=n,!1;e.shift()}return!0}function jI(t,e,n){Vm(t)&&n.delete(e)}function _$(){lw=!1,ea!==null&&Vm(ea)&&(ea=null),ta!==null&&Vm(ta)&&(ta=null),na!==null&&Vm(na)&&(na=null),Ah.forEach(jI),Ph.forEach(jI)}function $d(t,e){t.blockedOn===e&&(t.blockedOn=null,lw||(lw=!0,$r.unstable_scheduleCallback($r.unstable_NormalPriority,_$)))}function Nh(t){function e(i){return $d(i,t)}if(0<am.length){$d(am[0],t);for(var n=1;n<am.length;n++){var r=am[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ea!==null&&$d(ea,t),ta!==null&&$d(ta,t),na!==null&&$d(na,t),Ah.forEach(e),Ph.forEach(e),n=0;n<Mo.length;n++)r=Mo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mo.length&&(n=Mo[0],n.blockedOn===null);)vP(n),n.blockedOn===null&&Mo.shift()}var qu=oo.ReactCurrentBatchConfig,yg=!0;function w$(t,e,n,r){var i=Tt,s=qu.transition;qu.transition=null;try{Tt=1,a1(t,e,n,r)}finally{Tt=i,qu.transition=s}}function E$(t,e,n,r){var i=Tt,s=qu.transition;qu.transition=null;try{Tt=4,a1(t,e,n,r)}finally{Tt=i,qu.transition=s}}function a1(t,e,n,r){if(yg){var i=uw(t,e,n,r);if(i===null)r_(t,e,r,_g,n),VI(t,r);else if(y$(i,t,e,n,r))r.stopPropagation();else if(VI(t,r),e&4&&-1<v$.indexOf(t)){for(;i!==null;){var s=wf(i);if(s!==null&&fP(s),s=uw(t,e,n,r),s===null&&r_(t,e,r,_g,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else r_(t,e,r,null,n)}}var _g=null;function uw(t,e,n,r){if(_g=null,t=r1(r),t=fl(t),t!==null)if(e=zl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _g=t,null}function yP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(l$()){case i1:return 1;case uP:return 4;case gg:case u$:return 16;case cP:return 536870912;default:return 16}default:return 16}}var Yo=null,l1=null,jm=null;function _P(){if(jm)return jm;var t,e=l1,n=e.length,r,i="value"in Yo?Yo.value:Yo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return jm=i.slice(t,1<r?1-r:void 0)}function Um(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function lm(){return!0}function UI(){return!1}function zr(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lm:UI,this.isPropagationStopped=UI,this}return jt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=lm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=lm)},persist:function(){},isPersistent:lm}),e}var Uc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},u1=zr(Uc),_f=jt({},Uc,{view:0,detail:0}),x$=zr(_f),q0,Q0,Bd,Tv=jt({},_f,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bd&&(Bd&&t.type==="mousemove"?(q0=t.screenX-Bd.screenX,Q0=t.screenY-Bd.screenY):Q0=q0=0,Bd=t),q0)},movementY:function(t){return"movementY"in t?t.movementY:Q0}}),$I=zr(Tv),T$=jt({},Tv,{dataTransfer:0}),S$=zr(T$),I$=jt({},_f,{relatedTarget:0}),Y0=zr(I$),C$=jt({},Uc,{animationName:0,elapsedTime:0,pseudoElement:0}),b$=zr(C$),R$=jt({},Uc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),A$=zr(R$),P$=jt({},Uc,{data:0}),BI=zr(P$),N$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O$(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=D$[t])?!!e[t]:!1}function c1(){return O$}var M$=jt({},_f,{key:function(t){if(t.key){var e=N$[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Um(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?k$[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c1,charCode:function(t){return t.type==="keypress"?Um(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Um(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),L$=zr(M$),F$=jt({},Tv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zI=zr(F$),V$=jt({},_f,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c1}),j$=zr(V$),U$=jt({},Uc,{propertyName:0,elapsedTime:0,pseudoElement:0}),$$=zr(U$),B$=jt({},Tv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),z$=zr(B$),W$=[9,13,27,32],d1=Qs&&"CompositionEvent"in window,fh=null;Qs&&"documentMode"in document&&(fh=document.documentMode);var H$=Qs&&"TextEvent"in window&&!fh,wP=Qs&&(!d1||fh&&8<fh&&11>=fh),WI=" ",HI=!1;function EP(t,e){switch(t){case"keyup":return W$.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ou=!1;function K$(t,e){switch(t){case"compositionend":return xP(e);case"keypress":return e.which!==32?null:(HI=!0,WI);case"textInput":return t=e.data,t===WI&&HI?null:t;default:return null}}function G$(t,e){if(Ou)return t==="compositionend"||!d1&&EP(t,e)?(t=_P(),jm=l1=Yo=null,Ou=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wP&&e.locale!=="ko"?null:e.data;default:return null}}var q$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function KI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!q$[t.type]:e==="textarea"}function TP(t,e,n,r){eP(r),e=wg(e,"onChange"),0<e.length&&(n=new u1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ph=null,kh=null;function Q$(t){OP(t,0)}function Sv(t){var e=Fu(t);if(GA(e))return t}function Y$(t,e){if(t==="change")return e}var SP=!1;if(Qs){var X0;if(Qs){var J0="oninput"in document;if(!J0){var GI=document.createElement("div");GI.setAttribute("oninput","return;"),J0=typeof GI.oninput=="function"}X0=J0}else X0=!1;SP=X0&&(!document.documentMode||9<document.documentMode)}function qI(){ph&&(ph.detachEvent("onpropertychange",IP),kh=ph=null)}function IP(t){if(t.propertyName==="value"&&Sv(kh)){var e=[];TP(e,kh,t,r1(t)),iP(Q$,e)}}function X$(t,e,n){t==="focusin"?(qI(),ph=e,kh=n,ph.attachEvent("onpropertychange",IP)):t==="focusout"&&qI()}function J$(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sv(kh)}function Z$(t,e){if(t==="click")return Sv(e)}function e9(t,e){if(t==="input"||t==="change")return Sv(e)}function t9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mi=typeof Object.is=="function"?Object.is:t9;function Dh(t,e){if(Mi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!H_.call(e,i)||!Mi(t[i],e[i]))return!1}return!0}function QI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function YI(t,e){var n=QI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=QI(n)}}function CP(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CP(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bP(){for(var t=window,e=fg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=fg(t.document)}return e}function h1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function n9(t){var e=bP(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&CP(n.ownerDocument.documentElement,n)){if(r!==null&&h1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=YI(n,s);var a=YI(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var r9=Qs&&"documentMode"in document&&11>=document.documentMode,Mu=null,cw=null,mh=null,dw=!1;function XI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dw||Mu==null||Mu!==fg(r)||(r=Mu,"selectionStart"in r&&h1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mh&&Dh(mh,r)||(mh=r,r=wg(cw,"onSelect"),0<r.length&&(e=new u1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mu)))}function um(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Lu={animationend:um("Animation","AnimationEnd"),animationiteration:um("Animation","AnimationIteration"),animationstart:um("Animation","AnimationStart"),transitionend:um("Transition","TransitionEnd")},Z0={},RP={};Qs&&(RP=document.createElement("div").style,"AnimationEvent"in window||(delete Lu.animationend.animation,delete Lu.animationiteration.animation,delete Lu.animationstart.animation),"TransitionEvent"in window||delete Lu.transitionend.transition);function Iv(t){if(Z0[t])return Z0[t];if(!Lu[t])return t;var e=Lu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in RP)return Z0[t]=e[n];return t}var AP=Iv("animationend"),PP=Iv("animationiteration"),NP=Iv("animationstart"),kP=Iv("transitionend"),DP=new Map,JI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ra(t,e){DP.set(t,e),Bl(e,[t])}for(var e_=0;e_<JI.length;e_++){var t_=JI[e_],i9=t_.toLowerCase(),s9=t_[0].toUpperCase()+t_.slice(1);Ra(i9,"on"+s9)}Ra(AP,"onAnimationEnd");Ra(PP,"onAnimationIteration");Ra(NP,"onAnimationStart");Ra("dblclick","onDoubleClick");Ra("focusin","onFocus");Ra("focusout","onBlur");Ra(kP,"onTransitionEnd");yc("onMouseEnter",["mouseout","mouseover"]);yc("onMouseLeave",["mouseout","mouseover"]);yc("onPointerEnter",["pointerout","pointerover"]);yc("onPointerLeave",["pointerout","pointerover"]);Bl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var th="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),o9=new Set("cancel close invalid load scroll toggle".split(" ").concat(th));function ZI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,i$(r,e,void 0,t),t.currentTarget=null}function OP(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;ZI(i,l,h),s=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;ZI(i,l,h),s=c}}}if(mg)throw t=ow,mg=!1,ow=null,t}function Pt(t,e){var n=e[gw];n===void 0&&(n=e[gw]=new Set);var r=t+"__bubble";n.has(r)||(MP(e,t,2,!1),n.add(r))}function n_(t,e,n){var r=0;e&&(r|=4),MP(n,t,r,e)}var cm="_reactListening"+Math.random().toString(36).slice(2);function Oh(t){if(!t[cm]){t[cm]=!0,BA.forEach(function(n){n!=="selectionchange"&&(o9.has(n)||n_(n,!1,t),n_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[cm]||(e[cm]=!0,n_("selectionchange",!1,e))}}function MP(t,e,n,r){switch(yP(e)){case 1:var i=w$;break;case 4:i=E$;break;default:i=a1}n=i.bind(null,e,n,t),i=void 0,!sw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function r_(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=fl(l),a===null)return;if(c=a.tag,c===5||c===6){r=s=a;continue e}l=l.parentNode}}r=r.return}iP(function(){var h=s,p=r1(n),m=[];e:{var g=DP.get(t);if(g!==void 0){var x=u1,I=t;switch(t){case"keypress":if(Um(n)===0)break e;case"keydown":case"keyup":x=L$;break;case"focusin":I="focus",x=Y0;break;case"focusout":I="blur",x=Y0;break;case"beforeblur":case"afterblur":x=Y0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=$I;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=S$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=j$;break;case AP:case PP:case NP:x=b$;break;case kP:x=$$;break;case"scroll":x=x$;break;case"wheel":x=z$;break;case"copy":case"cut":case"paste":x=A$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=zI}var E=(e&4)!==0,b=!E&&t==="scroll",C=E?g!==null?g+"Capture":null:g;E=[];for(var T=h,R;T!==null;){R=T;var V=R.stateNode;if(R.tag===5&&V!==null&&(R=V,C!==null&&(V=Rh(T,C),V!=null&&E.push(Mh(T,V,R)))),b)break;T=T.return}0<E.length&&(g=new x(g,I,null,n,p),m.push({event:g,listeners:E}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",g&&n!==rw&&(I=n.relatedTarget||n.fromElement)&&(fl(I)||I[Ys]))break e;if((x||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,x?(I=n.relatedTarget||n.toElement,x=h,I=I?fl(I):null,I!==null&&(b=zl(I),I!==b||I.tag!==5&&I.tag!==6)&&(I=null)):(x=null,I=h),x!==I)){if(E=$I,V="onMouseLeave",C="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(E=zI,V="onPointerLeave",C="onPointerEnter",T="pointer"),b=x==null?g:Fu(x),R=I==null?g:Fu(I),g=new E(V,T+"leave",x,n,p),g.target=b,g.relatedTarget=R,V=null,fl(p)===h&&(E=new E(C,T+"enter",I,n,p),E.target=R,E.relatedTarget=b,V=E),b=V,x&&I)t:{for(E=x,C=I,T=0,R=E;R;R=Tu(R))T++;for(R=0,V=C;V;V=Tu(V))R++;for(;0<T-R;)E=Tu(E),T--;for(;0<R-T;)C=Tu(C),R--;for(;T--;){if(E===C||C!==null&&E===C.alternate)break t;E=Tu(E),C=Tu(C)}E=null}else E=null;x!==null&&eC(m,g,x,E,!1),I!==null&&b!==null&&eC(m,b,I,E,!0)}}e:{if(g=h?Fu(h):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var U=Y$;else if(KI(g))if(SP)U=e9;else{U=J$;var z=X$}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(U=Z$);if(U&&(U=U(t,h))){TP(m,U,n,p);break e}z&&z(t,g,h),t==="focusout"&&(z=g._wrapperState)&&z.controlled&&g.type==="number"&&J_(g,"number",g.value)}switch(z=h?Fu(h):window,t){case"focusin":(KI(z)||z.contentEditable==="true")&&(Mu=z,cw=h,mh=null);break;case"focusout":mh=cw=Mu=null;break;case"mousedown":dw=!0;break;case"contextmenu":case"mouseup":case"dragend":dw=!1,XI(m,n,p);break;case"selectionchange":if(r9)break;case"keydown":case"keyup":XI(m,n,p)}var N;if(d1)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Ou?EP(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(wP&&n.locale!=="ko"&&(Ou||A!=="onCompositionStart"?A==="onCompositionEnd"&&Ou&&(N=_P()):(Yo=p,l1="value"in Yo?Yo.value:Yo.textContent,Ou=!0)),z=wg(h,A),0<z.length&&(A=new BI(A,t,null,n,p),m.push({event:A,listeners:z}),N?A.data=N:(N=xP(n),N!==null&&(A.data=N)))),(N=H$?K$(t,n):G$(t,n))&&(h=wg(h,"onBeforeInput"),0<h.length&&(p=new BI("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:h}),p.data=N))}OP(m,e)})}function Mh(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wg(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Rh(t,n),s!=null&&r.unshift(Mh(t,s,i)),s=Rh(t,e),s!=null&&r.push(Mh(t,s,i))),t=t.return}return r}function Tu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function eC(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,h=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&h!==null&&(l=h,i?(c=Rh(n,s),c!=null&&a.unshift(Mh(n,c,l))):i||(c=Rh(n,s),c!=null&&a.push(Mh(n,c,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var a9=/\r\n?/g,l9=/\u0000|\uFFFD/g;function tC(t){return(typeof t=="string"?t:""+t).replace(a9,`
`).replace(l9,"")}function dm(t,e,n){if(e=tC(e),tC(t)!==e&&n)throw Error(ae(425))}function Eg(){}var hw=null,fw=null;function pw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mw=typeof setTimeout=="function"?setTimeout:void 0,u9=typeof clearTimeout=="function"?clearTimeout:void 0,nC=typeof Promise=="function"?Promise:void 0,c9=typeof queueMicrotask=="function"?queueMicrotask:typeof nC<"u"?function(t){return nC.resolve(null).then(t).catch(d9)}:mw;function d9(t){setTimeout(function(){throw t})}function i_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Nh(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Nh(e)}function ra(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rC(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $c=Math.random().toString(36).slice(2),ts="__reactFiber$"+$c,Lh="__reactProps$"+$c,Ys="__reactContainer$"+$c,gw="__reactEvents$"+$c,h9="__reactListeners$"+$c,f9="__reactHandles$"+$c;function fl(t){var e=t[ts];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ys]||n[ts]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=rC(t);t!==null;){if(n=t[ts])return n;t=rC(t)}return e}t=n,n=t.parentNode}return null}function wf(t){return t=t[ts]||t[Ys],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function Cv(t){return t[Lh]||null}var vw=[],Vu=-1;function Aa(t){return{current:t}}function Nt(t){0>Vu||(t.current=vw[Vu],vw[Vu]=null,Vu--)}function Rt(t,e){Vu++,vw[Vu]=t.current,t.current=e}var ma={},Yn=Aa(ma),xr=Aa(!1),Cl=ma;function _c(t,e){var n=t.type.contextTypes;if(!n)return ma;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Tr(t){return t=t.childContextTypes,t!=null}function xg(){Nt(xr),Nt(Yn)}function iC(t,e,n){if(Yn.current!==ma)throw Error(ae(168));Rt(Yn,e),Rt(xr,n)}function LP(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ae(108,X6(t)||"Unknown",i));return jt({},n,r)}function Tg(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ma,Cl=Yn.current,Rt(Yn,t),Rt(xr,xr.current),!0}function sC(t,e,n){var r=t.stateNode;if(!r)throw Error(ae(169));n?(t=LP(t,e,Cl),r.__reactInternalMemoizedMergedChildContext=t,Nt(xr),Nt(Yn),Rt(Yn,t)):Nt(xr),Rt(xr,n)}var Us=null,bv=!1,s_=!1;function FP(t){Us===null?Us=[t]:Us.push(t)}function p9(t){bv=!0,FP(t)}function Pa(){if(!s_&&Us!==null){s_=!0;var t=0,e=Tt;try{var n=Us;for(Tt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Us=null,bv=!1}catch(i){throw Us!==null&&(Us=Us.slice(t+1)),lP(i1,Pa),i}finally{Tt=e,s_=!1}}return null}var ju=[],Uu=0,Sg=null,Ig=0,ii=[],si=0,bl=null,Bs=1,zs="";function ul(t,e){ju[Uu++]=Ig,ju[Uu++]=Sg,Sg=t,Ig=e}function VP(t,e,n){ii[si++]=Bs,ii[si++]=zs,ii[si++]=bl,bl=t;var r=Bs;t=zs;var i=32-ki(r)-1;r&=~(1<<i),n+=1;var s=32-ki(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Bs=1<<32-ki(e)+i|n<<i|r,zs=s+t}else Bs=1<<s|n<<i|r,zs=t}function f1(t){t.return!==null&&(ul(t,1),VP(t,1,0))}function p1(t){for(;t===Sg;)Sg=ju[--Uu],ju[Uu]=null,Ig=ju[--Uu],ju[Uu]=null;for(;t===bl;)bl=ii[--si],ii[si]=null,zs=ii[--si],ii[si]=null,Bs=ii[--si],ii[si]=null}var jr=null,Fr=null,Ot=!1,bi=null;function jP(t,e){var n=ai(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function oC(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jr=t,Fr=ra(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jr=t,Fr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bl!==null?{id:Bs,overflow:zs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ai(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jr=t,Fr=null,!0):!1;default:return!1}}function yw(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _w(t){if(Ot){var e=Fr;if(e){var n=e;if(!oC(t,e)){if(yw(t))throw Error(ae(418));e=ra(n.nextSibling);var r=jr;e&&oC(t,e)?jP(r,n):(t.flags=t.flags&-4097|2,Ot=!1,jr=t)}}else{if(yw(t))throw Error(ae(418));t.flags=t.flags&-4097|2,Ot=!1,jr=t}}}function aC(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jr=t}function hm(t){if(t!==jr)return!1;if(!Ot)return aC(t),Ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pw(t.type,t.memoizedProps)),e&&(e=Fr)){if(yw(t))throw UP(),Error(ae(418));for(;e;)jP(t,e),e=ra(e.nextSibling)}if(aC(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fr=ra(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fr=null}}else Fr=jr?ra(t.stateNode.nextSibling):null;return!0}function UP(){for(var t=Fr;t;)t=ra(t.nextSibling)}function wc(){Fr=jr=null,Ot=!1}function m1(t){bi===null?bi=[t]:bi.push(t)}var m9=oo.ReactCurrentBatchConfig;function zd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,t))}return t}function fm(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lC(t){var e=t._init;return e(t._payload)}function $P(t){function e(C,T){if(t){var R=C.deletions;R===null?(C.deletions=[T],C.flags|=16):R.push(T)}}function n(C,T){if(!t)return null;for(;T!==null;)e(C,T),T=T.sibling;return null}function r(C,T){for(C=new Map;T!==null;)T.key!==null?C.set(T.key,T):C.set(T.index,T),T=T.sibling;return C}function i(C,T){return C=aa(C,T),C.index=0,C.sibling=null,C}function s(C,T,R){return C.index=R,t?(R=C.alternate,R!==null?(R=R.index,R<T?(C.flags|=2,T):R):(C.flags|=2,T)):(C.flags|=1048576,T)}function a(C){return t&&C.alternate===null&&(C.flags|=2),C}function l(C,T,R,V){return T===null||T.tag!==6?(T=h_(R,C.mode,V),T.return=C,T):(T=i(T,R),T.return=C,T)}function c(C,T,R,V){var U=R.type;return U===Du?p(C,T,R.props.children,V,R.key):T!==null&&(T.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Do&&lC(U)===T.type)?(V=i(T,R.props),V.ref=zd(C,T,R),V.return=C,V):(V=Gm(R.type,R.key,R.props,null,C.mode,V),V.ref=zd(C,T,R),V.return=C,V)}function h(C,T,R,V){return T===null||T.tag!==4||T.stateNode.containerInfo!==R.containerInfo||T.stateNode.implementation!==R.implementation?(T=f_(R,C.mode,V),T.return=C,T):(T=i(T,R.children||[]),T.return=C,T)}function p(C,T,R,V,U){return T===null||T.tag!==7?(T=Il(R,C.mode,V,U),T.return=C,T):(T=i(T,R),T.return=C,T)}function m(C,T,R){if(typeof T=="string"&&T!==""||typeof T=="number")return T=h_(""+T,C.mode,R),T.return=C,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case nm:return R=Gm(T.type,T.key,T.props,null,C.mode,R),R.ref=zd(C,null,T),R.return=C,R;case ku:return T=f_(T,C.mode,R),T.return=C,T;case Do:var V=T._init;return m(C,V(T._payload),R)}if(Zd(T)||Vd(T))return T=Il(T,C.mode,R,null),T.return=C,T;fm(C,T)}return null}function g(C,T,R,V){var U=T!==null?T.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return U!==null?null:l(C,T,""+R,V);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case nm:return R.key===U?c(C,T,R,V):null;case ku:return R.key===U?h(C,T,R,V):null;case Do:return U=R._init,g(C,T,U(R._payload),V)}if(Zd(R)||Vd(R))return U!==null?null:p(C,T,R,V,null);fm(C,R)}return null}function x(C,T,R,V,U){if(typeof V=="string"&&V!==""||typeof V=="number")return C=C.get(R)||null,l(T,C,""+V,U);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case nm:return C=C.get(V.key===null?R:V.key)||null,c(T,C,V,U);case ku:return C=C.get(V.key===null?R:V.key)||null,h(T,C,V,U);case Do:var z=V._init;return x(C,T,R,z(V._payload),U)}if(Zd(V)||Vd(V))return C=C.get(R)||null,p(T,C,V,U,null);fm(T,V)}return null}function I(C,T,R,V){for(var U=null,z=null,N=T,A=T=0,k=null;N!==null&&A<R.length;A++){N.index>A?(k=N,N=null):k=N.sibling;var L=g(C,N,R[A],V);if(L===null){N===null&&(N=k);break}t&&N&&L.alternate===null&&e(C,N),T=s(L,T,A),z===null?U=L:z.sibling=L,z=L,N=k}if(A===R.length)return n(C,N),Ot&&ul(C,A),U;if(N===null){for(;A<R.length;A++)N=m(C,R[A],V),N!==null&&(T=s(N,T,A),z===null?U=N:z.sibling=N,z=N);return Ot&&ul(C,A),U}for(N=r(C,N);A<R.length;A++)k=x(N,C,A,R[A],V),k!==null&&(t&&k.alternate!==null&&N.delete(k.key===null?A:k.key),T=s(k,T,A),z===null?U=k:z.sibling=k,z=k);return t&&N.forEach(function($){return e(C,$)}),Ot&&ul(C,A),U}function E(C,T,R,V){var U=Vd(R);if(typeof U!="function")throw Error(ae(150));if(R=U.call(R),R==null)throw Error(ae(151));for(var z=U=null,N=T,A=T=0,k=null,L=R.next();N!==null&&!L.done;A++,L=R.next()){N.index>A?(k=N,N=null):k=N.sibling;var $=g(C,N,L.value,V);if($===null){N===null&&(N=k);break}t&&N&&$.alternate===null&&e(C,N),T=s($,T,A),z===null?U=$:z.sibling=$,z=$,N=k}if(L.done)return n(C,N),Ot&&ul(C,A),U;if(N===null){for(;!L.done;A++,L=R.next())L=m(C,L.value,V),L!==null&&(T=s(L,T,A),z===null?U=L:z.sibling=L,z=L);return Ot&&ul(C,A),U}for(N=r(C,N);!L.done;A++,L=R.next())L=x(N,C,A,L.value,V),L!==null&&(t&&L.alternate!==null&&N.delete(L.key===null?A:L.key),T=s(L,T,A),z===null?U=L:z.sibling=L,z=L);return t&&N.forEach(function(j){return e(C,j)}),Ot&&ul(C,A),U}function b(C,T,R,V){if(typeof R=="object"&&R!==null&&R.type===Du&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case nm:e:{for(var U=R.key,z=T;z!==null;){if(z.key===U){if(U=R.type,U===Du){if(z.tag===7){n(C,z.sibling),T=i(z,R.props.children),T.return=C,C=T;break e}}else if(z.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Do&&lC(U)===z.type){n(C,z.sibling),T=i(z,R.props),T.ref=zd(C,z,R),T.return=C,C=T;break e}n(C,z);break}else e(C,z);z=z.sibling}R.type===Du?(T=Il(R.props.children,C.mode,V,R.key),T.return=C,C=T):(V=Gm(R.type,R.key,R.props,null,C.mode,V),V.ref=zd(C,T,R),V.return=C,C=V)}return a(C);case ku:e:{for(z=R.key;T!==null;){if(T.key===z)if(T.tag===4&&T.stateNode.containerInfo===R.containerInfo&&T.stateNode.implementation===R.implementation){n(C,T.sibling),T=i(T,R.children||[]),T.return=C,C=T;break e}else{n(C,T);break}else e(C,T);T=T.sibling}T=f_(R,C.mode,V),T.return=C,C=T}return a(C);case Do:return z=R._init,b(C,T,z(R._payload),V)}if(Zd(R))return I(C,T,R,V);if(Vd(R))return E(C,T,R,V);fm(C,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,T!==null&&T.tag===6?(n(C,T.sibling),T=i(T,R),T.return=C,C=T):(n(C,T),T=h_(R,C.mode,V),T.return=C,C=T),a(C)):n(C,T)}return b}var Ec=$P(!0),BP=$P(!1),Cg=Aa(null),bg=null,$u=null,g1=null;function v1(){g1=$u=bg=null}function y1(t){var e=Cg.current;Nt(Cg),t._currentValue=e}function ww(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qu(t,e){bg=t,g1=$u=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Er=!0),t.firstContext=null)}function ci(t){var e=t._currentValue;if(g1!==t)if(t={context:t,memoizedValue:e,next:null},$u===null){if(bg===null)throw Error(ae(308));$u=t,bg.dependencies={lanes:0,firstContext:t}}else $u=$u.next=t;return e}var pl=null;function _1(t){pl===null?pl=[t]:pl.push(t)}function zP(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,_1(e)):(n.next=i.next,i.next=n),e.interleaved=n,Xs(t,r)}function Xs(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Oo=!1;function w1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WP(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ks(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ia(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,lt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Xs(t,n)}return i=r.interleaved,i===null?(e.next=e,_1(r)):(e.next=i.next,i.next=e),r.interleaved=e,Xs(t,n)}function $m(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,s1(t,n)}}function uC(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Rg(t,e,n,r){var i=t.updateQueue;Oo=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,a===null?s=h:a.next=h,a=c;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==a&&(l===null?p.firstBaseUpdate=h:l.next=h,p.lastBaseUpdate=c))}if(s!==null){var m=i.baseState;a=0,p=h=c=null,l=s;do{var g=l.lane,x=l.eventTime;if((r&g)===g){p!==null&&(p=p.next={eventTime:x,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var I=t,E=l;switch(g=e,x=n,E.tag){case 1:if(I=E.payload,typeof I=="function"){m=I.call(x,m,g);break e}m=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=E.payload,g=typeof I=="function"?I.call(x,m,g):I,g==null)break e;m=jt({},m,g);break e;case 2:Oo=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else x={eventTime:x,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(h=p=x,c=m):p=p.next=x,a|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(p===null&&(c=m),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Al|=a,t.lanes=a,t.memoizedState=m}}function cC(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ae(191,i));i.call(r)}}}var Ef={},is=Aa(Ef),Fh=Aa(Ef),Vh=Aa(Ef);function ml(t){if(t===Ef)throw Error(ae(174));return t}function E1(t,e){switch(Rt(Vh,e),Rt(Fh,t),Rt(is,Ef),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ew(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ew(e,t)}Nt(is),Rt(is,e)}function xc(){Nt(is),Nt(Fh),Nt(Vh)}function HP(t){ml(Vh.current);var e=ml(is.current),n=ew(e,t.type);e!==n&&(Rt(Fh,t),Rt(is,n))}function x1(t){Fh.current===t&&(Nt(is),Nt(Fh))}var Ft=Aa(0);function Ag(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var o_=[];function T1(){for(var t=0;t<o_.length;t++)o_[t]._workInProgressVersionPrimary=null;o_.length=0}var Bm=oo.ReactCurrentDispatcher,a_=oo.ReactCurrentBatchConfig,Rl=0,Vt=null,un=null,_n=null,Pg=!1,gh=!1,jh=0,g9=0;function Bn(){throw Error(ae(321))}function S1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mi(t[n],e[n]))return!1;return!0}function I1(t,e,n,r,i,s){if(Rl=s,Vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bm.current=t===null||t.memoizedState===null?w9:E9,t=n(r,i),gh){s=0;do{if(gh=!1,jh=0,25<=s)throw Error(ae(301));s+=1,_n=un=null,e.updateQueue=null,Bm.current=x9,t=n(r,i)}while(gh)}if(Bm.current=Ng,e=un!==null&&un.next!==null,Rl=0,_n=un=Vt=null,Pg=!1,e)throw Error(ae(300));return t}function C1(){var t=jh!==0;return jh=0,t}function Qi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?Vt.memoizedState=_n=t:_n=_n.next=t,_n}function di(){if(un===null){var t=Vt.alternate;t=t!==null?t.memoizedState:null}else t=un.next;var e=_n===null?Vt.memoizedState:_n.next;if(e!==null)_n=e,un=t;else{if(t===null)throw Error(ae(310));un=t,t={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},_n===null?Vt.memoizedState=_n=t:_n=_n.next=t}return _n}function Uh(t,e){return typeof e=="function"?e(t):e}function l_(t){var e=di(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=un,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=a=null,c=null,h=s;do{var p=h.lane;if((Rl&p)===p)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var m={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=m,a=r):c=c.next=m,Vt.lanes|=p,Al|=p}h=h.next}while(h!==null&&h!==s);c===null?a=r:c.next=l,Mi(r,e.memoizedState)||(Er=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Vt.lanes|=s,Al|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function u_(t){var e=di(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Mi(s,e.memoizedState)||(Er=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function KP(){}function GP(t,e){var n=Vt,r=di(),i=e(),s=!Mi(r.memoizedState,i);if(s&&(r.memoizedState=i,Er=!0),r=r.queue,b1(YP.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||_n!==null&&_n.memoizedState.tag&1){if(n.flags|=2048,$h(9,QP.bind(null,n,r,i,e),void 0,null),En===null)throw Error(ae(349));Rl&30||qP(n,e,i)}return i}function qP(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Vt.updateQueue,e===null?(e={lastEffect:null,stores:null},Vt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function QP(t,e,n,r){e.value=n,e.getSnapshot=r,XP(e)&&JP(t)}function YP(t,e,n){return n(function(){XP(e)&&JP(t)})}function XP(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mi(t,n)}catch{return!0}}function JP(t){var e=Xs(t,1);e!==null&&Di(e,t,1,-1)}function dC(t){var e=Qi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uh,lastRenderedState:t},e.queue=t,t=t.dispatch=_9.bind(null,Vt,t),[e.memoizedState,t]}function $h(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Vt.updateQueue,e===null?(e={lastEffect:null,stores:null},Vt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ZP(){return di().memoizedState}function zm(t,e,n,r){var i=Qi();Vt.flags|=t,i.memoizedState=$h(1|e,n,void 0,r===void 0?null:r)}function Rv(t,e,n,r){var i=di();r=r===void 0?null:r;var s=void 0;if(un!==null){var a=un.memoizedState;if(s=a.destroy,r!==null&&S1(r,a.deps)){i.memoizedState=$h(e,n,s,r);return}}Vt.flags|=t,i.memoizedState=$h(1|e,n,s,r)}function hC(t,e){return zm(8390656,8,t,e)}function b1(t,e){return Rv(2048,8,t,e)}function eN(t,e){return Rv(4,2,t,e)}function tN(t,e){return Rv(4,4,t,e)}function nN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rN(t,e,n){return n=n!=null?n.concat([t]):null,Rv(4,4,nN.bind(null,e,t),n)}function R1(){}function iN(t,e){var n=di();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&S1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sN(t,e){var n=di();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&S1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function oN(t,e,n){return Rl&21?(Mi(n,e)||(n=dP(),Vt.lanes|=n,Al|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Er=!0),t.memoizedState=n)}function v9(t,e){var n=Tt;Tt=n!==0&&4>n?n:4,t(!0);var r=a_.transition;a_.transition={};try{t(!1),e()}finally{Tt=n,a_.transition=r}}function aN(){return di().memoizedState}function y9(t,e,n){var r=oa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lN(t))uN(e,n);else if(n=zP(t,e,n,r),n!==null){var i=sr();Di(n,t,r,i),cN(n,e,r)}}function _9(t,e,n){var r=oa(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lN(t))uN(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,n);if(i.hasEagerState=!0,i.eagerState=l,Mi(l,a)){var c=e.interleaved;c===null?(i.next=i,_1(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=zP(t,e,i,r),n!==null&&(i=sr(),Di(n,t,r,i),cN(n,e,r))}}function lN(t){var e=t.alternate;return t===Vt||e!==null&&e===Vt}function uN(t,e){gh=Pg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function cN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,s1(t,n)}}var Ng={readContext:ci,useCallback:Bn,useContext:Bn,useEffect:Bn,useImperativeHandle:Bn,useInsertionEffect:Bn,useLayoutEffect:Bn,useMemo:Bn,useReducer:Bn,useRef:Bn,useState:Bn,useDebugValue:Bn,useDeferredValue:Bn,useTransition:Bn,useMutableSource:Bn,useSyncExternalStore:Bn,useId:Bn,unstable_isNewReconciler:!1},w9={readContext:ci,useCallback:function(t,e){return Qi().memoizedState=[t,e===void 0?null:e],t},useContext:ci,useEffect:hC,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zm(4194308,4,nN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zm(4194308,4,t,e)},useInsertionEffect:function(t,e){return zm(4,2,t,e)},useMemo:function(t,e){var n=Qi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=y9.bind(null,Vt,t),[r.memoizedState,t]},useRef:function(t){var e=Qi();return t={current:t},e.memoizedState=t},useState:dC,useDebugValue:R1,useDeferredValue:function(t){return Qi().memoizedState=t},useTransition:function(){var t=dC(!1),e=t[0];return t=v9.bind(null,t[1]),Qi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Vt,i=Qi();if(Ot){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=e(),En===null)throw Error(ae(349));Rl&30||qP(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,hC(YP.bind(null,r,s,t),[t]),r.flags|=2048,$h(9,QP.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Qi(),e=En.identifierPrefix;if(Ot){var n=zs,r=Bs;n=(r&~(1<<32-ki(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=jh++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=g9++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},E9={readContext:ci,useCallback:iN,useContext:ci,useEffect:b1,useImperativeHandle:rN,useInsertionEffect:eN,useLayoutEffect:tN,useMemo:sN,useReducer:l_,useRef:ZP,useState:function(){return l_(Uh)},useDebugValue:R1,useDeferredValue:function(t){var e=di();return oN(e,un.memoizedState,t)},useTransition:function(){var t=l_(Uh)[0],e=di().memoizedState;return[t,e]},useMutableSource:KP,useSyncExternalStore:GP,useId:aN,unstable_isNewReconciler:!1},x9={readContext:ci,useCallback:iN,useContext:ci,useEffect:b1,useImperativeHandle:rN,useInsertionEffect:eN,useLayoutEffect:tN,useMemo:sN,useReducer:u_,useRef:ZP,useState:function(){return u_(Uh)},useDebugValue:R1,useDeferredValue:function(t){var e=di();return un===null?e.memoizedState=t:oN(e,un.memoizedState,t)},useTransition:function(){var t=u_(Uh)[0],e=di().memoizedState;return[t,e]},useMutableSource:KP,useSyncExternalStore:GP,useId:aN,unstable_isNewReconciler:!1};function Si(t,e){if(t&&t.defaultProps){e=jt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ew(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:jt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Av={isMounted:function(t){return(t=t._reactInternals)?zl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=sr(),i=oa(t),s=Ks(r,i);s.payload=e,n!=null&&(s.callback=n),e=ia(t,s,i),e!==null&&(Di(e,t,i,r),$m(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=sr(),i=oa(t),s=Ks(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ia(t,s,i),e!==null&&(Di(e,t,i,r),$m(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=sr(),r=oa(t),i=Ks(n,r);i.tag=2,e!=null&&(i.callback=e),e=ia(t,i,r),e!==null&&(Di(e,t,r,n),$m(e,t,r))}};function fC(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Dh(n,r)||!Dh(i,s):!0}function dN(t,e,n){var r=!1,i=ma,s=e.contextType;return typeof s=="object"&&s!==null?s=ci(s):(i=Tr(e)?Cl:Yn.current,r=e.contextTypes,s=(r=r!=null)?_c(t,i):ma),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Av,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function pC(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Av.enqueueReplaceState(e,e.state,null)}function xw(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},w1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ci(s):(s=Tr(e)?Cl:Yn.current,i.context=_c(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ew(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Av.enqueueReplaceState(i,i.state,null),Rg(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Tc(t,e){try{var n="",r=e;do n+=Y6(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function c_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Tw(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var T9=typeof WeakMap=="function"?WeakMap:Map;function hN(t,e,n){n=Ks(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Dg||(Dg=!0,Dw=r),Tw(t,e)},n}function fN(t,e,n){n=Ks(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Tw(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Tw(t,e),typeof r!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function mC(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new T9;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=F9.bind(null,t,e,n),e.then(t,t))}function gC(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vC(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ks(-1,1),e.tag=2,ia(n,e,1))),n.lanes|=1),t)}var S9=oo.ReactCurrentOwner,Er=!1;function ir(t,e,n,r){e.child=t===null?BP(e,null,n,r):Ec(e,t.child,n,r)}function yC(t,e,n,r,i){n=n.render;var s=e.ref;return Qu(e,i),r=I1(t,e,n,r,s,i),n=C1(),t!==null&&!Er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Js(t,e,i)):(Ot&&n&&f1(e),e.flags|=1,ir(t,e,r,i),e.child)}function _C(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!L1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,pN(t,e,s,r,i)):(t=Gm(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Dh,n(a,r)&&t.ref===e.ref)return Js(t,e,i)}return e.flags|=1,t=aa(s,r),t.ref=e.ref,t.return=e,e.child=t}function pN(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Dh(s,r)&&t.ref===e.ref)if(Er=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Er=!0);else return e.lanes=t.lanes,Js(t,e,i)}return Sw(t,e,n,r,i)}function mN(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(zu,Or),Or|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Rt(zu,Or),Or|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Rt(zu,Or),Or|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Rt(zu,Or),Or|=r;return ir(t,e,i,n),e.child}function gN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Sw(t,e,n,r,i){var s=Tr(n)?Cl:Yn.current;return s=_c(e,s),Qu(e,i),n=I1(t,e,n,r,s,i),r=C1(),t!==null&&!Er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Js(t,e,i)):(Ot&&r&&f1(e),e.flags|=1,ir(t,e,n,i),e.child)}function wC(t,e,n,r,i){if(Tr(n)){var s=!0;Tg(e)}else s=!1;if(Qu(e,i),e.stateNode===null)Wm(t,e),dN(e,n,r),xw(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=ci(h):(h=Tr(n)?Cl:Yn.current,h=_c(e,h));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==h)&&pC(e,a,r,h),Oo=!1;var g=e.memoizedState;a.state=g,Rg(e,r,a,i),c=e.memoizedState,l!==r||g!==c||xr.current||Oo?(typeof p=="function"&&(Ew(e,n,p,r),c=e.memoizedState),(l=Oo||fC(e,n,l,r,g,c,h))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,WP(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:Si(e.type,l),a.props=h,m=e.pendingProps,g=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=ci(c):(c=Tr(n)?Cl:Yn.current,c=_c(e,c));var x=n.getDerivedStateFromProps;(p=typeof x=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==m||g!==c)&&pC(e,a,r,c),Oo=!1,g=e.memoizedState,a.state=g,Rg(e,r,a,i);var I=e.memoizedState;l!==m||g!==I||xr.current||Oo?(typeof x=="function"&&(Ew(e,n,x,r),I=e.memoizedState),(h=Oo||fC(e,n,h,r,g,I,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,I,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,I,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),a.props=r,a.state=I,a.context=c,r=h):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Iw(t,e,n,r,s,i)}function Iw(t,e,n,r,i,s){gN(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&sC(e,n,!1),Js(t,e,s);r=e.stateNode,S9.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ec(e,t.child,null,s),e.child=Ec(e,null,l,s)):ir(t,e,l,s),e.memoizedState=r.state,i&&sC(e,n,!0),e.child}function vN(t){var e=t.stateNode;e.pendingContext?iC(t,e.pendingContext,e.pendingContext!==e.context):e.context&&iC(t,e.context,!1),E1(t,e.containerInfo)}function EC(t,e,n,r,i){return wc(),m1(i),e.flags|=256,ir(t,e,n,r),e.child}var Cw={dehydrated:null,treeContext:null,retryLane:0};function bw(t){return{baseLanes:t,cachePool:null,transitions:null}}function yN(t,e,n){var r=e.pendingProps,i=Ft.current,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Rt(Ft,i&1),t===null)return _w(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=kv(a,r,0,null),t=Il(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=bw(n),e.memoizedState=Cw,t):A1(e,a));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return I9(t,e,a,r,l,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=aa(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=aa(l,s):(s=Il(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?bw(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=Cw,r}return s=t.child,t=s.sibling,r=aa(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function A1(t,e){return e=kv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function pm(t,e,n,r){return r!==null&&m1(r),Ec(e,t.child,null,n),t=A1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function I9(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=c_(Error(ae(422))),pm(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=kv({mode:"visible",children:r.children},i,0,null),s=Il(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ec(e,t.child,null,a),e.child.memoizedState=bw(a),e.memoizedState=Cw,s);if(!(e.mode&1))return pm(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(ae(419)),r=c_(s,r,void 0),pm(t,e,a,r)}if(l=(a&t.childLanes)!==0,Er||l){if(r=En,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Xs(t,i),Di(r,t,i,-1))}return M1(),r=c_(Error(ae(421))),pm(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=V9.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Fr=ra(i.nextSibling),jr=e,Ot=!0,bi=null,t!==null&&(ii[si++]=Bs,ii[si++]=zs,ii[si++]=bl,Bs=t.id,zs=t.overflow,bl=e),e=A1(e,r.children),e.flags|=4096,e)}function xC(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ww(t.return,e,n)}function d_(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function _N(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ir(t,e,r.children,n),r=Ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xC(t,n,e);else if(t.tag===19)xC(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Rt(Ft,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ag(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),d_(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ag(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}d_(e,!0,n,null,s);break;case"together":d_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Js(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Al|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,n=aa(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=aa(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function C9(t,e,n){switch(e.tag){case 3:vN(e),wc();break;case 5:HP(e);break;case 1:Tr(e.type)&&Tg(e);break;case 4:E1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Rt(Cg,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Rt(Ft,Ft.current&1),e.flags|=128,null):n&e.child.childLanes?yN(t,e,n):(Rt(Ft,Ft.current&1),t=Js(t,e,n),t!==null?t.sibling:null);Rt(Ft,Ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _N(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Rt(Ft,Ft.current),r)break;return null;case 22:case 23:return e.lanes=0,mN(t,e,n)}return Js(t,e,n)}var wN,Rw,EN,xN;wN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Rw=function(){};EN=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ml(is.current);var s=null;switch(n){case"input":i=Y_(t,i),r=Y_(t,r),s=[];break;case"select":i=jt({},i,{value:void 0}),r=jt({},r,{value:void 0}),s=[];break;case"textarea":i=Z_(t,i),r=Z_(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Eg)}tw(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Ch.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var c=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(s||(s=[]),s.push(h,n)),n=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Ch.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Pt("scroll",t),s||l===c||(s=[])):(s=s||[]).push(h,c))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};xN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wd(t,e){if(!Ot)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function zn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function b9(t,e,n){var r=e.pendingProps;switch(p1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zn(e),null;case 1:return Tr(e.type)&&xg(),zn(e),null;case 3:return r=e.stateNode,xc(),Nt(xr),Nt(Yn),T1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bi!==null&&(Lw(bi),bi=null))),Rw(t,e),zn(e),null;case 5:x1(e);var i=ml(Vh.current);if(n=e.type,t!==null&&e.stateNode!=null)EN(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ae(166));return zn(e),null}if(t=ml(is.current),hm(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ts]=e,r[Lh]=s,t=(e.mode&1)!==0,n){case"dialog":Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":case"embed":Pt("load",r);break;case"video":case"audio":for(i=0;i<th.length;i++)Pt(th[i],r);break;case"source":Pt("error",r);break;case"img":case"image":case"link":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"input":NI(r,s),Pt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Pt("invalid",r);break;case"textarea":DI(r,s),Pt("invalid",r)}tw(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&dm(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&dm(r.textContent,l,t),i=["children",""+l]):Ch.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Pt("scroll",r)}switch(n){case"input":rm(r),kI(r,s,!0);break;case"textarea":rm(r),OI(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Eg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=YA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[ts]=e,t[Lh]=r,wN(t,e,!1,!1),e.stateNode=t;e:{switch(a=nw(n,r),n){case"dialog":Pt("cancel",t),Pt("close",t),i=r;break;case"iframe":case"object":case"embed":Pt("load",t),i=r;break;case"video":case"audio":for(i=0;i<th.length;i++)Pt(th[i],t);i=r;break;case"source":Pt("error",t),i=r;break;case"img":case"image":case"link":Pt("error",t),Pt("load",t),i=r;break;case"details":Pt("toggle",t),i=r;break;case"input":NI(t,r),i=Y_(t,r),Pt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=jt({},r,{value:void 0}),Pt("invalid",t);break;case"textarea":DI(t,r),i=Z_(t,r),Pt("invalid",t);break;default:i=r}tw(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?ZA(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&XA(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&bh(t,c):typeof c=="number"&&bh(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ch.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Pt("scroll",t):c!=null&&ZE(t,s,c,a))}switch(n){case"input":rm(t),kI(t,r,!1);break;case"textarea":rm(t),OI(t);break;case"option":r.value!=null&&t.setAttribute("value",""+pa(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Hu(t,!!r.multiple,s,!1):r.defaultValue!=null&&Hu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Eg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zn(e),null;case 6:if(t&&e.stateNode!=null)xN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ae(166));if(n=ml(Vh.current),ml(is.current),hm(e)){if(r=e.stateNode,n=e.memoizedProps,r[ts]=e,(s=r.nodeValue!==n)&&(t=jr,t!==null))switch(t.tag){case 3:dm(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dm(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ts]=e,e.stateNode=r}return zn(e),null;case 13:if(Nt(Ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ot&&Fr!==null&&e.mode&1&&!(e.flags&128))UP(),wc(),e.flags|=98560,s=!1;else if(s=hm(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ae(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ae(317));s[ts]=e}else wc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zn(e),s=!1}else bi!==null&&(Lw(bi),bi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ft.current&1?hn===0&&(hn=3):M1())),e.updateQueue!==null&&(e.flags|=4),zn(e),null);case 4:return xc(),Rw(t,e),t===null&&Oh(e.stateNode.containerInfo),zn(e),null;case 10:return y1(e.type._context),zn(e),null;case 17:return Tr(e.type)&&xg(),zn(e),null;case 19:if(Nt(Ft),s=e.memoizedState,s===null)return zn(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Wd(s,!1);else{if(hn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ag(t),a!==null){for(e.flags|=128,Wd(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Rt(Ft,Ft.current&1|2),e.child}t=t.sibling}s.tail!==null&&Xt()>Sc&&(e.flags|=128,r=!0,Wd(s,!1),e.lanes=4194304)}else{if(!r)if(t=Ag(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ot)return zn(e),null}else 2*Xt()-s.renderingStartTime>Sc&&n!==1073741824&&(e.flags|=128,r=!0,Wd(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Xt(),e.sibling=null,n=Ft.current,Rt(Ft,r?n&1|2:n&1),e):(zn(e),null);case 22:case 23:return O1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Or&1073741824&&(zn(e),e.subtreeFlags&6&&(e.flags|=8192)):zn(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function R9(t,e){switch(p1(e),e.tag){case 1:return Tr(e.type)&&xg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xc(),Nt(xr),Nt(Yn),T1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return x1(e),null;case 13:if(Nt(Ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));wc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Nt(Ft),null;case 4:return xc(),null;case 10:return y1(e.type._context),null;case 22:case 23:return O1(),null;case 24:return null;default:return null}}var mm=!1,Gn=!1,A9=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Bu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Gt(t,e,r)}else n.current=null}function Aw(t,e,n){try{n()}catch(r){Gt(t,e,r)}}var TC=!1;function P9(t,e){if(hw=yg,t=bP(),h1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,h=0,p=0,m=t,g=null;t:for(;;){for(var x;m!==n||i!==0&&m.nodeType!==3||(l=a+i),m!==s||r!==0&&m.nodeType!==3||(c=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(x=m.firstChild)!==null;)g=m,m=x;for(;;){if(m===t)break t;if(g===n&&++h===i&&(l=a),g===s&&++p===r&&(c=a),(x=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=x}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(fw={focusedElem:t,selectionRange:n},yg=!1,Ee=e;Ee!==null;)if(e=Ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ee=t;else for(;Ee!==null;){e=Ee;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var E=I.memoizedProps,b=I.memoizedState,C=e.stateNode,T=C.getSnapshotBeforeUpdate(e.elementType===e.type?E:Si(e.type,E),b);C.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var R=e.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(V){Gt(e,e.return,V)}if(t=e.sibling,t!==null){t.return=e.return,Ee=t;break}Ee=e.return}return I=TC,TC=!1,I}function vh(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Aw(e,n,s)}i=i.next}while(i!==r)}}function Pv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Pw(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function TN(t){var e=t.alternate;e!==null&&(t.alternate=null,TN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ts],delete e[Lh],delete e[gw],delete e[h9],delete e[f9])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function SN(t){return t.tag===5||t.tag===3||t.tag===4}function SC(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||SN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Eg));else if(r!==4&&(t=t.child,t!==null))for(Nw(t,e,n),t=t.sibling;t!==null;)Nw(t,e,n),t=t.sibling}function kw(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(kw(t,e,n),t=t.sibling;t!==null;)kw(t,e,n),t=t.sibling}var Rn=null,Ci=!1;function Io(t,e,n){for(n=n.child;n!==null;)IN(t,e,n),n=n.sibling}function IN(t,e,n){if(rs&&typeof rs.onCommitFiberUnmount=="function")try{rs.onCommitFiberUnmount(xv,n)}catch{}switch(n.tag){case 5:Gn||Bu(n,e);case 6:var r=Rn,i=Ci;Rn=null,Io(t,e,n),Rn=r,Ci=i,Rn!==null&&(Ci?(t=Rn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rn.removeChild(n.stateNode));break;case 18:Rn!==null&&(Ci?(t=Rn,n=n.stateNode,t.nodeType===8?i_(t.parentNode,n):t.nodeType===1&&i_(t,n),Nh(t)):i_(Rn,n.stateNode));break;case 4:r=Rn,i=Ci,Rn=n.stateNode.containerInfo,Ci=!0,Io(t,e,n),Rn=r,Ci=i;break;case 0:case 11:case 14:case 15:if(!Gn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Aw(n,e,a),i=i.next}while(i!==r)}Io(t,e,n);break;case 1:if(!Gn&&(Bu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Gt(n,e,l)}Io(t,e,n);break;case 21:Io(t,e,n);break;case 22:n.mode&1?(Gn=(r=Gn)||n.memoizedState!==null,Io(t,e,n),Gn=r):Io(t,e,n);break;default:Io(t,e,n)}}function IC(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new A9),e.forEach(function(r){var i=j9.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Rn=l.stateNode,Ci=!1;break e;case 3:Rn=l.stateNode.containerInfo,Ci=!0;break e;case 4:Rn=l.stateNode.containerInfo,Ci=!0;break e}l=l.return}if(Rn===null)throw Error(ae(160));IN(s,a,i),Rn=null,Ci=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){Gt(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)CN(e,t),e=e.sibling}function CN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xi(e,t),qi(t),r&4){try{vh(3,t,t.return),Pv(3,t)}catch(E){Gt(t,t.return,E)}try{vh(5,t,t.return)}catch(E){Gt(t,t.return,E)}}break;case 1:xi(e,t),qi(t),r&512&&n!==null&&Bu(n,n.return);break;case 5:if(xi(e,t),qi(t),r&512&&n!==null&&Bu(n,n.return),t.flags&32){var i=t.stateNode;try{bh(i,"")}catch(E){Gt(t,t.return,E)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&qA(i,s),nw(l,a);var h=nw(l,s);for(a=0;a<c.length;a+=2){var p=c[a],m=c[a+1];p==="style"?ZA(i,m):p==="dangerouslySetInnerHTML"?XA(i,m):p==="children"?bh(i,m):ZE(i,p,m,h)}switch(l){case"input":X_(i,s);break;case"textarea":QA(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var x=s.value;x!=null?Hu(i,!!s.multiple,x,!1):g!==!!s.multiple&&(s.defaultValue!=null?Hu(i,!!s.multiple,s.defaultValue,!0):Hu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Lh]=s}catch(E){Gt(t,t.return,E)}}break;case 6:if(xi(e,t),qi(t),r&4){if(t.stateNode===null)throw Error(ae(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(E){Gt(t,t.return,E)}}break;case 3:if(xi(e,t),qi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nh(e.containerInfo)}catch(E){Gt(t,t.return,E)}break;case 4:xi(e,t),qi(t);break;case 13:xi(e,t),qi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(k1=Xt())),r&4&&IC(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Gn=(h=Gn)||p,xi(e,t),Gn=h):xi(e,t),qi(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for(Ee=t,p=t.child;p!==null;){for(m=Ee=p;Ee!==null;){switch(g=Ee,x=g.child,g.tag){case 0:case 11:case 14:case 15:vh(4,g,g.return);break;case 1:Bu(g,g.return);var I=g.stateNode;if(typeof I.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(E){Gt(r,n,E)}}break;case 5:Bu(g,g.return);break;case 22:if(g.memoizedState!==null){bC(m);continue}}x!==null?(x.return=g,Ee=x):bC(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{i=m.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,c=m.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=JA("display",a))}catch(E){Gt(t,t.return,E)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(E){Gt(t,t.return,E)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:xi(e,t),qi(t),r&4&&IC(t);break;case 21:break;default:xi(e,t),qi(t)}}function qi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(SN(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(bh(i,""),r.flags&=-33);var s=SC(t);kw(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=SC(t);Nw(t,l,a);break;default:throw Error(ae(161))}}catch(c){Gt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function N9(t,e,n){Ee=t,bN(t)}function bN(t,e,n){for(var r=(t.mode&1)!==0;Ee!==null;){var i=Ee,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||mm;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Gn;l=mm;var h=Gn;if(mm=a,(Gn=c)&&!h)for(Ee=i;Ee!==null;)a=Ee,c=a.child,a.tag===22&&a.memoizedState!==null?RC(i):c!==null?(c.return=a,Ee=c):RC(i);for(;s!==null;)Ee=s,bN(s),s=s.sibling;Ee=i,mm=l,Gn=h}CC(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ee=s):CC(t)}}function CC(t){for(;Ee!==null;){var e=Ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Gn||Pv(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Gn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Si(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&cC(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}cC(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&Nh(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}Gn||e.flags&512&&Pw(e)}catch(g){Gt(e,e.return,g)}}if(e===t){Ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ee=n;break}Ee=e.return}}function bC(t){for(;Ee!==null;){var e=Ee;if(e===t){Ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ee=n;break}Ee=e.return}}function RC(t){for(;Ee!==null;){var e=Ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Pv(4,e)}catch(c){Gt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Gt(e,i,c)}}var s=e.return;try{Pw(e)}catch(c){Gt(e,s,c)}break;case 5:var a=e.return;try{Pw(e)}catch(c){Gt(e,a,c)}}}catch(c){Gt(e,e.return,c)}if(e===t){Ee=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Ee=l;break}Ee=e.return}}var k9=Math.ceil,kg=oo.ReactCurrentDispatcher,P1=oo.ReactCurrentOwner,li=oo.ReactCurrentBatchConfig,lt=0,En=null,nn=null,Nn=0,Or=0,zu=Aa(0),hn=0,Bh=null,Al=0,Nv=0,N1=0,yh=null,_r=null,k1=0,Sc=1/0,js=null,Dg=!1,Dw=null,sa=null,gm=!1,Xo=null,Og=0,_h=0,Ow=null,Hm=-1,Km=0;function sr(){return lt&6?Xt():Hm!==-1?Hm:Hm=Xt()}function oa(t){return t.mode&1?lt&2&&Nn!==0?Nn&-Nn:m9.transition!==null?(Km===0&&(Km=dP()),Km):(t=Tt,t!==0||(t=window.event,t=t===void 0?16:yP(t.type)),t):1}function Di(t,e,n,r){if(50<_h)throw _h=0,Ow=null,Error(ae(185));yf(t,n,r),(!(lt&2)||t!==En)&&(t===En&&(!(lt&2)&&(Nv|=n),hn===4&&Lo(t,Nn)),Sr(t,r),n===1&&lt===0&&!(e.mode&1)&&(Sc=Xt()+500,bv&&Pa()))}function Sr(t,e){var n=t.callbackNode;m$(t,e);var r=vg(t,t===En?Nn:0);if(r===0)n!==null&&FI(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&FI(n),e===1)t.tag===0?p9(AC.bind(null,t)):FP(AC.bind(null,t)),c9(function(){!(lt&6)&&Pa()}),n=null;else{switch(hP(r)){case 1:n=i1;break;case 4:n=uP;break;case 16:n=gg;break;case 536870912:n=cP;break;default:n=gg}n=MN(n,RN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function RN(t,e){if(Hm=-1,Km=0,lt&6)throw Error(ae(327));var n=t.callbackNode;if(Yu()&&t.callbackNode!==n)return null;var r=vg(t,t===En?Nn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Mg(t,r);else{e=r;var i=lt;lt|=2;var s=PN();(En!==t||Nn!==e)&&(js=null,Sc=Xt()+500,Sl(t,e));do try{M9();break}catch(l){AN(t,l)}while(!0);v1(),kg.current=s,lt=i,nn!==null?e=0:(En=null,Nn=0,e=hn)}if(e!==0){if(e===2&&(i=aw(t),i!==0&&(r=i,e=Mw(t,i))),e===1)throw n=Bh,Sl(t,0),Lo(t,r),Sr(t,Xt()),n;if(e===6)Lo(t,r);else{if(i=t.current.alternate,!(r&30)&&!D9(i)&&(e=Mg(t,r),e===2&&(s=aw(t),s!==0&&(r=s,e=Mw(t,s))),e===1))throw n=Bh,Sl(t,0),Lo(t,r),Sr(t,Xt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ae(345));case 2:cl(t,_r,js);break;case 3:if(Lo(t,r),(r&130023424)===r&&(e=k1+500-Xt(),10<e)){if(vg(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){sr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=mw(cl.bind(null,t,_r,js),e);break}cl(t,_r,js);break;case 4:if(Lo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-ki(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Xt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*k9(r/1960))-r,10<r){t.timeoutHandle=mw(cl.bind(null,t,_r,js),r);break}cl(t,_r,js);break;case 5:cl(t,_r,js);break;default:throw Error(ae(329))}}}return Sr(t,Xt()),t.callbackNode===n?RN.bind(null,t):null}function Mw(t,e){var n=yh;return t.current.memoizedState.isDehydrated&&(Sl(t,e).flags|=256),t=Mg(t,e),t!==2&&(e=_r,_r=n,e!==null&&Lw(e)),t}function Lw(t){_r===null?_r=t:_r.push.apply(_r,t)}function D9(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Mi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Lo(t,e){for(e&=~N1,e&=~Nv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ki(e),r=1<<n;t[n]=-1,e&=~r}}function AC(t){if(lt&6)throw Error(ae(327));Yu();var e=vg(t,0);if(!(e&1))return Sr(t,Xt()),null;var n=Mg(t,e);if(t.tag!==0&&n===2){var r=aw(t);r!==0&&(e=r,n=Mw(t,r))}if(n===1)throw n=Bh,Sl(t,0),Lo(t,e),Sr(t,Xt()),n;if(n===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,cl(t,_r,js),Sr(t,Xt()),null}function D1(t,e){var n=lt;lt|=1;try{return t(e)}finally{lt=n,lt===0&&(Sc=Xt()+500,bv&&Pa())}}function Pl(t){Xo!==null&&Xo.tag===0&&!(lt&6)&&Yu();var e=lt;lt|=1;var n=li.transition,r=Tt;try{if(li.transition=null,Tt=1,t)return t()}finally{Tt=r,li.transition=n,lt=e,!(lt&6)&&Pa()}}function O1(){Or=zu.current,Nt(zu)}function Sl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,u9(n)),nn!==null)for(n=nn.return;n!==null;){var r=n;switch(p1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xg();break;case 3:xc(),Nt(xr),Nt(Yn),T1();break;case 5:x1(r);break;case 4:xc();break;case 13:Nt(Ft);break;case 19:Nt(Ft);break;case 10:y1(r.type._context);break;case 22:case 23:O1()}n=n.return}if(En=t,nn=t=aa(t.current,null),Nn=Or=e,hn=0,Bh=null,N1=Nv=Al=0,_r=yh=null,pl!==null){for(e=0;e<pl.length;e++)if(n=pl[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}pl=null}return t}function AN(t,e){do{var n=nn;try{if(v1(),Bm.current=Ng,Pg){for(var r=Vt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Pg=!1}if(Rl=0,_n=un=Vt=null,gh=!1,jh=0,P1.current=null,n===null||n.return===null){hn=1,Bh=e,nn=null;break}e:{var s=t,a=n.return,l=n,c=e;if(e=Nn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,p=l,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var x=gC(a);if(x!==null){x.flags&=-257,vC(x,a,l,s,e),x.mode&1&&mC(s,h,e),e=x,c=h;var I=e.updateQueue;if(I===null){var E=new Set;E.add(c),e.updateQueue=E}else I.add(c);break e}else{if(!(e&1)){mC(s,h,e),M1();break e}c=Error(ae(426))}}else if(Ot&&l.mode&1){var b=gC(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),vC(b,a,l,s,e),m1(Tc(c,l));break e}}s=c=Tc(c,l),hn!==4&&(hn=2),yh===null?yh=[s]:yh.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var C=hN(s,c,e);uC(s,C);break e;case 1:l=c;var T=s.type,R=s.stateNode;if(!(s.flags&128)&&(typeof T.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(sa===null||!sa.has(R)))){s.flags|=65536,e&=-e,s.lanes|=e;var V=fN(s,l,e);uC(s,V);break e}}s=s.return}while(s!==null)}kN(n)}catch(U){e=U,nn===n&&n!==null&&(nn=n=n.return);continue}break}while(!0)}function PN(){var t=kg.current;return kg.current=Ng,t===null?Ng:t}function M1(){(hn===0||hn===3||hn===2)&&(hn=4),En===null||!(Al&268435455)&&!(Nv&268435455)||Lo(En,Nn)}function Mg(t,e){var n=lt;lt|=2;var r=PN();(En!==t||Nn!==e)&&(js=null,Sl(t,e));do try{O9();break}catch(i){AN(t,i)}while(!0);if(v1(),lt=n,kg.current=r,nn!==null)throw Error(ae(261));return En=null,Nn=0,hn}function O9(){for(;nn!==null;)NN(nn)}function M9(){for(;nn!==null&&!o$();)NN(nn)}function NN(t){var e=ON(t.alternate,t,Or);t.memoizedProps=t.pendingProps,e===null?kN(t):nn=e,P1.current=null}function kN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=R9(n,e),n!==null){n.flags&=32767,nn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{hn=6,nn=null;return}}else if(n=b9(n,e,Or),n!==null){nn=n;return}if(e=e.sibling,e!==null){nn=e;return}nn=e=t}while(e!==null);hn===0&&(hn=5)}function cl(t,e,n){var r=Tt,i=li.transition;try{li.transition=null,Tt=1,L9(t,e,n,r)}finally{li.transition=i,Tt=r}return null}function L9(t,e,n,r){do Yu();while(Xo!==null);if(lt&6)throw Error(ae(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(g$(t,s),t===En&&(nn=En=null,Nn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gm||(gm=!0,MN(gg,function(){return Yu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=li.transition,li.transition=null;var a=Tt;Tt=1;var l=lt;lt|=4,P1.current=null,P9(t,n),CN(n,t),n9(fw),yg=!!hw,fw=hw=null,t.current=n,N9(n),a$(),lt=l,Tt=a,li.transition=s}else t.current=n;if(gm&&(gm=!1,Xo=t,Og=i),s=t.pendingLanes,s===0&&(sa=null),c$(n.stateNode),Sr(t,Xt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Dg)throw Dg=!1,t=Dw,Dw=null,t;return Og&1&&t.tag!==0&&Yu(),s=t.pendingLanes,s&1?t===Ow?_h++:(_h=0,Ow=t):_h=0,Pa(),null}function Yu(){if(Xo!==null){var t=hP(Og),e=li.transition,n=Tt;try{if(li.transition=null,Tt=16>t?16:t,Xo===null)var r=!1;else{if(t=Xo,Xo=null,Og=0,lt&6)throw Error(ae(331));var i=lt;for(lt|=4,Ee=t.current;Ee!==null;){var s=Ee,a=s.child;if(Ee.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(Ee=h;Ee!==null;){var p=Ee;switch(p.tag){case 0:case 11:case 15:vh(8,p,s)}var m=p.child;if(m!==null)m.return=p,Ee=m;else for(;Ee!==null;){p=Ee;var g=p.sibling,x=p.return;if(TN(p),p===h){Ee=null;break}if(g!==null){g.return=x,Ee=g;break}Ee=x}}}var I=s.alternate;if(I!==null){var E=I.child;if(E!==null){I.child=null;do{var b=E.sibling;E.sibling=null,E=b}while(E!==null)}}Ee=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Ee=a;else e:for(;Ee!==null;){if(s=Ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:vh(9,s,s.return)}var C=s.sibling;if(C!==null){C.return=s.return,Ee=C;break e}Ee=s.return}}var T=t.current;for(Ee=T;Ee!==null;){a=Ee;var R=a.child;if(a.subtreeFlags&2064&&R!==null)R.return=a,Ee=R;else e:for(a=T;Ee!==null;){if(l=Ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Pv(9,l)}}catch(U){Gt(l,l.return,U)}if(l===a){Ee=null;break e}var V=l.sibling;if(V!==null){V.return=l.return,Ee=V;break e}Ee=l.return}}if(lt=i,Pa(),rs&&typeof rs.onPostCommitFiberRoot=="function")try{rs.onPostCommitFiberRoot(xv,t)}catch{}r=!0}return r}finally{Tt=n,li.transition=e}}return!1}function PC(t,e,n){e=Tc(n,e),e=hN(t,e,1),t=ia(t,e,1),e=sr(),t!==null&&(yf(t,1,e),Sr(t,e))}function Gt(t,e,n){if(t.tag===3)PC(t,t,n);else for(;e!==null;){if(e.tag===3){PC(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sa===null||!sa.has(r))){t=Tc(n,t),t=fN(e,t,1),e=ia(e,t,1),t=sr(),e!==null&&(yf(e,1,t),Sr(e,t));break}}e=e.return}}function F9(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=sr(),t.pingedLanes|=t.suspendedLanes&n,En===t&&(Nn&n)===n&&(hn===4||hn===3&&(Nn&130023424)===Nn&&500>Xt()-k1?Sl(t,0):N1|=n),Sr(t,e)}function DN(t,e){e===0&&(t.mode&1?(e=om,om<<=1,!(om&130023424)&&(om=4194304)):e=1);var n=sr();t=Xs(t,e),t!==null&&(yf(t,e,n),Sr(t,n))}function V9(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),DN(t,n)}function j9(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(e),DN(t,n)}var ON;ON=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xr.current)Er=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Er=!1,C9(t,e,n);Er=!!(t.flags&131072)}else Er=!1,Ot&&e.flags&1048576&&VP(e,Ig,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wm(t,e),t=e.pendingProps;var i=_c(e,Yn.current);Qu(e,n),i=I1(null,e,r,t,i,n);var s=C1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tr(r)?(s=!0,Tg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,w1(e),i.updater=Av,e.stateNode=i,i._reactInternals=e,xw(e,r,t,n),e=Iw(null,e,r,!0,s,n)):(e.tag=0,Ot&&s&&f1(e),ir(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wm(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=$9(r),t=Si(r,t),i){case 0:e=Sw(null,e,r,t,n);break e;case 1:e=wC(null,e,r,t,n);break e;case 11:e=yC(null,e,r,t,n);break e;case 14:e=_C(null,e,r,Si(r.type,t),n);break e}throw Error(ae(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Si(r,i),Sw(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Si(r,i),wC(t,e,r,i,n);case 3:e:{if(vN(e),t===null)throw Error(ae(387));r=e.pendingProps,s=e.memoizedState,i=s.element,WP(t,e),Rg(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Tc(Error(ae(423)),e),e=EC(t,e,r,n,i);break e}else if(r!==i){i=Tc(Error(ae(424)),e),e=EC(t,e,r,n,i);break e}else for(Fr=ra(e.stateNode.containerInfo.firstChild),jr=e,Ot=!0,bi=null,n=BP(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wc(),r===i){e=Js(t,e,n);break e}ir(t,e,r,n)}e=e.child}return e;case 5:return HP(e),t===null&&_w(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,pw(r,i)?a=null:s!==null&&pw(r,s)&&(e.flags|=32),gN(t,e),ir(t,e,a,n),e.child;case 6:return t===null&&_w(e),null;case 13:return yN(t,e,n);case 4:return E1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ec(e,null,r,n):ir(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Si(r,i),yC(t,e,r,i,n);case 7:return ir(t,e,e.pendingProps,n),e.child;case 8:return ir(t,e,e.pendingProps.children,n),e.child;case 12:return ir(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Rt(Cg,r._currentValue),r._currentValue=a,s!==null)if(Mi(s.value,a)){if(s.children===i.children&&!xr.current){e=Js(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Ks(-1,n&-n),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?c.next=c:(c.next=p.next,p.next=c),h.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),ww(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ae(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),ww(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}ir(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qu(e,n),i=ci(i),r=r(i),e.flags|=1,ir(t,e,r,n),e.child;case 14:return r=e.type,i=Si(r,e.pendingProps),i=Si(r.type,i),_C(t,e,r,i,n);case 15:return pN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Si(r,i),Wm(t,e),e.tag=1,Tr(r)?(t=!0,Tg(e)):t=!1,Qu(e,n),dN(e,r,i),xw(e,r,i,n),Iw(null,e,r,!0,t,n);case 19:return _N(t,e,n);case 22:return mN(t,e,n)}throw Error(ae(156,e.tag))};function MN(t,e){return lP(t,e)}function U9(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(t,e,n,r){return new U9(t,e,n,r)}function L1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $9(t){if(typeof t=="function")return L1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===t1)return 11;if(t===n1)return 14}return 2}function aa(t,e){var n=t.alternate;return n===null?(n=ai(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gm(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")L1(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Du:return Il(n.children,i,s,e);case e1:a=8,i|=8;break;case K_:return t=ai(12,n,e,i|2),t.elementType=K_,t.lanes=s,t;case G_:return t=ai(13,n,e,i),t.elementType=G_,t.lanes=s,t;case q_:return t=ai(19,n,e,i),t.elementType=q_,t.lanes=s,t;case HA:return kv(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zA:a=10;break e;case WA:a=9;break e;case t1:a=11;break e;case n1:a=14;break e;case Do:a=16,r=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=ai(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Il(t,e,n,r){return t=ai(7,t,r,e),t.lanes=n,t}function kv(t,e,n,r){return t=ai(22,t,r,e),t.elementType=HA,t.lanes=n,t.stateNode={isHidden:!1},t}function h_(t,e,n){return t=ai(6,t,null,e),t.lanes=n,t}function f_(t,e,n){return e=ai(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function B9(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=G0(0),this.expirationTimes=G0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=G0(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function F1(t,e,n,r,i,s,a,l,c){return t=new B9(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ai(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},w1(s),t}function z9(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ku,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function LN(t){if(!t)return ma;t=t._reactInternals;e:{if(zl(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var n=t.type;if(Tr(n))return LP(t,n,e)}return e}function FN(t,e,n,r,i,s,a,l,c){return t=F1(n,r,!0,t,i,s,a,l,c),t.context=LN(null),n=t.current,r=sr(),i=oa(n),s=Ks(r,i),s.callback=e??null,ia(n,s,i),t.current.lanes=i,yf(t,i,r),Sr(t,r),t}function Dv(t,e,n,r){var i=e.current,s=sr(),a=oa(i);return n=LN(n),e.context===null?e.context=n:e.pendingContext=n,e=Ks(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ia(i,e,a),t!==null&&(Di(t,i,a,s),$m(t,i,a)),a}function Lg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function NC(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function V1(t,e){NC(t,e),(t=t.alternate)&&NC(t,e)}function W9(){return null}var VN=typeof reportError=="function"?reportError:function(t){console.error(t)};function j1(t){this._internalRoot=t}Ov.prototype.render=j1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));Dv(t,e,null,null)};Ov.prototype.unmount=j1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pl(function(){Dv(null,t,null,null)}),e[Ys]=null}};function Ov(t){this._internalRoot=t}Ov.prototype.unstable_scheduleHydration=function(t){if(t){var e=mP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mo.length&&e!==0&&e<Mo[n].priority;n++);Mo.splice(n,0,t),n===0&&vP(t)}};function U1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kC(){}function H9(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Lg(a);s.call(h)}}var a=FN(e,r,t,0,null,!1,!1,"",kC);return t._reactRootContainer=a,t[Ys]=a.current,Oh(t.nodeType===8?t.parentNode:t),Pl(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=Lg(c);l.call(h)}}var c=F1(t,0,!1,null,null,!1,!1,"",kC);return t._reactRootContainer=c,t[Ys]=c.current,Oh(t.nodeType===8?t.parentNode:t),Pl(function(){Dv(e,c,n,r)}),c}function Lv(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=Lg(a);l.call(c)}}Dv(e,a,t,i)}else a=H9(n,e,t,i,r);return Lg(a)}fP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=eh(e.pendingLanes);n!==0&&(s1(e,n|1),Sr(e,Xt()),!(lt&6)&&(Sc=Xt()+500,Pa()))}break;case 13:Pl(function(){var r=Xs(t,1);if(r!==null){var i=sr();Di(r,t,1,i)}}),V1(t,1)}};o1=function(t){if(t.tag===13){var e=Xs(t,134217728);if(e!==null){var n=sr();Di(e,t,134217728,n)}V1(t,134217728)}};pP=function(t){if(t.tag===13){var e=oa(t),n=Xs(t,e);if(n!==null){var r=sr();Di(n,t,e,r)}V1(t,e)}};mP=function(){return Tt};gP=function(t,e){var n=Tt;try{return Tt=t,e()}finally{Tt=n}};iw=function(t,e,n){switch(e){case"input":if(X_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Cv(r);if(!i)throw Error(ae(90));GA(r),X_(r,i)}}}break;case"textarea":QA(t,n);break;case"select":e=n.value,e!=null&&Hu(t,!!n.multiple,e,!1)}};nP=D1;rP=Pl;var K9={usingClientEntryPoint:!1,Events:[wf,Fu,Cv,eP,tP,D1]},Hd={findFiberByHostInstance:fl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},G9={bundleType:Hd.bundleType,version:Hd.version,rendererPackageName:Hd.rendererPackageName,rendererConfig:Hd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:oo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=oP(t),t===null?null:t.stateNode},findFiberByHostInstance:Hd.findFiberByHostInstance||W9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vm.isDisabled&&vm.supportsFiber)try{xv=vm.inject(G9),rs=vm}catch{}}Br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K9;Br.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!U1(e))throw Error(ae(200));return z9(t,e,null,n)};Br.createRoot=function(t,e){if(!U1(t))throw Error(ae(299));var n=!1,r="",i=VN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=F1(t,1,!1,null,null,n,!1,r,i),t[Ys]=e.current,Oh(t.nodeType===8?t.parentNode:t),new j1(e)};Br.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=oP(e),t=t===null?null:t.stateNode,t};Br.flushSync=function(t){return Pl(t)};Br.hydrate=function(t,e,n){if(!Mv(e))throw Error(ae(200));return Lv(null,t,e,!0,n)};Br.hydrateRoot=function(t,e,n){if(!U1(t))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=VN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=FN(e,null,t,1,n??null,i,!1,s,a),t[Ys]=e.current,Oh(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ov(e)};Br.render=function(t,e,n){if(!Mv(e))throw Error(ae(200));return Lv(null,t,e,!1,n)};Br.unmountComponentAtNode=function(t){if(!Mv(t))throw Error(ae(40));return t._reactRootContainer?(Pl(function(){Lv(null,null,t,!1,function(){t._reactRootContainer=null,t[Ys]=null})}),!0):!1};Br.unstable_batchedUpdates=D1;Br.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Mv(n))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return Lv(t,e,n,!1,r)};Br.version="18.3.1-next-f1338f8080-20240426";function jN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jN)}catch(t){console.error(t)}}jN(),jA.exports=Br;var Wl=jA.exports;const UN=CA(Wl);var $N,DC=Wl;$N=DC.createRoot,DC.hydrateRoot;const q9=1,Q9=1e6;let p_=0;function Y9(){return p_=(p_+1)%Number.MAX_SAFE_INTEGER,p_.toString()}const m_=new Map,OC=t=>{if(m_.has(t))return;const e=setTimeout(()=>{m_.delete(t),wh({type:"REMOVE_TOAST",toastId:t})},Q9);m_.set(t,e)},X9=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,q9)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?OC(n):t.toasts.forEach(r=>{OC(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},qm=[];let Qm={toasts:[]};function wh(t){Qm=X9(Qm,t),qm.forEach(e=>{e(Qm)})}function J9({...t}){const e=Y9(),n=i=>wh({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>wh({type:"DISMISS_TOAST",toastId:e});return wh({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function xf(){const[t,e]=w.useState(Qm);return w.useEffect(()=>(qm.push(e),()=>{const n=qm.indexOf(e);n>-1&&qm.splice(n,1)}),[t]),{...t,toast:J9,dismiss:n=>wh({type:"DISMISS_TOAST",toastId:n})}}function pe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Z9(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Fv(...t){return e=>t.forEach(n=>Z9(n,e))}function pt(...t){return w.useCallback(Fv(...t),t)}function eB(t,e=[]){let n=[];function r(s,a){const l=w.createContext(a),c=n.length;n=[...n,a];function h(m){const{scope:g,children:x,...I}=m,E=(g==null?void 0:g[t][c])||l,b=w.useMemo(()=>I,Object.values(I));return v.jsx(E.Provider,{value:b,children:x})}function p(m,g){const x=(g==null?void 0:g[t][c])||l,I=w.useContext(x);if(I)return I;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${s}\``)}return h.displayName=s+"Provider",[h,p]}const i=()=>{const s=n.map(a=>w.createContext(a));return function(l){const c=(l==null?void 0:l[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,tB(i,...e)]}function tB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:c,scopeName:h})=>{const m=c(s)[`__scope${h}`];return{...l,...m}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var ga=w.forwardRef((t,e)=>{const{children:n,...r}=t,i=w.Children.toArray(n),s=i.find(nB);if(s){const a=s.props.children,l=i.map(c=>c===s?w.Children.count(a)>1?w.Children.only(null):w.isValidElement(a)?a.props.children:null:c);return v.jsx(Fw,{...r,ref:e,children:w.isValidElement(a)?w.cloneElement(a,void 0,l):null})}return v.jsx(Fw,{...r,ref:e,children:n})});ga.displayName="Slot";var Fw=w.forwardRef((t,e)=>{const{children:n,...r}=t;if(w.isValidElement(n)){const i=iB(n);return w.cloneElement(n,{...rB(r,n.props),ref:e?Fv(e,i):i})}return w.Children.count(n)>1?w.Children.only(null):null});Fw.displayName="SlotClone";var BN=({children:t})=>v.jsx(v.Fragment,{children:t});function nB(t){return w.isValidElement(t)&&t.type===BN}function rB(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{s(...l),i(...l)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function iB(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Vv(t){const e=t+"CollectionProvider",[n,r]=eB(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:I,children:E}=x,b=de.useRef(null),C=de.useRef(new Map).current;return v.jsx(i,{scope:I,itemMap:C,collectionRef:b,children:E})};a.displayName=e;const l=t+"CollectionSlot",c=de.forwardRef((x,I)=>{const{scope:E,children:b}=x,C=s(l,E),T=pt(I,C.collectionRef);return v.jsx(ga,{ref:T,children:b})});c.displayName=l;const h=t+"CollectionItemSlot",p="data-radix-collection-item",m=de.forwardRef((x,I)=>{const{scope:E,children:b,...C}=x,T=de.useRef(null),R=pt(I,T),V=s(h,E);return de.useEffect(()=>(V.itemMap.set(T,{ref:T,...C}),()=>void V.itemMap.delete(T))),v.jsx(ga,{[p]:"",ref:R,children:b})});m.displayName=h;function g(x){const I=s(t+"CollectionConsumer",x);return de.useCallback(()=>{const b=I.collectionRef.current;if(!b)return[];const C=Array.from(b.querySelectorAll(`[${p}]`));return Array.from(I.itemMap.values()).sort((V,U)=>C.indexOf(V.ref.current)-C.indexOf(U.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:a,Slot:c,ItemSlot:m},g,r]}function sB(t,e){const n=w.createContext(e),r=s=>{const{children:a,...l}=s,c=w.useMemo(()=>l,Object.values(l));return v.jsx(n.Provider,{value:c,children:a})};r.displayName=t+"Provider";function i(s){const a=w.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Na(t,e=[]){let n=[];function r(s,a){const l=w.createContext(a),c=n.length;n=[...n,a];const h=m=>{var C;const{scope:g,children:x,...I}=m,E=((C=g==null?void 0:g[t])==null?void 0:C[c])||l,b=w.useMemo(()=>I,Object.values(I));return v.jsx(E.Provider,{value:b,children:x})};h.displayName=s+"Provider";function p(m,g){var E;const x=((E=g==null?void 0:g[t])==null?void 0:E[c])||l,I=w.useContext(x);if(I)return I;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[h,p]}const i=()=>{const s=n.map(a=>w.createContext(a));return function(l){const c=(l==null?void 0:l[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,oB(i,...e)]}function oB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:c,scopeName:h})=>{const m=c(s)[`__scope${h}`];return{...l,...m}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var aB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Oe=aB.reduce((t,e)=>{const n=w.forwardRef((r,i)=>{const{asChild:s,...a}=r,l=s?ga:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(l,{...a,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function $1(t,e){t&&Wl.flushSync(()=>t.dispatchEvent(e))}function Dn(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function lB(t,e=globalThis==null?void 0:globalThis.document){const n=Dn(t);w.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var uB="DismissableLayer",Vw="dismissableLayer.update",cB="dismissableLayer.pointerDownOutside",dB="dismissableLayer.focusOutside",MC,zN=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Bc=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=t,h=w.useContext(zN),[p,m]=w.useState(null),g=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=w.useState({}),I=pt(e,N=>m(N)),E=Array.from(h.layers),[b]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),C=E.indexOf(b),T=p?E.indexOf(p):-1,R=h.layersWithOutsidePointerEventsDisabled.size>0,V=T>=C,U=fB(N=>{const A=N.target,k=[...h.branches].some(L=>L.contains(A));!V||k||(i==null||i(N),a==null||a(N),N.defaultPrevented||l==null||l())},g),z=pB(N=>{const A=N.target;[...h.branches].some(L=>L.contains(A))||(s==null||s(N),a==null||a(N),N.defaultPrevented||l==null||l())},g);return lB(N=>{T===h.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},g),w.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(MC=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),LC(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=MC)}},[p,g,n,h]),w.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),LC())},[p,h]),w.useEffect(()=>{const N=()=>x({});return document.addEventListener(Vw,N),()=>document.removeEventListener(Vw,N)},[]),v.jsx(Oe.div,{...c,ref:I,style:{pointerEvents:R?V?"auto":"none":void 0,...t.style},onFocusCapture:pe(t.onFocusCapture,z.onFocusCapture),onBlurCapture:pe(t.onBlurCapture,z.onBlurCapture),onPointerDownCapture:pe(t.onPointerDownCapture,U.onPointerDownCapture)})});Bc.displayName=uB;var hB="DismissableLayerBranch",WN=w.forwardRef((t,e)=>{const n=w.useContext(zN),r=w.useRef(null),i=pt(e,r);return w.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),v.jsx(Oe.div,{...t,ref:i})});WN.displayName=hB;function fB(t,e=globalThis==null?void 0:globalThis.document){const n=Dn(t),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){HN(cB,n,h,{discrete:!0})};const h={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function pB(t,e=globalThis==null?void 0:globalThis.document){const n=Dn(t),r=w.useRef(!1);return w.useEffect(()=>{const i=s=>{s.target&&!r.current&&HN(dB,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function LC(){const t=new CustomEvent(Vw);document.dispatchEvent(t)}function HN(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?$1(i,s):i.dispatchEvent(s)}var mB=Bc,gB=WN,xn=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},vB="Portal",Tf=w.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[i,s]=w.useState(!1);xn(()=>s(!0),[]);const a=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?UN.createPortal(v.jsx(Oe.div,{...r,ref:e}),a):null});Tf.displayName=vB;function yB(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var ji=t=>{const{present:e,children:n}=t,r=_B(e),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),s=pt(r.ref,wB(i));return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:s}):null};ji.displayName="Presence";function _B(t){const[e,n]=w.useState(),r=w.useRef({}),i=w.useRef(t),s=w.useRef("none"),a=t?"mounted":"unmounted",[l,c]=yB(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const h=ym(r.current);s.current=l==="mounted"?h:"none"},[l]),xn(()=>{const h=r.current,p=i.current;if(p!==t){const g=s.current,x=ym(h);t?c("MOUNT"):x==="none"||(h==null?void 0:h.display)==="none"?c("UNMOUNT"):c(p&&g!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),xn(()=>{if(e){let h;const p=e.ownerDocument.defaultView??window,m=x=>{const E=ym(r.current).includes(x.animationName);if(x.target===e&&E&&(c("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",h=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},g=x=>{x.target===e&&(s.current=ym(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{p.clearTimeout(h),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:w.useCallback(h=>{h&&(r.current=getComputedStyle(h)),n(h)},[])}}function ym(t){return(t==null?void 0:t.animationName)||"none"}function wB(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Nl({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=EB({defaultProp:e,onChange:n}),s=t!==void 0,a=s?t:r,l=Dn(n),c=w.useCallback(h=>{if(s){const m=typeof h=="function"?h(t):h;m!==t&&l(m)}else i(h)},[s,t,i,l]);return[a,c]}function EB({defaultProp:t,onChange:e}){const n=w.useState(t),[r]=n,i=w.useRef(r),s=Dn(e);return w.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var xB="VisuallyHidden",Sf=w.forwardRef((t,e)=>v.jsx(Oe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Sf.displayName=xB;var TB=Sf,B1="ToastProvider",[z1,SB,IB]=Vv("Toast"),[KN,hie]=Na("Toast",[IB]),[CB,jv]=KN(B1),GN=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=t,[l,c]=w.useState(null),[h,p]=w.useState(0),m=w.useRef(!1),g=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${B1}\`. Expected non-empty \`string\`.`),v.jsx(z1.Provider,{scope:e,children:v.jsx(CB,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:h,viewport:l,onViewportChange:c,onToastAdd:w.useCallback(()=>p(x=>x+1),[]),onToastRemove:w.useCallback(()=>p(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:g,children:a})})};GN.displayName=B1;var qN="ToastViewport",bB=["F8"],jw="toast.viewportPause",Uw="toast.viewportResume",QN=w.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=bB,label:i="Notifications ({hotkey})",...s}=t,a=jv(qN,n),l=SB(n),c=w.useRef(null),h=w.useRef(null),p=w.useRef(null),m=w.useRef(null),g=pt(e,m,a.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=a.toastCount>0;w.useEffect(()=>{const b=C=>{var R;r.length!==0&&r.every(V=>C[V]||C.code===V)&&((R=m.current)==null||R.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),w.useEffect(()=>{const b=c.current,C=m.current;if(I&&b&&C){const T=()=>{if(!a.isClosePausedRef.current){const z=new CustomEvent(jw);C.dispatchEvent(z),a.isClosePausedRef.current=!0}},R=()=>{if(a.isClosePausedRef.current){const z=new CustomEvent(Uw);C.dispatchEvent(z),a.isClosePausedRef.current=!1}},V=z=>{!b.contains(z.relatedTarget)&&R()},U=()=>{b.contains(document.activeElement)||R()};return b.addEventListener("focusin",T),b.addEventListener("focusout",V),b.addEventListener("pointermove",T),b.addEventListener("pointerleave",U),window.addEventListener("blur",T),window.addEventListener("focus",R),()=>{b.removeEventListener("focusin",T),b.removeEventListener("focusout",V),b.removeEventListener("pointermove",T),b.removeEventListener("pointerleave",U),window.removeEventListener("blur",T),window.removeEventListener("focus",R)}}},[I,a.isClosePausedRef]);const E=w.useCallback(({tabbingDirection:b})=>{const T=l().map(R=>{const V=R.ref.current,U=[V,...UB(V)];return b==="forwards"?U:U.reverse()});return(b==="forwards"?T.reverse():T).flat()},[l]);return w.useEffect(()=>{const b=m.current;if(b){const C=T=>{var U,z,N;const R=T.altKey||T.ctrlKey||T.metaKey;if(T.key==="Tab"&&!R){const A=document.activeElement,k=T.shiftKey;if(T.target===b&&k){(U=h.current)==null||U.focus();return}const j=E({tabbingDirection:k?"backwards":"forwards"}),F=j.findIndex(ee=>ee===A);g_(j.slice(F+1))?T.preventDefault():k?(z=h.current)==null||z.focus():(N=p.current)==null||N.focus()}};return b.addEventListener("keydown",C),()=>b.removeEventListener("keydown",C)}},[l,E]),v.jsxs(gB,{ref:c,role:"region","aria-label":i.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:I?void 0:"none"},children:[I&&v.jsx($w,{ref:h,onFocusFromOutsideViewport:()=>{const b=E({tabbingDirection:"forwards"});g_(b)}}),v.jsx(z1.Slot,{scope:n,children:v.jsx(Oe.ol,{tabIndex:-1,...s,ref:g})}),I&&v.jsx($w,{ref:p,onFocusFromOutsideViewport:()=>{const b=E({tabbingDirection:"backwards"});g_(b)}})]})});QN.displayName=qN;var YN="ToastFocusProxy",$w=w.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=jv(YN,n);return v.jsx(Sf,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var h;const l=a.relatedTarget;!((h=s.viewport)!=null&&h.contains(l))&&r()}})});$w.displayName=YN;var Uv="Toast",RB="toast.swipeStart",AB="toast.swipeMove",PB="toast.swipeCancel",NB="toast.swipeEnd",XN=w.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...a}=t,[l=!0,c]=Nl({prop:r,defaultProp:i,onChange:s});return v.jsx(ji,{present:n||l,children:v.jsx(OB,{open:l,...a,ref:e,onClose:()=>c(!1),onPause:Dn(t.onPause),onResume:Dn(t.onResume),onSwipeStart:pe(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(t.onSwipeMove,h=>{const{x:p,y:m}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:pe(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(t.onSwipeEnd,h=>{const{x:p,y:m}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});XN.displayName=Uv;var[kB,DB]=KN(Uv,{onClose(){}}),OB=w.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:h,onSwipeStart:p,onSwipeMove:m,onSwipeCancel:g,onSwipeEnd:x,...I}=t,E=jv(Uv,n),[b,C]=w.useState(null),T=pt(e,ee=>C(ee)),R=w.useRef(null),V=w.useRef(null),U=i||E.duration,z=w.useRef(0),N=w.useRef(U),A=w.useRef(0),{onToastAdd:k,onToastRemove:L}=E,$=Dn(()=>{var ge;(b==null?void 0:b.contains(document.activeElement))&&((ge=E.viewport)==null||ge.focus()),a()}),j=w.useCallback(ee=>{!ee||ee===1/0||(window.clearTimeout(A.current),z.current=new Date().getTime(),A.current=window.setTimeout($,ee))},[$]);w.useEffect(()=>{const ee=E.viewport;if(ee){const ge=()=>{j(N.current),h==null||h()},le=()=>{const he=new Date().getTime()-z.current;N.current=N.current-he,window.clearTimeout(A.current),c==null||c()};return ee.addEventListener(jw,le),ee.addEventListener(Uw,ge),()=>{ee.removeEventListener(jw,le),ee.removeEventListener(Uw,ge)}}},[E.viewport,U,c,h,j]),w.useEffect(()=>{s&&!E.isClosePausedRef.current&&j(U)},[s,U,E.isClosePausedRef,j]),w.useEffect(()=>(k(),()=>L()),[k,L]);const F=w.useMemo(()=>b?ik(b):null,[b]);return E.viewport?v.jsxs(v.Fragment,{children:[F&&v.jsx(MB,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),v.jsx(kB,{scope:n,onClose:$,children:Wl.createPortal(v.jsx(z1.ItemSlot,{scope:n,children:v.jsx(mB,{asChild:!0,onEscapeKeyDown:pe(l,()=>{E.isFocusedToastEscapeKeyDownRef.current||$(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:v.jsx(Oe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":E.swipeDirection,...I,ref:T,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:pe(t.onKeyDown,ee=>{ee.key==="Escape"&&(l==null||l(ee.nativeEvent),ee.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:pe(t.onPointerDown,ee=>{ee.button===0&&(R.current={x:ee.clientX,y:ee.clientY})}),onPointerMove:pe(t.onPointerMove,ee=>{if(!R.current)return;const ge=ee.clientX-R.current.x,le=ee.clientY-R.current.y,he=!!V.current,q=["left","right"].includes(E.swipeDirection),Y=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,ue=q?Y(0,ge):0,oe=q?0:Y(0,le),me=ee.pointerType==="touch"?10:2,xe={x:ue,y:oe},Xe={originalEvent:ee,delta:xe};he?(V.current=xe,_m(AB,m,Xe,{discrete:!1})):FC(xe,E.swipeDirection,me)?(V.current=xe,_m(RB,p,Xe,{discrete:!1}),ee.target.setPointerCapture(ee.pointerId)):(Math.abs(ge)>me||Math.abs(le)>me)&&(R.current=null)}),onPointerUp:pe(t.onPointerUp,ee=>{const ge=V.current,le=ee.target;if(le.hasPointerCapture(ee.pointerId)&&le.releasePointerCapture(ee.pointerId),V.current=null,R.current=null,ge){const he=ee.currentTarget,q={originalEvent:ee,delta:ge};FC(ge,E.swipeDirection,E.swipeThreshold)?_m(NB,x,q,{discrete:!0}):_m(PB,g,q,{discrete:!0}),he.addEventListener("click",Y=>Y.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),MB=t=>{const{__scopeToast:e,children:n,...r}=t,i=jv(Uv,e),[s,a]=w.useState(!1),[l,c]=w.useState(!1);return VB(()=>a(!0)),w.useEffect(()=>{const h=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(h)},[]),l?null:v.jsx(Tf,{asChild:!0,children:v.jsx(Sf,{...r,children:s&&v.jsxs(v.Fragment,{children:[i.label," ",n]})})})},LB="ToastTitle",JN=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return v.jsx(Oe.div,{...r,ref:e})});JN.displayName=LB;var FB="ToastDescription",ZN=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return v.jsx(Oe.div,{...r,ref:e})});ZN.displayName=FB;var ek="ToastAction",tk=w.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?v.jsx(rk,{altText:n,asChild:!0,children:v.jsx(W1,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ek}\`. Expected non-empty \`string\`.`),null)});tk.displayName=ek;var nk="ToastClose",W1=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=DB(nk,n);return v.jsx(rk,{asChild:!0,children:v.jsx(Oe.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,i.onClose)})})});W1.displayName=nk;var rk=w.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return v.jsx(Oe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function ik(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),jB(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...ik(r))}}),e}function _m(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?$1(i,s):i.dispatchEvent(s)}var FC=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function VB(t=()=>{}){const e=Dn(t);xn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function jB(t){return t.nodeType===t.ELEMENT_NODE}function UB(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function g_(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var $B=GN,sk=QN,ok=XN,ak=JN,lk=ZN,uk=tk,ck=W1;function dk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=dk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function hk(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=dk(t))&&(r&&(r+=" "),r+=e);return r}const VC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,jC=hk,$v=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return jC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(h=>{const p=n==null?void 0:n[h],m=s==null?void 0:s[h];if(p===null)return null;const g=VC(p)||VC(m);return i[h][g]}),l=n&&Object.entries(n).reduce((h,p)=>{let[m,g]=p;return g===void 0||(h[m]=g),h},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,p)=>{let{class:m,className:g,...x}=p;return Object.entries(x).every(I=>{let[E,b]=I;return Array.isArray(b)?b.includes({...s,...l}[E]):{...s,...l}[E]===b})?[...h,m,g]:h},[]);return jC(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fk=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...l},c)=>w.createElement("svg",{ref:c,...zB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:fk("lucide",i),...l},[...a.map(([h,p])=>w.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=(t,e)=>{const n=w.forwardRef(({className:r,...i},s)=>w.createElement(WB,{ref:s,iconNode:e,className:fk(`lucide-${BB(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=Zt("ChartBar",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=Zt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=Zt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=Zt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=Zt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=Zt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=Zt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=Zt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=Zt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=Zt("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=Zt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=Zt("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=Zt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=Zt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=Zt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=Zt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=Zt("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=Zt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=Zt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=Zt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=Zt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),q1="-",iz=t=>{const e=oz(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const l=a.split(q1);return l[0]===""&&l.length!==1&&l.shift(),vk(l,e)||sz(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&r[a]?[...c,...r[a]]:c}}},vk=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?vk(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(q1);return(a=e.validators.find(({validator:l})=>l(s)))==null?void 0:a.classGroupId},$C=/^\[(.+)\]$/,sz=t=>{if($C.test(t)){const e=$C.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},oz=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return lz(Object.entries(t.classGroups),n).forEach(([s,a])=>{Bw(a,r,s,e)}),r},Bw=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:BC(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(az(i)){Bw(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{Bw(a,BC(e,s),n,r)})})},BC=(t,e)=>{let n=t;return e.split(q1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},az=t=>t.isThemeGetter,lz=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,l])=>[e+a,l])):s);return[n,i]}):t,uz=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},yk="!",cz=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,a=l=>{const c=[];let h=0,p=0,m;for(let b=0;b<l.length;b++){let C=l[b];if(h===0){if(C===i&&(r||l.slice(b,b+s)===e)){c.push(l.slice(p,b)),p=b+s;continue}if(C==="/"){m=b;continue}}C==="["?h++:C==="]"&&h--}const g=c.length===0?l:l.substring(p),x=g.startsWith(yk),I=x?g.substring(1):g,E=m&&m>p?m-p:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:I,maybePostfixModifierPosition:E}};return n?l=>n({className:l,parseClassName:a}):a},dz=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},hz=t=>({cache:uz(t.cacheSize),parseClassName:cz(t),...iz(t)}),fz=/\s+/,pz=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(fz);let l="";for(let c=a.length-1;c>=0;c-=1){const h=a[c],{modifiers:p,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:x}=n(h);let I=!!x,E=r(I?g.substring(0,x):g);if(!E){if(!I){l=h+(l.length>0?" "+l:l);continue}if(E=r(g),!E){l=h+(l.length>0?" "+l:l);continue}I=!1}const b=dz(p).join(":"),C=m?b+yk:b,T=C+E;if(s.includes(T))continue;s.push(T);const R=i(E,I);for(let V=0;V<R.length;++V){const U=R[V];s.push(C+U)}l=h+(l.length>0?" "+l:l)}return l};function mz(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=_k(e))&&(r&&(r+=" "),r+=n);return r}const _k=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=_k(t[r]))&&(n&&(n+=" "),n+=e);return n};function gz(t,...e){let n,r,i,s=a;function a(c){const h=e.reduce((p,m)=>m(p),t());return n=hz(h),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const h=r(c);if(h)return h;const p=pz(c,n);return i(c,p),p}return function(){return s(mz.apply(null,arguments))}}const At=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},wk=/^\[(?:([a-z-]+):)?(.+)\]$/i,vz=/^\d+\/\d+$/,yz=new Set(["px","full","screen"]),_z=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,wz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Ez=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,xz=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Tz=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ls=t=>Xu(t)||yz.has(t)||vz.test(t),Co=t=>zc(t,"length",Nz),Xu=t=>!!t&&!Number.isNaN(Number(t)),v_=t=>zc(t,"number",Xu),Kd=t=>!!t&&Number.isInteger(Number(t)),Sz=t=>t.endsWith("%")&&Xu(t.slice(0,-1)),We=t=>wk.test(t),bo=t=>_z.test(t),Iz=new Set(["length","size","percentage"]),Cz=t=>zc(t,Iz,Ek),bz=t=>zc(t,"position",Ek),Rz=new Set(["image","url"]),Az=t=>zc(t,Rz,Dz),Pz=t=>zc(t,"",kz),Gd=()=>!0,zc=(t,e,n)=>{const r=wk.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Nz=t=>wz.test(t)&&!Ez.test(t),Ek=()=>!1,kz=t=>xz.test(t),Dz=t=>Tz.test(t),Oz=()=>{const t=At("colors"),e=At("spacing"),n=At("blur"),r=At("brightness"),i=At("borderColor"),s=At("borderRadius"),a=At("borderSpacing"),l=At("borderWidth"),c=At("contrast"),h=At("grayscale"),p=At("hueRotate"),m=At("invert"),g=At("gap"),x=At("gradientColorStops"),I=At("gradientColorStopPositions"),E=At("inset"),b=At("margin"),C=At("opacity"),T=At("padding"),R=At("saturate"),V=At("scale"),U=At("sepia"),z=At("skew"),N=At("space"),A=At("translate"),k=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",We,e],j=()=>[We,e],F=()=>["",Ls,Co],ee=()=>["auto",Xu,We],ge=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],le=()=>["solid","dashed","dotted","double","none"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],Y=()=>["","0",We],ue=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>[Xu,We];return{cacheSize:500,separator:":",theme:{colors:[Gd],spacing:[Ls,Co],blur:["none","",bo,We],brightness:oe(),borderColor:[t],borderRadius:["none","","full",bo,We],borderSpacing:j(),borderWidth:F(),contrast:oe(),grayscale:Y(),hueRotate:oe(),invert:Y(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[Sz,Co],inset:$(),margin:$(),opacity:oe(),padding:j(),saturate:oe(),scale:oe(),sepia:Y(),skew:oe(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",We]}],container:["container"],columns:[{columns:[bo]}],"break-after":[{"break-after":ue()}],"break-before":[{"break-before":ue()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ge(),We]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Kd,We]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",We]}],grow:[{grow:Y()}],shrink:[{shrink:Y()}],order:[{order:["first","last","none",Kd,We]}],"grid-cols":[{"grid-cols":[Gd]}],"col-start-end":[{col:["auto",{span:["full",Kd,We]},We]}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":[Gd]}],"row-start-end":[{row:["auto",{span:[Kd,We]},We]}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",We]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",We]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",We,e]}],"min-w":[{"min-w":[We,e,"min","max","fit"]}],"max-w":[{"max-w":[We,e,"none","full","min","max","fit","prose",{screen:[bo]},bo]}],h:[{h:[We,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[We,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[We,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[We,e,"auto","min","max","fit"]}],"font-size":[{text:["base",bo,Co]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",v_]}],"font-family":[{font:[Gd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",We]}],"line-clamp":[{"line-clamp":["none",Xu,v_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ls,We]}],"list-image":[{"list-image":["none",We]}],"list-style-type":[{list:["none","disc","decimal",We]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[C]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[C]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ls,Co]}],"underline-offset":[{"underline-offset":["auto",Ls,We]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",We]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",We]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[C]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ge(),bz]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Cz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Az]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[I]}],"gradient-via-pos":[{via:[I]}],"gradient-to-pos":[{to:[I]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[C]}],"border-style":[{border:[...le(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[C]}],"divide-style":[{divide:le()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...le()]}],"outline-offset":[{"outline-offset":[Ls,We]}],"outline-w":[{outline:[Ls,Co]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[C]}],"ring-offset-w":[{"ring-offset":[Ls,Co]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",bo,Pz]}],"shadow-color":[{shadow:[Gd]}],opacity:[{opacity:[C]}],"mix-blend":[{"mix-blend":[...he(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":he()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",bo,We]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[m]}],saturate:[{saturate:[R]}],sepia:[{sepia:[U]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[C]}],"backdrop-saturate":[{"backdrop-saturate":[R]}],"backdrop-sepia":[{"backdrop-sepia":[U]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",We]}],duration:[{duration:oe()}],ease:[{ease:["linear","in","out","in-out",We]}],delay:[{delay:oe()}],animate:[{animate:["none","spin","ping","pulse","bounce",We]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[V]}],"scale-x":[{"scale-x":[V]}],"scale-y":[{"scale-y":[V]}],rotate:[{rotate:[Kd,We]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[z]}],"skew-y":[{"skew-y":[z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",We]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",We]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",We]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ls,Co,v_]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Mz=gz(Oz);function Re(...t){return Mz(hk(t))}const Lz=$B,xk=w.forwardRef(({className:t,...e},n)=>v.jsx(sk,{ref:n,className:Re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));xk.displayName=sk.displayName;const Fz=$v("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Tk=w.forwardRef(({className:t,variant:e,...n},r)=>v.jsx(ok,{ref:r,className:Re(Fz({variant:e}),t),...n}));Tk.displayName=ok.displayName;const Vz=w.forwardRef(({className:t,...e},n)=>v.jsx(uk,{ref:n,className:Re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Vz.displayName=uk.displayName;const Sk=w.forwardRef(({className:t,...e},n)=>v.jsx(ck,{ref:n,className:Re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:v.jsx(G1,{className:"h-4 w-4"})}));Sk.displayName=ck.displayName;const Ik=w.forwardRef(({className:t,...e},n)=>v.jsx(ak,{ref:n,className:Re("text-sm font-semibold",t),...e}));Ik.displayName=ak.displayName;const Ck=w.forwardRef(({className:t,...e},n)=>v.jsx(lk,{ref:n,className:Re("text-sm opacity-90",t),...e}));Ck.displayName=lk.displayName;function jz(){const{toasts:t}=xf();return v.jsxs(Lz,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return v.jsxs(Tk,{...s,children:[v.jsxs("div",{className:"grid gap-1",children:[n&&v.jsx(Ik,{children:n}),r&&v.jsx(Ck,{children:r})]}),i,v.jsx(Sk,{})]},e)}),v.jsx(xk,{})]})}var zC=["light","dark"],Uz="(prefers-color-scheme: dark)",$z=w.createContext(void 0),Bz={setTheme:t=>{},themes:[]},zz=()=>{var t;return(t=w.useContext($z))!=null?t:Bz};w.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,attrs:l,nonce:c})=>{let h=s==="system",p=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(I=>`'${I}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,m=i?zC.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(I,E=!1,b=!0)=>{let C=a?a[I]:I,T=E?I+"|| ''":`'${C}'`,R="";return i&&b&&!E&&zC.includes(I)&&(R+=`d.style.colorScheme = '${I}';`),n==="class"?E||C?R+=`c.add(${T})`:R+="null":C&&(R+=`d[s](n,${T})`),R},x=t?`!function(){${p}${g(t)}}()`:r?`!function(){try{${p}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${h})){var t='${Uz}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${g(a?"x[e]":"e",!0)}}${h?"":"else{"+g(s,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${p}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${g(a?"x[e]":"e",!0)}}else{${g(s,!1,!1)};}${m}}catch(t){}}();`;return w.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:x}})});var Wz=t=>{switch(t){case"success":return Gz;case"info":return Qz;case"warning":return qz;case"error":return Yz;default:return null}},Hz=Array(12).fill(0),Kz=({visible:t})=>de.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},de.createElement("div",{className:"sonner-spinner"},Hz.map((e,n)=>de.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Gz=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),qz=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Qz=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Yz=de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},de.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Xz=()=>{let[t,e]=de.useState(document.hidden);return de.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},zw=1,Jz=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:zw++,a=this.toasts.find(c=>c.id===s),l=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...e,id:s,title:r}),{...c,...e,id:s,dismissible:l,title:r}):c):this.addToast({title:r,...i,dismissible:l,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0;return i.then(async a=>{if(eW(a)&&!a.ok){s=!1;let l=typeof n.error=="function"?await n.error(`HTTP error! status: ${a.status}`):n.error,c=typeof n.description=="function"?await n.description(`HTTP error! status: ${a.status}`):n.description;this.create({id:r,type:"error",message:l,description:c})}else if(n.success!==void 0){s=!1;let l=typeof n.success=="function"?await n.success(a):n.success,c=typeof n.description=="function"?await n.description(a):n.description;this.create({id:r,type:"success",message:l,description:c})}}).catch(async a=>{if(n.error!==void 0){s=!1;let l=typeof n.error=="function"?await n.error(a):n.error,c=typeof n.description=="function"?await n.description(a):n.description;this.create({id:r,type:"error",message:l,description:c})}}).finally(()=>{var a;s&&(this.dismiss(r),r=void 0),(a=n.finally)==null||a.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||zw++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},Dr=new Jz,Zz=(t,e)=>{let n=(e==null?void 0:e.id)||zw++;return Dr.addToast({title:t,...e,id:n}),n},eW=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",tW=Zz,nW=()=>Dr.toasts,Lr=Object.assign(tW,{success:Dr.success,info:Dr.info,warning:Dr.warning,error:Dr.error,custom:Dr.custom,message:Dr.message,promise:Dr.promise,dismiss:Dr.dismiss,loading:Dr.loading},{getHistory:nW});function rW(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}rW(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function wm(t){return t.label!==void 0}var iW=3,sW="32px",oW=4e3,aW=356,lW=14,uW=20,cW=200;function dW(...t){return t.filter(Boolean).join(" ")}var hW=t=>{var e,n,r,i,s,a,l,c,h,p;let{invert:m,toast:g,unstyled:x,interacting:I,setHeights:E,visibleToasts:b,heights:C,index:T,toasts:R,expanded:V,removeToast:U,defaultRichColors:z,closeButton:N,style:A,cancelButtonStyle:k,actionButtonStyle:L,className:$="",descriptionClassName:j="",duration:F,position:ee,gap:ge,loadingIcon:le,expandByDefault:he,classNames:q,icons:Y,closeButtonAriaLabel:ue="Close toast",pauseWhenPageIsHidden:oe,cn:me}=t,[xe,Xe]=de.useState(!1),[ot,De]=de.useState(!1),[_e,Ue]=de.useState(!1),[He,$e]=de.useState(!1),[Ke,Be]=de.useState(0),[$t,wt]=de.useState(0),mn=de.useRef(null),Tn=de.useRef(null),rn=T===0,lo=T+1<=b,Bt=g.type,Ln=g.dismissible!==!1,Fn=g.className||"",_s=g.descriptionClassName||"",Cr=de.useMemo(()=>C.findIndex(Me=>Me.toastId===g.id)||0,[C,g.id]),ja=de.useMemo(()=>{var Me;return(Me=g.closeButton)!=null?Me:N},[g.closeButton,N]),fi=de.useMemo(()=>g.duration||F||oW,[g.duration,F]),zt=de.useRef(0),St=de.useRef(0),ur=de.useRef(0),br=de.useRef(null),[ws,Ua]=ee.split("-"),Wr=de.useMemo(()=>C.reduce((Me,mt,ct)=>ct>=Cr?Me:Me+mt.height,0),[C,Cr]),Es=Xz(),uo=g.invert||m,pi=Bt==="loading";St.current=de.useMemo(()=>Cr*ge+Wr,[Cr,Wr]),de.useEffect(()=>{Xe(!0)},[]),de.useLayoutEffect(()=>{if(!xe)return;let Me=Tn.current,mt=Me.style.height;Me.style.height="auto";let ct=Me.getBoundingClientRect().height;Me.style.height=mt,wt(ct),E(sn=>sn.find(Sn=>Sn.toastId===g.id)?sn.map(Sn=>Sn.toastId===g.id?{...Sn,height:ct}:Sn):[{toastId:g.id,height:ct,position:g.position},...sn])},[xe,g.title,g.description,E,g.id]);let cr=de.useCallback(()=>{De(!0),Be(St.current),E(Me=>Me.filter(mt=>mt.toastId!==g.id)),setTimeout(()=>{U(g)},cW)},[g,U,E,St]);de.useEffect(()=>{if(g.promise&&Bt==="loading"||g.duration===1/0||g.type==="loading")return;let Me,mt=fi;return V||I||oe&&Es?(()=>{if(ur.current<zt.current){let ct=new Date().getTime()-zt.current;mt=mt-ct}ur.current=new Date().getTime()})():mt!==1/0&&(zt.current=new Date().getTime(),Me=setTimeout(()=>{var ct;(ct=g.onAutoClose)==null||ct.call(g,g),cr()},mt)),()=>clearTimeout(Me)},[V,I,he,g,fi,cr,g.promise,Bt,oe,Es]),de.useEffect(()=>{let Me=Tn.current;if(Me){let mt=Me.getBoundingClientRect().height;return wt(mt),E(ct=>[{toastId:g.id,height:mt,position:g.position},...ct]),()=>E(ct=>ct.filter(sn=>sn.toastId!==g.id))}},[E,g.id]),de.useEffect(()=>{g.delete&&cr()},[cr,g.delete]);function $a(){return Y!=null&&Y.loading?de.createElement("div",{className:"sonner-loader","data-visible":Bt==="loading"},Y.loading):le?de.createElement("div",{className:"sonner-loader","data-visible":Bt==="loading"},le):de.createElement(Kz,{visible:Bt==="loading"})}return de.createElement("li",{"aria-live":g.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Tn,className:me($,Fn,q==null?void 0:q.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,q==null?void 0:q.default,q==null?void 0:q[Bt],(n=g==null?void 0:g.classNames)==null?void 0:n[Bt]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:z,"data-styled":!(g.jsx||g.unstyled||x),"data-mounted":xe,"data-promise":!!g.promise,"data-removed":ot,"data-visible":lo,"data-y-position":ws,"data-x-position":Ua,"data-index":T,"data-front":rn,"data-swiping":_e,"data-dismissible":Ln,"data-type":Bt,"data-invert":uo,"data-swipe-out":He,"data-expanded":!!(V||he&&xe),style:{"--index":T,"--toasts-before":T,"--z-index":R.length-T,"--offset":`${ot?Ke:St.current}px`,"--initial-height":he?"auto":`${$t}px`,...A,...g.style},onPointerDown:Me=>{pi||!Ln||(mn.current=new Date,Be(St.current),Me.target.setPointerCapture(Me.pointerId),Me.target.tagName!=="BUTTON"&&(Ue(!0),br.current={x:Me.clientX,y:Me.clientY}))},onPointerUp:()=>{var Me,mt,ct,sn;if(He||!Ln)return;br.current=null;let Sn=Number(((Me=Tn.current)==null?void 0:Me.style.getPropertyValue("--swipe-amount").replace("px",""))||0),$i=new Date().getTime()-((mt=mn.current)==null?void 0:mt.getTime()),mi=Math.abs(Sn)/$i;if(Math.abs(Sn)>=uW||mi>.11){Be(St.current),(ct=g.onDismiss)==null||ct.call(g,g),cr(),$e(!0);return}(sn=Tn.current)==null||sn.style.setProperty("--swipe-amount","0px"),Ue(!1)},onPointerMove:Me=>{var mt;if(!br.current||!Ln)return;let ct=Me.clientY-br.current.y,sn=Me.clientX-br.current.x,Sn=(ws==="top"?Math.min:Math.max)(0,ct),$i=Me.pointerType==="touch"?10:2;Math.abs(Sn)>$i?(mt=Tn.current)==null||mt.style.setProperty("--swipe-amount",`${ct}px`):Math.abs(sn)>$i&&(br.current=null)}},ja&&!g.jsx?de.createElement("button",{"aria-label":ue,"data-disabled":pi,"data-close-button":!0,onClick:pi||!Ln?()=>{}:()=>{var Me;cr(),(Me=g.onDismiss)==null||Me.call(g,g)},className:me(q==null?void 0:q.closeButton,(i=g==null?void 0:g.classNames)==null?void 0:i.closeButton)},de.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},de.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),de.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,g.jsx||de.isValidElement(g.title)?g.jsx||g.title:de.createElement(de.Fragment,null,Bt||g.icon||g.promise?de.createElement("div",{"data-icon":"",className:me(q==null?void 0:q.icon,(s=g==null?void 0:g.classNames)==null?void 0:s.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||$a():null,g.type!=="loading"?g.icon||(Y==null?void 0:Y[Bt])||Wz(Bt):null):null,de.createElement("div",{"data-content":"",className:me(q==null?void 0:q.content,(a=g==null?void 0:g.classNames)==null?void 0:a.content)},de.createElement("div",{"data-title":"",className:me(q==null?void 0:q.title,(l=g==null?void 0:g.classNames)==null?void 0:l.title)},g.title),g.description?de.createElement("div",{"data-description":"",className:me(j,_s,q==null?void 0:q.description,(c=g==null?void 0:g.classNames)==null?void 0:c.description)},g.description):null),de.isValidElement(g.cancel)?g.cancel:g.cancel&&wm(g.cancel)?de.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||k,onClick:Me=>{var mt,ct;wm(g.cancel)&&Ln&&((ct=(mt=g.cancel).onClick)==null||ct.call(mt,Me),cr())},className:me(q==null?void 0:q.cancelButton,(h=g==null?void 0:g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,de.isValidElement(g.action)?g.action:g.action&&wm(g.action)?de.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||L,onClick:Me=>{var mt,ct;wm(g.action)&&(Me.defaultPrevented||((ct=(mt=g.action).onClick)==null||ct.call(mt,Me),cr()))},className:me(q==null?void 0:q.actionButton,(p=g==null?void 0:g.classNames)==null?void 0:p.actionButton)},g.action.label):null))};function WC(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var fW=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:a,offset:l,theme:c="light",richColors:h,duration:p,style:m,visibleToasts:g=iW,toastOptions:x,dir:I=WC(),gap:E=lW,loadingIcon:b,icons:C,containerAriaLabel:T="Notifications",pauseWhenPageIsHidden:R,cn:V=dW}=t,[U,z]=de.useState([]),N=de.useMemo(()=>Array.from(new Set([n].concat(U.filter(oe=>oe.position).map(oe=>oe.position)))),[U,n]),[A,k]=de.useState([]),[L,$]=de.useState(!1),[j,F]=de.useState(!1),[ee,ge]=de.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),le=de.useRef(null),he=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=de.useRef(null),Y=de.useRef(!1),ue=de.useCallback(oe=>{var me;(me=U.find(xe=>xe.id===oe.id))!=null&&me.delete||Dr.dismiss(oe.id),z(xe=>xe.filter(({id:Xe})=>Xe!==oe.id))},[U]);return de.useEffect(()=>Dr.subscribe(oe=>{if(oe.dismiss){z(me=>me.map(xe=>xe.id===oe.id?{...xe,delete:!0}:xe));return}setTimeout(()=>{UN.flushSync(()=>{z(me=>{let xe=me.findIndex(Xe=>Xe.id===oe.id);return xe!==-1?[...me.slice(0,xe),{...me[xe],...oe},...me.slice(xe+1)]:[oe,...me]})})})}),[]),de.useEffect(()=>{if(c!=="system"){ge(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ge("dark"):ge("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:oe})=>{ge(oe?"dark":"light")})},[c]),de.useEffect(()=>{U.length<=1&&$(!1)},[U]),de.useEffect(()=>{let oe=me=>{var xe,Xe;r.every(ot=>me[ot]||me.code===ot)&&($(!0),(xe=le.current)==null||xe.focus()),me.code==="Escape"&&(document.activeElement===le.current||(Xe=le.current)!=null&&Xe.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",oe),()=>document.removeEventListener("keydown",oe)},[r]),de.useEffect(()=>{if(le.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,Y.current=!1)}},[le.current]),U.length?de.createElement("section",{"aria-label":`${T} ${he}`,tabIndex:-1},N.map((oe,me)=>{var xe;let[Xe,ot]=oe.split("-");return de.createElement("ol",{key:oe,dir:I==="auto"?WC():I,tabIndex:-1,ref:le,className:a,"data-sonner-toaster":!0,"data-theme":ee,"data-y-position":Xe,"data-x-position":ot,style:{"--front-toast-height":`${((xe=A[0])==null?void 0:xe.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||sW,"--width":`${aW}px`,"--gap":`${E}px`,...m},onBlur:De=>{Y.current&&!De.currentTarget.contains(De.relatedTarget)&&(Y.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:De=>{De.target instanceof HTMLElement&&De.target.dataset.dismissible==="false"||Y.current||(Y.current=!0,q.current=De.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{j||$(!1)},onPointerDown:De=>{De.target instanceof HTMLElement&&De.target.dataset.dismissible==="false"||F(!0)},onPointerUp:()=>F(!1)},U.filter(De=>!De.position&&me===0||De.position===oe).map((De,_e)=>{var Ue,He;return de.createElement(hW,{key:De.id,icons:C,index:_e,toast:De,defaultRichColors:h,duration:(Ue=x==null?void 0:x.duration)!=null?Ue:p,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:e,visibleToasts:g,closeButton:(He=x==null?void 0:x.closeButton)!=null?He:s,interacting:j,position:oe,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:ue,toasts:U.filter($e=>$e.position==De.position),heights:A.filter($e=>$e.position==De.position),setHeights:k,expandByDefault:i,gap:E,loadingIcon:b,expanded:L,pauseWhenPageIsHidden:R,cn:V})}))})):null};const pW=({...t})=>{const{theme:e="system"}=zz();return v.jsx(fW,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var mW=FA.useId||(()=>{}),gW=0;function ss(t){const[e,n]=w.useState(mW());return xn(()=>{n(r=>r??String(gW++))},[t]),e?`radix-${e}`:""}const vW=["top","right","bottom","left"],va=Math.min,Mr=Math.max,Fg=Math.round,Em=Math.floor,ya=t=>({x:t,y:t}),yW={left:"right",right:"left",bottom:"top",top:"bottom"},_W={start:"end",end:"start"};function Ww(t,e,n){return Mr(t,va(e,n))}function Zs(t,e){return typeof t=="function"?t(e):t}function eo(t){return t.split("-")[0]}function Wc(t){return t.split("-")[1]}function Q1(t){return t==="x"?"y":"x"}function Y1(t){return t==="y"?"height":"width"}function _a(t){return["top","bottom"].includes(eo(t))?"y":"x"}function X1(t){return Q1(_a(t))}function wW(t,e,n){n===void 0&&(n=!1);const r=Wc(t),i=X1(t),s=Y1(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Vg(a)),[a,Vg(a)]}function EW(t){const e=Vg(t);return[Hw(t),e,Hw(e)]}function Hw(t){return t.replace(/start|end/g,e=>_W[e])}function xW(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:a;default:return[]}}function TW(t,e,n,r){const i=Wc(t);let s=xW(eo(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(Hw)))),s}function Vg(t){return t.replace(/left|right|bottom|top/g,e=>yW[e])}function SW(t){return{top:0,right:0,bottom:0,left:0,...t}}function bk(t){return typeof t!="number"?SW(t):{top:t,right:t,bottom:t,left:t}}function jg(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function HC(t,e,n){let{reference:r,floating:i}=t;const s=_a(e),a=X1(e),l=Y1(a),c=eo(e),h=s==="y",p=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,g=r[l]/2-i[l]/2;let x;switch(c){case"top":x={x:p,y:r.y-i.height};break;case"bottom":x={x:p,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:m};break;case"left":x={x:r.x-i.width,y:m};break;default:x={x:r.x,y:r.y}}switch(Wc(e)){case"start":x[a]-=g*(n&&h?-1:1);break;case"end":x[a]+=g*(n&&h?-1:1);break}return x}const IW=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,l=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let h=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:m}=HC(h,r,c),g=r,x={},I=0;for(let E=0;E<l.length;E++){const{name:b,fn:C}=l[E],{x:T,y:R,data:V,reset:U}=await C({x:p,y:m,initialPlacement:r,placement:g,strategy:i,middlewareData:x,rects:h,platform:a,elements:{reference:t,floating:e}});p=T??p,m=R??m,x={...x,[b]:{...x[b],...V}},U&&I<=50&&(I++,typeof U=="object"&&(U.placement&&(g=U.placement),U.rects&&(h=U.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):U.rects),{x:p,y:m}=HC(h,g,c)),E=-1)}return{x:p,y:m,placement:g,strategy:i,middlewareData:x}};async function zh(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:l,strategy:c}=t,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:g=!1,padding:x=0}=Zs(e,t),I=bk(x),b=l[g?m==="floating"?"reference":"floating":m],C=jg(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:h,rootBoundary:p,strategy:c})),T=m==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),V=await(s.isElement==null?void 0:s.isElement(R))?await(s.getScale==null?void 0:s.getScale(R))||{x:1,y:1}:{x:1,y:1},U=jg(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:T,offsetParent:R,strategy:c}):T);return{top:(C.top-U.top+I.top)/V.y,bottom:(U.bottom-C.bottom+I.bottom)/V.y,left:(C.left-U.left+I.left)/V.x,right:(U.right-C.right+I.right)/V.x}}const CW=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:l,middlewareData:c}=e,{element:h,padding:p=0}=Zs(t,e)||{};if(h==null)return{};const m=bk(p),g={x:n,y:r},x=X1(i),I=Y1(x),E=await a.getDimensions(h),b=x==="y",C=b?"top":"left",T=b?"bottom":"right",R=b?"clientHeight":"clientWidth",V=s.reference[I]+s.reference[x]-g[x]-s.floating[I],U=g[x]-s.reference[x],z=await(a.getOffsetParent==null?void 0:a.getOffsetParent(h));let N=z?z[R]:0;(!N||!await(a.isElement==null?void 0:a.isElement(z)))&&(N=l.floating[R]||s.floating[I]);const A=V/2-U/2,k=N/2-E[I]/2-1,L=va(m[C],k),$=va(m[T],k),j=L,F=N-E[I]-$,ee=N/2-E[I]/2+A,ge=Ww(j,ee,F),le=!c.arrow&&Wc(i)!=null&&ee!==ge&&s.reference[I]/2-(ee<j?L:$)-E[I]/2<0,he=le?ee<j?ee-j:ee-F:0;return{[x]:g[x]+he,data:{[x]:ge,centerOffset:ee-ge-he,...le&&{alignmentOffset:he}},reset:le}}}),bW=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:h}=e,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:I="none",flipAlignment:E=!0,...b}=Zs(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const C=eo(i),T=_a(l),R=eo(l)===l,V=await(c.isRTL==null?void 0:c.isRTL(h.floating)),U=g||(R||!E?[Vg(l)]:EW(l)),z=I!=="none";!g&&z&&U.push(...TW(l,E,I,V));const N=[l,...U],A=await zh(e,b),k=[];let L=((r=s.flip)==null?void 0:r.overflows)||[];if(p&&k.push(A[C]),m){const ee=wW(i,a,V);k.push(A[ee[0]],A[ee[1]])}if(L=[...L,{placement:i,overflows:k}],!k.every(ee=>ee<=0)){var $,j;const ee=((($=s.flip)==null?void 0:$.index)||0)+1,ge=N[ee];if(ge)return{data:{index:ee,overflows:L},reset:{placement:ge}};let le=(j=L.filter(he=>he.overflows[0]<=0).sort((he,q)=>he.overflows[1]-q.overflows[1])[0])==null?void 0:j.placement;if(!le)switch(x){case"bestFit":{var F;const he=(F=L.filter(q=>{if(z){const Y=_a(q.placement);return Y===T||Y==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(Y=>Y>0).reduce((Y,ue)=>Y+ue,0)]).sort((q,Y)=>q[1]-Y[1])[0])==null?void 0:F[0];he&&(le=he);break}case"initialPlacement":le=l;break}if(i!==le)return{reset:{placement:le}}}return{}}}};function KC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function GC(t){return vW.some(e=>t[e]>=0)}const RW=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Zs(t,e);switch(r){case"referenceHidden":{const s=await zh(e,{...i,elementContext:"reference"}),a=KC(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:GC(a)}}}case"escaped":{const s=await zh(e,{...i,altBoundary:!0}),a=KC(s,n.floating);return{data:{escapedOffsets:a,escaped:GC(a)}}}default:return{}}}}};async function AW(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=eo(n),l=Wc(n),c=_a(n)==="y",h=["left","top"].includes(a)?-1:1,p=s&&c?-1:1,m=Zs(e,t);let{mainAxis:g,crossAxis:x,alignmentAxis:I}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof I=="number"&&(x=l==="end"?I*-1:I),c?{x:x*p,y:g*h}:{x:g*h,y:x*p}}const PW=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:l}=e,c=await AW(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},NW=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:b=>{let{x:C,y:T}=b;return{x:C,y:T}}},...c}=Zs(t,e),h={x:n,y:r},p=await zh(e,c),m=_a(eo(i)),g=Q1(m);let x=h[g],I=h[m];if(s){const b=g==="y"?"top":"left",C=g==="y"?"bottom":"right",T=x+p[b],R=x-p[C];x=Ww(T,x,R)}if(a){const b=m==="y"?"top":"left",C=m==="y"?"bottom":"right",T=I+p[b],R=I-p[C];I=Ww(T,I,R)}const E=l.fn({...e,[g]:x,[m]:I});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[g]:s,[m]:a}}}}}},kW=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:h=!0}=Zs(t,e),p={x:n,y:r},m=_a(i),g=Q1(m);let x=p[g],I=p[m];const E=Zs(l,e),b=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(c){const R=g==="y"?"height":"width",V=s.reference[g]-s.floating[R]+b.mainAxis,U=s.reference[g]+s.reference[R]-b.mainAxis;x<V?x=V:x>U&&(x=U)}if(h){var C,T;const R=g==="y"?"width":"height",V=["top","left"].includes(eo(i)),U=s.reference[m]-s.floating[R]+(V&&((C=a.offset)==null?void 0:C[m])||0)+(V?0:b.crossAxis),z=s.reference[m]+s.reference[R]+(V?0:((T=a.offset)==null?void 0:T[m])||0)-(V?b.crossAxis:0);I<U?I=U:I>z&&(I=z)}return{[g]:x,[m]:I}}}},DW=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:l}=e,{apply:c=()=>{},...h}=Zs(t,e),p=await zh(e,h),m=eo(i),g=Wc(i),x=_a(i)==="y",{width:I,height:E}=s.floating;let b,C;m==="top"||m==="bottom"?(b=m,C=g===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(C=m,b=g==="end"?"top":"bottom");const T=E-p.top-p.bottom,R=I-p.left-p.right,V=va(E-p[b],T),U=va(I-p[C],R),z=!e.middlewareData.shift;let N=V,A=U;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(A=R),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=T),z&&!g){const L=Mr(p.left,0),$=Mr(p.right,0),j=Mr(p.top,0),F=Mr(p.bottom,0);x?A=I-2*(L!==0||$!==0?L+$:Mr(p.left,p.right)):N=E-2*(j!==0||F!==0?j+F:Mr(p.top,p.bottom))}await c({...e,availableWidth:A,availableHeight:N});const k=await a.getDimensions(l.floating);return I!==k.width||E!==k.height?{reset:{rects:!0}}:{}}}};function Bv(){return typeof window<"u"}function Hc(t){return Rk(t)?(t.nodeName||"").toLowerCase():"#document"}function Ur(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function gs(t){var e;return(e=(Rk(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Rk(t){return Bv()?t instanceof Node||t instanceof Ur(t).Node:!1}function Li(t){return Bv()?t instanceof Element||t instanceof Ur(t).Element:!1}function ds(t){return Bv()?t instanceof HTMLElement||t instanceof Ur(t).HTMLElement:!1}function qC(t){return!Bv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ur(t).ShadowRoot}function If(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Fi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function OW(t){return["table","td","th"].includes(Hc(t))}function zv(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function J1(t){const e=Z1(),n=Li(t)?Fi(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function MW(t){let e=wa(t);for(;ds(e)&&!Ic(e);){if(J1(e))return e;if(zv(e))return null;e=wa(e)}return null}function Z1(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ic(t){return["html","body","#document"].includes(Hc(t))}function Fi(t){return Ur(t).getComputedStyle(t)}function Wv(t){return Li(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function wa(t){if(Hc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||qC(t)&&t.host||gs(t);return qC(e)?e.host:e}function Ak(t){const e=wa(t);return Ic(e)?t.ownerDocument?t.ownerDocument.body:t.body:ds(e)&&If(e)?e:Ak(e)}function Wh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Ak(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=Ur(i);if(s){const l=Kw(a);return e.concat(a,a.visualViewport||[],If(i)?i:[],l&&n?Wh(l):[])}return e.concat(i,Wh(i,[],n))}function Kw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Pk(t){const e=Fi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ds(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,l=Fg(n)!==s||Fg(r)!==a;return l&&(n=s,r=a),{width:n,height:r,$:l}}function ex(t){return Li(t)?t:t.contextElement}function Ju(t){const e=ex(t);if(!ds(e))return ya(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Pk(e);let a=(s?Fg(n.width):n.width)/r,l=(s?Fg(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const LW=ya(0);function Nk(t){const e=Ur(t);return!Z1()||!e.visualViewport?LW:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function FW(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ur(t)?!1:e}function kl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=ex(t);let a=ya(1);e&&(r?Li(r)&&(a=Ju(r)):a=Ju(t));const l=FW(s,n,r)?Nk(s):ya(0);let c=(i.left+l.x)/a.x,h=(i.top+l.y)/a.y,p=i.width/a.x,m=i.height/a.y;if(s){const g=Ur(s),x=r&&Li(r)?Ur(r):r;let I=g,E=Kw(I);for(;E&&r&&x!==I;){const b=Ju(E),C=E.getBoundingClientRect(),T=Fi(E),R=C.left+(E.clientLeft+parseFloat(T.paddingLeft))*b.x,V=C.top+(E.clientTop+parseFloat(T.paddingTop))*b.y;c*=b.x,h*=b.y,p*=b.x,m*=b.y,c+=R,h+=V,I=Ur(E),E=Kw(I)}}return jg({width:p,height:m,x:c,y:h})}function VW(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=gs(r),l=e?zv(e.floating):!1;if(r===a||l&&s)return n;let c={scrollLeft:0,scrollTop:0},h=ya(1);const p=ya(0),m=ds(r);if((m||!m&&!s)&&((Hc(r)!=="body"||If(a))&&(c=Wv(r)),ds(r))){const g=kl(r);h=Ju(r),p.x=g.x+r.clientLeft,p.y=g.y+r.clientTop}return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-c.scrollLeft*h.x+p.x,y:n.y*h.y-c.scrollTop*h.y+p.y}}function jW(t){return Array.from(t.getClientRects())}function Gw(t,e){const n=Wv(t).scrollLeft;return e?e.left+n:kl(gs(t)).left+n}function UW(t){const e=gs(t),n=Wv(t),r=t.ownerDocument.body,i=Mr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Mr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Gw(t);const l=-n.scrollTop;return Fi(r).direction==="rtl"&&(a+=Mr(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:l}}function $W(t,e){const n=Ur(t),r=gs(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,l=0,c=0;if(i){s=i.width,a=i.height;const h=Z1();(!h||h&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:l,y:c}}function BW(t,e){const n=kl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=ds(t)?Ju(t):ya(1),a=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,h=r*s.y;return{width:a,height:l,x:c,y:h}}function QC(t,e,n){let r;if(e==="viewport")r=$W(t,n);else if(e==="document")r=UW(gs(t));else if(Li(e))r=BW(e,n);else{const i=Nk(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return jg(r)}function kk(t,e){const n=wa(t);return n===e||!Li(n)||Ic(n)?!1:Fi(n).position==="fixed"||kk(n,e)}function zW(t,e){const n=e.get(t);if(n)return n;let r=Wh(t,[],!1).filter(l=>Li(l)&&Hc(l)!=="body"),i=null;const s=Fi(t).position==="fixed";let a=s?wa(t):t;for(;Li(a)&&!Ic(a);){const l=Fi(a),c=J1(a);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||If(a)&&!c&&kk(t,a))?r=r.filter(p=>p!==a):i=l,a=wa(a)}return e.set(t,r),r}function WW(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?zv(e)?[]:zW(e,this._c):[].concat(n),r],l=a[0],c=a.reduce((h,p)=>{const m=QC(e,p,i);return h.top=Mr(m.top,h.top),h.right=va(m.right,h.right),h.bottom=va(m.bottom,h.bottom),h.left=Mr(m.left,h.left),h},QC(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function HW(t){const{width:e,height:n}=Pk(t);return{width:e,height:n}}function KW(t,e,n){const r=ds(e),i=gs(e),s=n==="fixed",a=kl(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=ya(0);if(r||!r&&!s)if((Hc(e)!=="body"||If(i))&&(l=Wv(e)),r){const x=kl(e,!0,s,e);c.x=x.x+e.clientLeft,c.y=x.y+e.clientTop}else i&&(c.x=Gw(i));let h=0,p=0;if(i&&!r&&!s){const x=i.getBoundingClientRect();p=x.top+l.scrollTop,h=x.left+l.scrollLeft-Gw(i,x)}const m=a.left+l.scrollLeft-c.x-h,g=a.top+l.scrollTop-c.y-p;return{x:m,y:g,width:a.width,height:a.height}}function y_(t){return Fi(t).position==="static"}function YC(t,e){if(!ds(t)||Fi(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return gs(t)===n&&(n=n.ownerDocument.body),n}function Dk(t,e){const n=Ur(t);if(zv(t))return n;if(!ds(t)){let i=wa(t);for(;i&&!Ic(i);){if(Li(i)&&!y_(i))return i;i=wa(i)}return n}let r=YC(t,e);for(;r&&OW(r)&&y_(r);)r=YC(r,e);return r&&Ic(r)&&y_(r)&&!J1(r)?n:r||MW(t)||n}const GW=async function(t){const e=this.getOffsetParent||Dk,n=this.getDimensions,r=await n(t.floating);return{reference:KW(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function qW(t){return Fi(t).direction==="rtl"}const QW={convertOffsetParentRelativeRectToViewportRelativeRect:VW,getDocumentElement:gs,getClippingRect:WW,getOffsetParent:Dk,getElementRects:GW,getClientRects:jW,getDimensions:HW,getScale:Ju,isElement:Li,isRTL:qW};function YW(t,e){let n=null,r;const i=gs(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const{left:h,top:p,width:m,height:g}=t.getBoundingClientRect();if(l||e(),!m||!g)return;const x=Em(p),I=Em(i.clientWidth-(h+m)),E=Em(i.clientHeight-(p+g)),b=Em(h),T={rootMargin:-x+"px "+-I+"px "+-E+"px "+-b+"px",threshold:Mr(0,va(1,c))||1};let R=!0;function V(U){const z=U[0].intersectionRatio;if(z!==c){if(!R)return a();z?a(!1,z):r=setTimeout(()=>{a(!1,1e-7)},1e3)}R=!1}try{n=new IntersectionObserver(V,{...T,root:i.ownerDocument})}catch{n=new IntersectionObserver(V,T)}n.observe(t)}return a(!0),s}function XW(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,h=ex(t),p=i||s?[...h?Wh(h):[],...Wh(e)]:[];p.forEach(C=>{i&&C.addEventListener("scroll",n,{passive:!0}),s&&C.addEventListener("resize",n)});const m=h&&l?YW(h,n):null;let g=-1,x=null;a&&(x=new ResizeObserver(C=>{let[T]=C;T&&T.target===h&&x&&(x.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var R;(R=x)==null||R.observe(e)})),n()}),h&&!c&&x.observe(h),x.observe(e));let I,E=c?kl(t):null;c&&b();function b(){const C=kl(t);E&&(C.x!==E.x||C.y!==E.y||C.width!==E.width||C.height!==E.height)&&n(),E=C,I=requestAnimationFrame(b)}return n(),()=>{var C;p.forEach(T=>{i&&T.removeEventListener("scroll",n),s&&T.removeEventListener("resize",n)}),m==null||m(),(C=x)==null||C.disconnect(),x=null,c&&cancelAnimationFrame(I)}}const JW=PW,ZW=NW,e8=bW,t8=DW,n8=RW,XC=CW,r8=kW,i8=(t,e,n)=>{const r=new Map,i={platform:QW,...n},s={...i.platform,_c:r};return IW(t,e,{...i,platform:s})};var Xm=typeof document<"u"?w.useLayoutEffect:w.useEffect;function Ug(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ug(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Ug(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Ok(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function JC(t,e){const n=Ok(t);return Math.round(e*n)/n}function __(t){const e=w.useRef(t);return Xm(()=>{e.current=t}),e}function s8(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:c,open:h}=t,[p,m]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,x]=w.useState(r);Ug(g,r)||x(r);const[I,E]=w.useState(null),[b,C]=w.useState(null),T=w.useCallback(q=>{q!==z.current&&(z.current=q,E(q))},[]),R=w.useCallback(q=>{q!==N.current&&(N.current=q,C(q))},[]),V=s||I,U=a||b,z=w.useRef(null),N=w.useRef(null),A=w.useRef(p),k=c!=null,L=__(c),$=__(i),j=__(h),F=w.useCallback(()=>{if(!z.current||!N.current)return;const q={placement:e,strategy:n,middleware:g};$.current&&(q.platform=$.current),i8(z.current,N.current,q).then(Y=>{const ue={...Y,isPositioned:j.current!==!1};ee.current&&!Ug(A.current,ue)&&(A.current=ue,Wl.flushSync(()=>{m(ue)}))})},[g,e,n,$,j]);Xm(()=>{h===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,m(q=>({...q,isPositioned:!1})))},[h]);const ee=w.useRef(!1);Xm(()=>(ee.current=!0,()=>{ee.current=!1}),[]),Xm(()=>{if(V&&(z.current=V),U&&(N.current=U),V&&U){if(L.current)return L.current(V,U,F);F()}},[V,U,F,L,k]);const ge=w.useMemo(()=>({reference:z,floating:N,setReference:T,setFloating:R}),[T,R]),le=w.useMemo(()=>({reference:V,floating:U}),[V,U]),he=w.useMemo(()=>{const q={position:n,left:0,top:0};if(!le.floating)return q;const Y=JC(le.floating,p.x),ue=JC(le.floating,p.y);return l?{...q,transform:"translate("+Y+"px, "+ue+"px)",...Ok(le.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Y,top:ue}},[n,l,le.floating,p.x,p.y]);return w.useMemo(()=>({...p,update:F,refs:ge,elements:le,floatingStyles:he}),[p,F,ge,le,he])}const o8=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?XC({element:r.current,padding:i}).fn(n):{}:r?XC({element:r,padding:i}).fn(n):{}}}},a8=(t,e)=>({...JW(t),options:[t,e]}),l8=(t,e)=>({...ZW(t),options:[t,e]}),u8=(t,e)=>({...r8(t),options:[t,e]}),c8=(t,e)=>({...e8(t),options:[t,e]}),d8=(t,e)=>({...t8(t),options:[t,e]}),h8=(t,e)=>({...n8(t),options:[t,e]}),f8=(t,e)=>({...o8(t),options:[t,e]});var p8="Arrow",Mk=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return v.jsx(Oe.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});Mk.displayName=p8;var m8=Mk;function g8(t,e=[]){let n=[];function r(s,a){const l=w.createContext(a),c=n.length;n=[...n,a];function h(m){const{scope:g,children:x,...I}=m,E=(g==null?void 0:g[t][c])||l,b=w.useMemo(()=>I,Object.values(I));return v.jsx(E.Provider,{value:b,children:x})}function p(m,g){const x=(g==null?void 0:g[t][c])||l,I=w.useContext(x);if(I)return I;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${s}\``)}return h.displayName=s+"Provider",[h,p]}const i=()=>{const s=n.map(a=>w.createContext(a));return function(l){const c=(l==null?void 0:l[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,v8(i,...e)]}function v8(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:c,scopeName:h})=>{const m=c(s)[`__scope${h}`];return{...l,...m}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function y8(t){const[e,n]=w.useState(void 0);return xn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,l;if("borderBoxSize"in s){const c=s.borderBoxSize,h=Array.isArray(c)?c[0]:c;a=h.inlineSize,l=h.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var tx="Popper",[Lk,Kc]=g8(tx),[_8,Fk]=Lk(tx),Vk=t=>{const{__scopePopper:e,children:n}=t,[r,i]=w.useState(null);return v.jsx(_8,{scope:e,anchor:r,onAnchorChange:i,children:n})};Vk.displayName=tx;var jk="PopperAnchor",Uk=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=Fk(jk,n),a=w.useRef(null),l=pt(e,a);return w.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:v.jsx(Oe.div,{...i,ref:l})});Uk.displayName=jk;var nx="PopperContent",[w8,E8]=Lk(nx),$k=w.forwardRef((t,e)=>{var _e,Ue,He,$e,Ke,Be;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:x="optimized",onPlaced:I,...E}=t,b=Fk(nx,n),[C,T]=w.useState(null),R=pt(e,$t=>T($t)),[V,U]=w.useState(null),z=y8(V),N=(z==null?void 0:z.width)??0,A=(z==null?void 0:z.height)??0,k=r+(s!=="center"?"-"+s:""),L=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},$=Array.isArray(h)?h:[h],j=$.length>0,F={padding:L,boundary:$.filter(T8),altBoundary:j},{refs:ee,floatingStyles:ge,placement:le,isPositioned:he,middlewareData:q}=s8({strategy:"fixed",placement:k,whileElementsMounted:(...$t)=>XW(...$t,{animationFrame:x==="always"}),elements:{reference:b.anchor},middleware:[a8({mainAxis:i+A,alignmentAxis:a}),c&&l8({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?u8():void 0,...F}),c&&c8({...F}),d8({...F,apply:({elements:$t,rects:wt,availableWidth:mn,availableHeight:Tn})=>{const{width:rn,height:lo}=wt.reference,Bt=$t.floating.style;Bt.setProperty("--radix-popper-available-width",`${mn}px`),Bt.setProperty("--radix-popper-available-height",`${Tn}px`),Bt.setProperty("--radix-popper-anchor-width",`${rn}px`),Bt.setProperty("--radix-popper-anchor-height",`${lo}px`)}}),V&&f8({element:V,padding:l}),S8({arrowWidth:N,arrowHeight:A}),g&&h8({strategy:"referenceHidden",...F})]}),[Y,ue]=Wk(le),oe=Dn(I);xn(()=>{he&&(oe==null||oe())},[he,oe]);const me=(_e=q.arrow)==null?void 0:_e.x,xe=(Ue=q.arrow)==null?void 0:Ue.y,Xe=((He=q.arrow)==null?void 0:He.centerOffset)!==0,[ot,De]=w.useState();return xn(()=>{C&&De(window.getComputedStyle(C).zIndex)},[C]),v.jsx("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...ge,transform:he?ge.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ot,"--radix-popper-transform-origin":[($e=q.transformOrigin)==null?void 0:$e.x,(Ke=q.transformOrigin)==null?void 0:Ke.y].join(" "),...((Be=q.hide)==null?void 0:Be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:v.jsx(w8,{scope:n,placedSide:Y,onArrowChange:U,arrowX:me,arrowY:xe,shouldHideArrow:Xe,children:v.jsx(Oe.div,{"data-side":Y,"data-align":ue,...E,ref:R,style:{...E.style,animation:he?void 0:"none"}})})})});$k.displayName=nx;var Bk="PopperArrow",x8={top:"bottom",right:"left",bottom:"top",left:"right"},zk=w.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=E8(Bk,r),a=x8[s.placedSide];return v.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:v.jsx(m8,{...i,ref:n,style:{...i.style,display:"block"}})})});zk.displayName=Bk;function T8(t){return t!==null}var S8=t=>({name:"transformOrigin",options:t,fn(e){var b,C,T;const{placement:n,rects:r,middlewareData:i}=e,a=((b=i.arrow)==null?void 0:b.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[h,p]=Wk(n),m={start:"0%",center:"50%",end:"100%"}[p],g=(((C=i.arrow)==null?void 0:C.x)??0)+l/2,x=(((T=i.arrow)==null?void 0:T.y)??0)+c/2;let I="",E="";return h==="bottom"?(I=a?m:`${g}px`,E=`${-c}px`):h==="top"?(I=a?m:`${g}px`,E=`${r.floating.height+c}px`):h==="right"?(I=`${-c}px`,E=a?m:`${x}px`):h==="left"&&(I=`${r.floating.width+c}px`,E=a?m:`${x}px`),{data:{x:I,y:E}}}});function Wk(t){const[e,n="center"]=t.split("-");return[e,n]}var Hk=Vk,rx=Uk,ix=$k,sx=zk,[Hv,pie]=Na("Tooltip",[Kc]),ox=Kc(),Kk="TooltipProvider",I8=700,ZC="tooltip.open",[C8,Gk]=Hv(Kk),qk=t=>{const{__scopeTooltip:e,delayDuration:n=I8,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[a,l]=w.useState(!0),c=w.useRef(!1),h=w.useRef(0);return w.useEffect(()=>{const p=h.current;return()=>window.clearTimeout(p)},[]),v.jsx(C8,{scope:e,isOpenDelayed:a,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(h.current),l(!1)},[]),onClose:w.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:w.useCallback(p=>{c.current=p},[]),disableHoverableContent:i,children:s})};qk.displayName=Kk;var Qk="Tooltip",[mie,Kv]=Hv(Qk),qw="TooltipTrigger",b8=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Kv(qw,n),s=Gk(qw,n),a=ox(n),l=w.useRef(null),c=pt(e,l,i.onTriggerChange),h=w.useRef(!1),p=w.useRef(!1),m=w.useCallback(()=>h.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),v.jsx(rx,{asChild:!0,...a,children:v.jsx(Oe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:pe(t.onPointerMove,g=>{g.pointerType!=="touch"&&!p.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),p.current=!0)}),onPointerLeave:pe(t.onPointerLeave,()=>{i.onTriggerLeave(),p.current=!1}),onPointerDown:pe(t.onPointerDown,()=>{h.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:pe(t.onFocus,()=>{h.current||i.onOpen()}),onBlur:pe(t.onBlur,i.onClose),onClick:pe(t.onClick,i.onClose)})})});b8.displayName=qw;var R8="TooltipPortal",[gie,A8]=Hv(R8,{forceMount:void 0}),Cc="TooltipContent",Yk=w.forwardRef((t,e)=>{const n=A8(Cc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,a=Kv(Cc,t.__scopeTooltip);return v.jsx(ji,{present:r||a.open,children:a.disableHoverableContent?v.jsx(Xk,{side:i,...s,ref:e}):v.jsx(P8,{side:i,...s,ref:e})})}),P8=w.forwardRef((t,e)=>{const n=Kv(Cc,t.__scopeTooltip),r=Gk(Cc,t.__scopeTooltip),i=w.useRef(null),s=pt(e,i),[a,l]=w.useState(null),{trigger:c,onClose:h}=n,p=i.current,{onPointerInTransitChange:m}=r,g=w.useCallback(()=>{l(null),m(!1)},[m]),x=w.useCallback((I,E)=>{const b=I.currentTarget,C={x:I.clientX,y:I.clientY},T=O8(C,b.getBoundingClientRect()),R=M8(C,T),V=L8(E.getBoundingClientRect()),U=V8([...R,...V]);l(U),m(!0)},[m]);return w.useEffect(()=>()=>g(),[g]),w.useEffect(()=>{if(c&&p){const I=b=>x(b,p),E=b=>x(b,c);return c.addEventListener("pointerleave",I),p.addEventListener("pointerleave",E),()=>{c.removeEventListener("pointerleave",I),p.removeEventListener("pointerleave",E)}}},[c,p,x,g]),w.useEffect(()=>{if(a){const I=E=>{const b=E.target,C={x:E.clientX,y:E.clientY},T=(c==null?void 0:c.contains(b))||(p==null?void 0:p.contains(b)),R=!F8(C,a);T?g():R&&(g(),h())};return document.addEventListener("pointermove",I),()=>document.removeEventListener("pointermove",I)}},[c,p,a,h,g]),v.jsx(Xk,{...t,ref:s})}),[N8,k8]=Hv(Qk,{isInside:!1}),Xk=w.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...l}=t,c=Kv(Cc,n),h=ox(n),{onClose:p}=c;return w.useEffect(()=>(document.addEventListener(ZC,p),()=>document.removeEventListener(ZC,p)),[p]),w.useEffect(()=>{if(c.trigger){const m=g=>{const x=g.target;x!=null&&x.contains(c.trigger)&&p()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,p]),v.jsx(Bc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:m=>m.preventDefault(),onDismiss:p,children:v.jsxs(ix,{"data-state":c.stateAttribute,...h,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[v.jsx(BN,{children:r}),v.jsx(N8,{scope:n,isInside:!0,children:v.jsx(TB,{id:c.contentId,role:"tooltip",children:i||r})})]})})});Yk.displayName=Cc;var Jk="TooltipArrow",D8=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=ox(n);return k8(Jk,n).isInside?null:v.jsx(sx,{...i,...r,ref:e})});D8.displayName=Jk;function O8(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function M8(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function L8(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function F8(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const l=e[s].x,c=e[s].y,h=e[a].x,p=e[a].y;c>r!=p>r&&n<(h-l)*(r-c)/(p-c)+l&&(i=!i)}return i}function V8(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),j8(e)}function j8(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var U8=qk,Zk=Yk;const $8=U8,B8=w.forwardRef(({className:t,sideOffset:e=4,...n},r)=>v.jsx(Zk,{ref:r,sideOffset:e,className:Re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));B8.displayName=Zk.displayName;var Gc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Dl=typeof window>"u"||"Deno"in globalThis;function ri(){}function z8(t,e){return typeof t=="function"?t(e):t}function Qw(t){return typeof t=="number"&&t>=0&&t!==1/0}function eD(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Zu(t,e){return typeof t=="function"?t(e):t}function Ri(t,e){return typeof t=="function"?t(e):t}function eb(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:l}=t;if(a){if(r){if(e.queryHash!==ax(a,e.options))return!1}else if(!Hh(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function tb(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Ol(e.options.mutationKey)!==Ol(s))return!1}else if(!Hh(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function ax(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ol)(t)}function Ol(t){return JSON.stringify(t,(e,n)=>Yw(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Hh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Hh(t[n],e[n])):!1}function tD(t,e){if(t===e)return t;const n=nb(t)&&nb(e);if(n||Yw(t)&&Yw(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),a=s.length,l=n?[]:{};let c=0;for(let h=0;h<a;h++){const p=n?h:s[h];(!n&&r.includes(p)||n)&&t[p]===void 0&&e[p]===void 0?(l[p]=void 0,c++):(l[p]=tD(t[p],e[p]),l[p]===t[p]&&t[p]!==void 0&&c++)}return i===a&&c===i?t:l}return e}function $g(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function nb(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Yw(t){if(!rb(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!rb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function rb(t){return Object.prototype.toString.call(t)==="[object Object]"}function W8(t){return new Promise(e=>{setTimeout(e,t)})}function Xw(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?tD(t,e):e}function H8(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function K8(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var lx=Symbol();function nD(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===lx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var vl,$o,sc,gA,G8=(gA=class extends Gc{constructor(){super();be(this,vl);be(this,$o);be(this,sc);ve(this,sc,e=>{if(!Dl&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){H(this,$o)||this.setEventListener(H(this,sc))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,$o))==null||e.call(this),ve(this,$o,void 0))}setEventListener(e){var n;ve(this,sc,e),(n=H(this,$o))==null||n.call(this),ve(this,$o,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){H(this,vl)!==e&&(ve(this,vl,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof H(this,vl)=="boolean"?H(this,vl):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},vl=new WeakMap,$o=new WeakMap,sc=new WeakMap,gA),ux=new G8,oc,Bo,ac,vA,q8=(vA=class extends Gc{constructor(){super();be(this,oc,!0);be(this,Bo);be(this,ac);ve(this,ac,e=>{if(!Dl&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){H(this,Bo)||this.setEventListener(H(this,ac))}onUnsubscribe(){var e;this.hasListeners()||((e=H(this,Bo))==null||e.call(this),ve(this,Bo,void 0))}setEventListener(e){var n;ve(this,ac,e),(n=H(this,Bo))==null||n.call(this),ve(this,Bo,e(this.setOnline.bind(this)))}setOnline(e){H(this,oc)!==e&&(ve(this,oc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return H(this,oc)}},oc=new WeakMap,Bo=new WeakMap,ac=new WeakMap,vA),Bg=new q8;function Jw(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function Q8(t){return Math.min(1e3*2**t,3e4)}function rD(t){return(t??"online")==="online"?Bg.isOnline():!0}var iD=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function w_(t){return t instanceof iD}function sD(t){let e=!1,n=0,r=!1,i;const s=Jw(),a=E=>{var b;r||(g(new iD(E)),(b=t.abort)==null||b.call(t))},l=()=>{e=!0},c=()=>{e=!1},h=()=>ux.isFocused()&&(t.networkMode==="always"||Bg.isOnline())&&t.canRun(),p=()=>rD(t.networkMode)&&t.canRun(),m=E=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,E),i==null||i(),s.resolve(E))},g=E=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,E),i==null||i(),s.reject(E))},x=()=>new Promise(E=>{var b;i=C=>{(r||h())&&E(C)},(b=t.onPause)==null||b.call(t)}).then(()=>{var E;i=void 0,r||(E=t.onContinue)==null||E.call(t)}),I=()=>{if(r)return;let E;const b=n===0?t.initialPromise:void 0;try{E=b??t.fn()}catch(C){E=Promise.reject(C)}Promise.resolve(E).then(m).catch(C=>{var z;if(r)return;const T=t.retry??(Dl?0:3),R=t.retryDelay??Q8,V=typeof R=="function"?R(n,C):R,U=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,C);if(e||!U){g(C);return}n++,(z=t.onFail)==null||z.call(t,n,C),W8(V).then(()=>h()?void 0:x()).then(()=>{e?g(C):I()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:l,continueRetry:c,canStart:p,start:()=>(p()?I():x().then(I),s)}}function Y8(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=l=>setTimeout(l,0);const s=l=>{e?t.push(l):i(()=>{n(l)})},a=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||a()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var cn=Y8(),yl,yA,oD=(yA=class{constructor(){be(this,yl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Qw(this.gcTime)&&ve(this,yl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Dl?1/0:5*60*1e3))}clearGcTimeout(){H(this,yl)&&(clearTimeout(H(this,yl)),ve(this,yl,void 0))}},yl=new WeakMap,yA),lc,uc,ni,Hn,ff,_l,Ii,Vs,_A,X8=(_A=class extends oD{constructor(n){super();be(this,Ii);be(this,lc);be(this,uc);be(this,ni);be(this,Hn);be(this,ff);be(this,_l);ve(this,_l,!1),ve(this,ff,n.defaultOptions),this.setOptions(n.options),this.observers=[],ve(this,ni,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ve(this,lc,J8(this.options)),this.state=n.state??H(this,lc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=H(this,Hn))==null?void 0:n.promise}setOptions(n){this.options={...H(this,ff),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&H(this,ni).remove(this)}setData(n,r){const i=Xw(this.state.data,n,this.options);return qe(this,Ii,Vs).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){qe(this,Ii,Vs).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=H(this,Hn))==null?void 0:i.promise;return(s=H(this,Hn))==null||s.cancel(n),r?r.then(ri).catch(ri):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(H(this,lc))}isActive(){return this.observers.some(n=>Ri(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!eD(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=H(this,Hn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=H(this,Hn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),H(this,ni).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(H(this,Hn)&&(H(this,_l)?H(this,Hn).cancel({revert:!0}):H(this,Hn).cancelRetry()),this.scheduleGc()),H(this,ni).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||qe(this,Ii,Vs).call(this,{type:"invalidate"})}fetch(n,r){var h,p,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(H(this,Hn))return H(this,Hn).continueRetry(),H(this,Hn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const g=this.observers.find(x=>x.options.queryFn);g&&this.setOptions(g.options)}const i=new AbortController,s=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(ve(this,_l,!0),i.signal)})},a=()=>{const g=nD(this.options,r),x={queryKey:this.queryKey,meta:this.meta};return s(x),ve(this,_l,!1),this.options.persister?this.options.persister(g,x,this):g(x)},l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};s(l),(h=this.options.behavior)==null||h.onFetch(l,this),ve(this,uc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((p=l.fetchOptions)==null?void 0:p.meta))&&qe(this,Ii,Vs).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const c=g=>{var x,I,E,b;w_(g)&&g.silent||qe(this,Ii,Vs).call(this,{type:"error",error:g}),w_(g)||((I=(x=H(this,ni).config).onError)==null||I.call(x,g,this),(b=(E=H(this,ni).config).onSettled)==null||b.call(E,this.state.data,g,this)),this.scheduleGc()};return ve(this,Hn,sD({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:g=>{var x,I,E,b;if(g===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(C){c(C);return}(I=(x=H(this,ni).config).onSuccess)==null||I.call(x,g,this),(b=(E=H(this,ni).config).onSettled)==null||b.call(E,g,this.state.error,this),this.scheduleGc()},onError:c,onFail:(g,x)=>{qe(this,Ii,Vs).call(this,{type:"failed",failureCount:g,error:x})},onPause:()=>{qe(this,Ii,Vs).call(this,{type:"pause"})},onContinue:()=>{qe(this,Ii,Vs).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),H(this,Hn).start()}},lc=new WeakMap,uc=new WeakMap,ni=new WeakMap,Hn=new WeakMap,ff=new WeakMap,_l=new WeakMap,Ii=new WeakSet,Vs=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...aD(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return w_(s)&&s.revert&&H(this,uc)?{...H(this,uc),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),cn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),H(this,ni).notify({query:this,type:"updated",action:n})})},_A);function aD(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:rD(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function J8(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Xi,wA,Z8=(wA=class extends Gc{constructor(e={}){super();be(this,Xi);this.config=e,ve(this,Xi,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??ax(i,n);let a=this.get(s);return a||(a=new X8({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){H(this,Xi).has(e.queryHash)||(H(this,Xi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=H(this,Xi).get(e.queryHash);n&&(e.destroy(),n===e&&H(this,Xi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){cn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return H(this,Xi).get(e)}getAll(){return[...H(this,Xi).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>eb(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>eb(e,r)):n}notify(e){cn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){cn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){cn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Xi=new WeakMap,wA),Ji,nr,wl,Zi,Po,EA,eH=(EA=class extends oD{constructor(n){super();be(this,Zi);be(this,Ji);be(this,nr);be(this,wl);this.mutationId=n.mutationId,ve(this,nr,n.mutationCache),ve(this,Ji,[]),this.state=n.state||lD(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){H(this,Ji).includes(n)||(H(this,Ji).push(n),this.clearGcTimeout(),H(this,nr).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ve(this,Ji,H(this,Ji).filter(r=>r!==n)),this.scheduleGc(),H(this,nr).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){H(this,Ji).length||(this.state.status==="pending"?this.scheduleGc():H(this,nr).remove(this))}continue(){var n;return((n=H(this,wl))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var s,a,l,c,h,p,m,g,x,I,E,b,C,T,R,V,U,z,N,A;ve(this,wl,sD({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(k,L)=>{qe(this,Zi,Po).call(this,{type:"failed",failureCount:k,error:L})},onPause:()=>{qe(this,Zi,Po).call(this,{type:"pause"})},onContinue:()=>{qe(this,Zi,Po).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>H(this,nr).canRun(this)}));const r=this.state.status==="pending",i=!H(this,wl).canStart();try{if(!r){qe(this,Zi,Po).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(s=H(this,nr).config).onMutate)==null?void 0:a.call(s,n,this));const L=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));L!==this.state.context&&qe(this,Zi,Po).call(this,{type:"pending",context:L,variables:n,isPaused:i})}const k=await H(this,wl).start();return await((p=(h=H(this,nr).config).onSuccess)==null?void 0:p.call(h,k,n,this.state.context,this)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,k,n,this.state.context)),await((I=(x=H(this,nr).config).onSettled)==null?void 0:I.call(x,k,null,this.state.variables,this.state.context,this)),await((b=(E=this.options).onSettled)==null?void 0:b.call(E,k,null,n,this.state.context)),qe(this,Zi,Po).call(this,{type:"success",data:k}),k}catch(k){try{throw await((T=(C=H(this,nr).config).onError)==null?void 0:T.call(C,k,n,this.state.context,this)),await((V=(R=this.options).onError)==null?void 0:V.call(R,k,n,this.state.context)),await((z=(U=H(this,nr).config).onSettled)==null?void 0:z.call(U,void 0,k,this.state.variables,this.state.context,this)),await((A=(N=this.options).onSettled)==null?void 0:A.call(N,void 0,k,n,this.state.context)),k}finally{qe(this,Zi,Po).call(this,{type:"error",error:k})}}finally{H(this,nr).runNext(this)}}},Ji=new WeakMap,nr=new WeakMap,wl=new WeakMap,Zi=new WeakSet,Po=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),cn.batch(()=>{H(this,Ji).forEach(i=>{i.onMutationUpdate(n)}),H(this,nr).notify({mutation:this,type:"updated",action:n})})},EA);function lD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var kr,pf,xA,tH=(xA=class extends Gc{constructor(e={}){super();be(this,kr);be(this,pf);this.config=e,ve(this,kr,new Map),ve(this,pf,Date.now())}build(e,n,r){const i=new eH({mutationCache:this,mutationId:++em(this,pf)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=xm(e),r=H(this,kr).get(n)??[];r.push(e),H(this,kr).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=xm(e);if(H(this,kr).has(n)){const i=(r=H(this,kr).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?H(this,kr).delete(n):H(this,kr).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=H(this,kr).get(xm(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=H(this,kr).get(xm(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){cn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...H(this,kr).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>tb(n,r))}findAll(e={}){return this.getAll().filter(n=>tb(e,n))}notify(e){cn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return cn.batch(()=>Promise.all(e.map(n=>n.continue().catch(ri))))}},kr=new WeakMap,pf=new WeakMap,xA);function xm(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function ib(t){return{onFetch:(e,n)=>{var p,m,g,x,I;const r=e.options,i=(g=(m=(p=e.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:g.direction,s=((x=e.state.data)==null?void 0:x.pages)||[],a=((I=e.state.data)==null?void 0:I.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const h=async()=>{let E=!1;const b=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(e.signal.aborted?E=!0:e.signal.addEventListener("abort",()=>{E=!0}),e.signal)})},C=nD(e.options,e.fetchOptions),T=async(R,V,U)=>{if(E)return Promise.reject();if(V==null&&R.pages.length)return Promise.resolve(R);const z={queryKey:e.queryKey,pageParam:V,direction:U?"backward":"forward",meta:e.options.meta};b(z);const N=await C(z),{maxPages:A}=e.options,k=U?K8:H8;return{pages:k(R.pages,N,A),pageParams:k(R.pageParams,V,A)}};if(i&&s.length){const R=i==="backward",V=R?nH:sb,U={pages:s,pageParams:a},z=V(r,U);l=await T(U,z,R)}else{const R=t??s.length;do{const V=c===0?a[0]??r.initialPageParam:sb(r,l);if(c>0&&V==null)break;l=await T(l,V),c++}while(c<R)}return l};e.options.persister?e.fetchFn=()=>{var E,b;return(b=(E=e.options).persister)==null?void 0:b.call(E,h,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=h}}}function sb(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function nH(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Kt,zo,Wo,cc,dc,Ho,hc,fc,TA,rH=(TA=class{constructor(t={}){be(this,Kt);be(this,zo);be(this,Wo);be(this,cc);be(this,dc);be(this,Ho);be(this,hc);be(this,fc);ve(this,Kt,t.queryCache||new Z8),ve(this,zo,t.mutationCache||new tH),ve(this,Wo,t.defaultOptions||{}),ve(this,cc,new Map),ve(this,dc,new Map),ve(this,Ho,0)}mount(){em(this,Ho)._++,H(this,Ho)===1&&(ve(this,hc,ux.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,Kt).onFocus())})),ve(this,fc,Bg.subscribe(async t=>{t&&(await this.resumePausedMutations(),H(this,Kt).onOnline())})))}unmount(){var t,e;em(this,Ho)._--,H(this,Ho)===0&&((t=H(this,hc))==null||t.call(this),ve(this,hc,void 0),(e=H(this,fc))==null||e.call(this),ve(this,fc,void 0))}isFetching(t){return H(this,Kt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return H(this,zo).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,Kt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=H(this,Kt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Zu(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return H(this,Kt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=H(this,Kt).get(r.queryHash),s=i==null?void 0:i.state.data,a=z8(e,s);if(a!==void 0)return H(this,Kt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return cn.batch(()=>H(this,Kt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=H(this,Kt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=H(this,Kt);cn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=H(this,Kt),r={type:"active",...t};return cn.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=cn.batch(()=>H(this,Kt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(ri).catch(ri)}invalidateQueries(t={},e={}){return cn.batch(()=>{if(H(this,Kt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=cn.batch(()=>H(this,Kt).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(ri)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(ri)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=H(this,Kt).build(this,e);return n.isStaleByTime(Zu(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ri).catch(ri)}fetchInfiniteQuery(t){return t.behavior=ib(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ri).catch(ri)}ensureInfiniteQueryData(t){return t.behavior=ib(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Bg.isOnline()?H(this,zo).resumePausedMutations():Promise.resolve()}getQueryCache(){return H(this,Kt)}getMutationCache(){return H(this,zo)}getDefaultOptions(){return H(this,Wo)}setDefaultOptions(t){ve(this,Wo,t)}setQueryDefaults(t,e){H(this,cc).set(Ol(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...H(this,cc).values()];let n={};return e.forEach(r=>{Hh(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){H(this,dc).set(Ol(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...H(this,dc).values()];let n={};return e.forEach(r=>{Hh(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...H(this,Wo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ax(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===lx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...H(this,Wo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){H(this,Kt).clear(),H(this,zo).clear()}},Kt=new WeakMap,zo=new WeakMap,Wo=new WeakMap,cc=new WeakMap,dc=new WeakMap,Ho=new WeakMap,hc=new WeakMap,fc=new WeakMap,TA),gr,st,mf,rr,El,pc,Ko,es,gf,mc,gc,xl,Tl,Go,vc,yt,nh,Zw,eE,tE,nE,rE,iE,sE,uD,SA,iH=(SA=class extends Gc{constructor(e,n){super();be(this,yt);be(this,gr);be(this,st);be(this,mf);be(this,rr);be(this,El);be(this,pc);be(this,Ko);be(this,es);be(this,gf);be(this,mc);be(this,gc);be(this,xl);be(this,Tl);be(this,Go);be(this,vc,new Set);this.options=n,ve(this,gr,e),ve(this,es,null),ve(this,Ko,Jw()),this.options.experimental_prefetchInRender||H(this,Ko).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(H(this,st).addObserver(this),ob(H(this,st),this.options)?qe(this,yt,nh).call(this):this.updateResult(),qe(this,yt,nE).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return oE(H(this,st),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return oE(H(this,st),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,qe(this,yt,rE).call(this),qe(this,yt,iE).call(this),H(this,st).removeObserver(this)}setOptions(e,n){const r=this.options,i=H(this,st);if(this.options=H(this,gr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ri(this.options.enabled,H(this,st))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");qe(this,yt,sE).call(this),H(this,st).setOptions(this.options),r._defaulted&&!$g(this.options,r)&&H(this,gr).getQueryCache().notify({type:"observerOptionsUpdated",query:H(this,st),observer:this});const s=this.hasListeners();s&&ab(H(this,st),i,this.options,r)&&qe(this,yt,nh).call(this),this.updateResult(n),s&&(H(this,st)!==i||Ri(this.options.enabled,H(this,st))!==Ri(r.enabled,H(this,st))||Zu(this.options.staleTime,H(this,st))!==Zu(r.staleTime,H(this,st)))&&qe(this,yt,Zw).call(this);const a=qe(this,yt,eE).call(this);s&&(H(this,st)!==i||Ri(this.options.enabled,H(this,st))!==Ri(r.enabled,H(this,st))||a!==H(this,Go))&&qe(this,yt,tE).call(this,a)}getOptimisticResult(e){const n=H(this,gr).getQueryCache().build(H(this,gr),e),r=this.createResult(n,e);return oH(this,r)&&(ve(this,rr,r),ve(this,pc,this.options),ve(this,El,H(this,st).state)),r}getCurrentResult(){return H(this,rr)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){H(this,vc).add(e)}getCurrentQuery(){return H(this,st)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=H(this,gr).defaultQueryOptions(e),r=H(this,gr).getQueryCache().build(H(this,gr),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return qe(this,yt,nh).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),H(this,rr)))}createResult(e,n){var A;const r=H(this,st),i=this.options,s=H(this,rr),a=H(this,El),l=H(this,pc),h=e!==r?e.state:H(this,mf),{state:p}=e;let m={...p},g=!1,x;if(n._optimisticResults){const k=this.hasListeners(),L=!k&&ob(e,n),$=k&&ab(e,r,n,i);(L||$)&&(m={...m,...aD(p.data,e.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:I,errorUpdatedAt:E,status:b}=m;if(n.select&&m.data!==void 0)if(s&&m.data===(a==null?void 0:a.data)&&n.select===H(this,gf))x=H(this,mc);else try{ve(this,gf,n.select),x=n.select(m.data),x=Xw(s==null?void 0:s.data,x,n),ve(this,mc,x),ve(this,es,null)}catch(k){ve(this,es,k)}else x=m.data;if(n.placeholderData!==void 0&&x===void 0&&b==="pending"){let k;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))k=s.data;else if(k=typeof n.placeholderData=="function"?n.placeholderData((A=H(this,gc))==null?void 0:A.state.data,H(this,gc)):n.placeholderData,n.select&&k!==void 0)try{k=n.select(k),ve(this,es,null)}catch(L){ve(this,es,L)}k!==void 0&&(b="success",x=Xw(s==null?void 0:s.data,k,n),g=!0)}H(this,es)&&(I=H(this,es),x=H(this,mc),E=Date.now(),b="error");const C=m.fetchStatus==="fetching",T=b==="pending",R=b==="error",V=T&&C,U=x!==void 0,N={status:b,fetchStatus:m.fetchStatus,isPending:T,isSuccess:b==="success",isError:R,isInitialLoading:V,isLoading:V,data:x,dataUpdatedAt:m.dataUpdatedAt,error:I,errorUpdatedAt:E,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>h.dataUpdateCount||m.errorUpdateCount>h.errorUpdateCount,isFetching:C,isRefetching:C&&!T,isLoadingError:R&&!U,isPaused:m.fetchStatus==="paused",isPlaceholderData:g,isRefetchError:R&&U,isStale:cx(e,n),refetch:this.refetch,promise:H(this,Ko)};if(this.options.experimental_prefetchInRender){const k=j=>{N.status==="error"?j.reject(N.error):N.data!==void 0&&j.resolve(N.data)},L=()=>{const j=ve(this,Ko,N.promise=Jw());k(j)},$=H(this,Ko);switch($.status){case"pending":e.queryHash===r.queryHash&&k($);break;case"fulfilled":(N.status==="error"||N.data!==$.value)&&L();break;case"rejected":(N.status!=="error"||N.error!==$.reason)&&L();break}}return N}updateResult(e){const n=H(this,rr),r=this.createResult(H(this,st),this.options);if(ve(this,El,H(this,st).state),ve(this,pc,this.options),H(this,El).data!==void 0&&ve(this,gc,H(this,st)),$g(r,n))return;ve(this,rr,r);const i={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!H(this,vc).size)return!0;const c=new Set(l??H(this,vc));return this.options.throwOnError&&c.add("error"),Object.keys(H(this,rr)).some(h=>{const p=h;return H(this,rr)[p]!==n[p]&&c.has(p)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),qe(this,yt,uD).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&qe(this,yt,nE).call(this)}},gr=new WeakMap,st=new WeakMap,mf=new WeakMap,rr=new WeakMap,El=new WeakMap,pc=new WeakMap,Ko=new WeakMap,es=new WeakMap,gf=new WeakMap,mc=new WeakMap,gc=new WeakMap,xl=new WeakMap,Tl=new WeakMap,Go=new WeakMap,vc=new WeakMap,yt=new WeakSet,nh=function(e){qe(this,yt,sE).call(this);let n=H(this,st).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(ri)),n},Zw=function(){qe(this,yt,rE).call(this);const e=Zu(this.options.staleTime,H(this,st));if(Dl||H(this,rr).isStale||!Qw(e))return;const r=eD(H(this,rr).dataUpdatedAt,e)+1;ve(this,xl,setTimeout(()=>{H(this,rr).isStale||this.updateResult()},r))},eE=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(H(this,st)):this.options.refetchInterval)??!1},tE=function(e){qe(this,yt,iE).call(this),ve(this,Go,e),!(Dl||Ri(this.options.enabled,H(this,st))===!1||!Qw(H(this,Go))||H(this,Go)===0)&&ve(this,Tl,setInterval(()=>{(this.options.refetchIntervalInBackground||ux.isFocused())&&qe(this,yt,nh).call(this)},H(this,Go)))},nE=function(){qe(this,yt,Zw).call(this),qe(this,yt,tE).call(this,qe(this,yt,eE).call(this))},rE=function(){H(this,xl)&&(clearTimeout(H(this,xl)),ve(this,xl,void 0))},iE=function(){H(this,Tl)&&(clearInterval(H(this,Tl)),ve(this,Tl,void 0))},sE=function(){const e=H(this,gr).getQueryCache().build(H(this,gr),this.options);if(e===H(this,st))return;const n=H(this,st);ve(this,st,e),ve(this,mf,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},uD=function(e){cn.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(H(this,rr))}),H(this,gr).getQueryCache().notify({query:H(this,st),type:"observerResultsUpdated"})})},SA);function sH(t,e){return Ri(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ob(t,e){return sH(t,e)||t.state.data!==void 0&&oE(t,e,e.refetchOnMount)}function oE(t,e,n){if(Ri(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&cx(t,e)}return!1}function ab(t,e,n,r){return(t!==e||Ri(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&cx(t,n)}function cx(t,e){return Ri(e.enabled,t)!==!1&&t.isStaleByTime(Zu(e.staleTime,t))}function oH(t,e){return!$g(t.getCurrentResult(),e)}var qo,Qo,vr,$s,qs,Jm,aE,IA,aH=(IA=class extends Gc{constructor(n,r){super();be(this,qs);be(this,qo);be(this,Qo);be(this,vr);be(this,$s);ve(this,qo,n),this.setOptions(r),this.bindMethods(),qe(this,qs,Jm).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=H(this,qo).defaultMutationOptions(n),$g(this.options,r)||H(this,qo).getMutationCache().notify({type:"observerOptionsUpdated",mutation:H(this,vr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ol(r.mutationKey)!==Ol(this.options.mutationKey)?this.reset():((i=H(this,vr))==null?void 0:i.state.status)==="pending"&&H(this,vr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=H(this,vr))==null||n.removeObserver(this)}onMutationUpdate(n){qe(this,qs,Jm).call(this),qe(this,qs,aE).call(this,n)}getCurrentResult(){return H(this,Qo)}reset(){var n;(n=H(this,vr))==null||n.removeObserver(this),ve(this,vr,void 0),qe(this,qs,Jm).call(this),qe(this,qs,aE).call(this)}mutate(n,r){var i;return ve(this,$s,r),(i=H(this,vr))==null||i.removeObserver(this),ve(this,vr,H(this,qo).getMutationCache().build(H(this,qo),this.options)),H(this,vr).addObserver(this),H(this,vr).execute(n)}},qo=new WeakMap,Qo=new WeakMap,vr=new WeakMap,$s=new WeakMap,qs=new WeakSet,Jm=function(){var r;const n=((r=H(this,vr))==null?void 0:r.state)??lD();ve(this,Qo,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},aE=function(n){cn.batch(()=>{var r,i,s,a,l,c,h,p;if(H(this,$s)&&this.hasListeners()){const m=H(this,Qo).variables,g=H(this,Qo).context;(n==null?void 0:n.type)==="success"?((i=(r=H(this,$s)).onSuccess)==null||i.call(r,n.data,m,g),(a=(s=H(this,$s)).onSettled)==null||a.call(s,n.data,null,m,g)):(n==null?void 0:n.type)==="error"&&((c=(l=H(this,$s)).onError)==null||c.call(l,n.error,m,g),(p=(h=H(this,$s)).onSettled)==null||p.call(h,void 0,n.error,m,g))}this.listeners.forEach(m=>{m(H(this,Qo))})})},IA),cD=w.createContext(void 0),dx=t=>{const e=w.useContext(cD);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},lH=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),v.jsx(cD.Provider,{value:t,children:e})),dD=w.createContext(!1),uH=()=>w.useContext(dD);dD.Provider;function cH(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var dH=w.createContext(cH()),hH=()=>w.useContext(dH);function hD(t,e){return typeof t=="function"?t(...e):!!t}function fD(){}var fH=(t,e)=>{(t.suspense||t.throwOnError)&&(e.isReset()||(t.retryOnMount=!1))},pH=t=>{w.useEffect(()=>{t.clearReset()},[t])},mH=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&hD(n,[t.error,r]),gH=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},vH=(t,e)=>t.isLoading&&t.isFetching&&!e,yH=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,lb=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function _H(t,e,n){var p,m,g,x,I;const r=dx(),i=uH(),s=hH(),a=r.defaultQueryOptions(t);(m=(p=r.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||m.call(p,a),a._optimisticResults=i?"isRestoring":"optimistic",gH(a),fH(a,s),pH(s);const l=!r.getQueryCache().get(a.queryHash),[c]=w.useState(()=>new e(r,a)),h=c.getOptimisticResult(a);if(w.useSyncExternalStore(w.useCallback(E=>{const b=i?()=>{}:c.subscribe(cn.batchCalls(E));return c.updateResult(),b},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),w.useEffect(()=>{c.setOptions(a,{listeners:!1})},[a,c]),yH(a,h))throw lb(a,c,s);if(mH({result:h,errorResetBoundary:s,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash)}))throw h.error;if((x=(g=r.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||x.call(g,a,h),a.experimental_prefetchInRender&&!Dl&&vH(h,i)){const E=l?lb(a,c,s):(I=r.getQueryCache().get(a.queryHash))==null?void 0:I.promise;E==null||E.catch(fD).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?h:c.trackResult(h)}function pD(t,e){return _H(t,iH)}function E_(t,e){const n=dx(),[r]=w.useState(()=>new aH(n,t));w.useEffect(()=>{r.setOptions(t)},[r,t]);const i=w.useSyncExternalStore(w.useCallback(a=>r.subscribe(cn.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=w.useCallback((a,l)=>{r.mutate(a,l).catch(fD)},[r]);if(i.error&&hD(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kh(){return Kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kh.apply(this,arguments)}var Jo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Jo||(Jo={}));const ub="popstate";function wH(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:l}=r.location;return lE("",{pathname:s,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:zg(i)}return xH(e,n,null,t)}function Jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function mD(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EH(){return Math.random().toString(36).substr(2,8)}function cb(t,e){return{usr:t.state,key:t.key,idx:e}}function lE(t,e,n,r){return n===void 0&&(n=null),Kh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qc(e):e,{state:n,key:e&&e.key||r||EH()})}function zg(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function xH(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,l=Jo.Pop,c=null,h=p();h==null&&(h=0,a.replaceState(Kh({},a.state,{idx:h}),""));function p(){return(a.state||{idx:null}).idx}function m(){l=Jo.Pop;let b=p(),C=b==null?null:b-h;h=b,c&&c({action:l,location:E.location,delta:C})}function g(b,C){l=Jo.Push;let T=lE(E.location,b,C);h=p()+1;let R=cb(T,h),V=E.createHref(T);try{a.pushState(R,"",V)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(V)}s&&c&&c({action:l,location:E.location,delta:1})}function x(b,C){l=Jo.Replace;let T=lE(E.location,b,C);h=p();let R=cb(T,h),V=E.createHref(T);a.replaceState(R,"",V),s&&c&&c({action:l,location:E.location,delta:0})}function I(b){let C=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof b=="string"?b:zg(b);return T=T.replace(/ $/,"%20"),Jt(C,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,C)}let E={get action(){return l},get location(){return t(i,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(ub,m),c=b,()=>{i.removeEventListener(ub,m),c=null}},createHref(b){return e(i,b)},createURL:I,encodeLocation(b){let C=I(b);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:x,go(b){return a.go(b)}};return E}var db;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(db||(db={}));function TH(t,e,n){return n===void 0&&(n="/"),SH(t,e,n,!1)}function SH(t,e,n,r){let i=typeof e=="string"?qc(e):e,s=hx(i.pathname||"/",n);if(s==null)return null;let a=gD(t);IH(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let h=LH(s);l=OH(a[c],h,r)}return l}function gD(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(Jt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let h=la([r,c.relativePath]),p=n.concat(c);s.children&&s.children.length>0&&(Jt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),gD(s.children,e,p,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:kH(h,s.index),routesMeta:p})};return t.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,a);else for(let c of vD(s.path))i(s,a,c)}),e}function vD(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=vD(r.join("/")),l=[];return l.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function IH(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:DH(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const CH=/^:[\w-]+$/,bH=3,RH=2,AH=1,PH=10,NH=-2,hb=t=>t==="*";function kH(t,e){let n=t.split("/"),r=n.length;return n.some(hb)&&(r+=NH),e&&(r+=RH),n.filter(i=>!hb(i)).reduce((i,s)=>i+(CH.test(s)?bH:s===""?AH:PH),r)}function DH(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function OH(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],h=l===r.length-1,p=s==="/"?e:e.slice(s.length)||"/",m=fb({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},p),g=c.route;if(!m&&h&&n&&!r[r.length-1].route.index&&(m=fb({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:la([s,m.pathname]),pathnameBase:UH(la([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=la([s,m.pathnameBase]))}return a}function fb(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=MH(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,p,m)=>{let{paramName:g,isOptional:x}=p;if(g==="*"){let E=l[m]||"";a=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const I=l[m];return x&&!I?h[g]=void 0:h[g]=(I||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:a,pattern:t}}function MH(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),mD(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function LH(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mD(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function hx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function FH(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?qc(t):t;return{pathname:n?n.startsWith("/")?n:VH(n,e):e,search:$H(r),hash:BH(i)}}function VH(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function x_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jH(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function fx(t,e){let n=jH(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function px(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=qc(t):(i=Kh({},t),Jt(!i.pathname||!i.pathname.includes("?"),x_("?","pathname","search",i)),Jt(!i.pathname||!i.pathname.includes("#"),x_("#","pathname","hash",i)),Jt(!i.search||!i.search.includes("#"),x_("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,l;if(a==null)l=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}l=m>=0?e[m]:"/"}let c=FH(i,l),h=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||p)&&(c.pathname+="/"),c}const la=t=>t.join("/").replace(/\/\/+/g,"/"),UH=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$H=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BH=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zH(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yD=["post","put","patch","delete"];new Set(yD);const WH=["get",...yD];new Set(WH);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gh(){return Gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gh.apply(this,arguments)}const mx=w.createContext(null),HH=w.createContext(null),ka=w.createContext(null),Gv=w.createContext(null),Da=w.createContext({outlet:null,matches:[],isDataRoute:!1}),_D=w.createContext(null);function KH(t,e){let{relative:n}=e===void 0?{}:e;Qc()||Jt(!1);let{basename:r,navigator:i}=w.useContext(ka),{hash:s,pathname:a,search:l}=ED(t,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:la([r,a])),i.createHref({pathname:c,search:l,hash:s})}function Qc(){return w.useContext(Gv)!=null}function Hl(){return Qc()||Jt(!1),w.useContext(Gv).location}function wD(t){w.useContext(ka).static||w.useLayoutEffect(t)}function gx(){let{isDataRoute:t}=w.useContext(Da);return t?s7():GH()}function GH(){Qc()||Jt(!1);let t=w.useContext(mx),{basename:e,future:n,navigator:r}=w.useContext(ka),{matches:i}=w.useContext(Da),{pathname:s}=Hl(),a=JSON.stringify(fx(i,n.v7_relativeSplatPath)),l=w.useRef(!1);return wD(()=>{l.current=!0}),w.useCallback(function(h,p){if(p===void 0&&(p={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let m=px(h,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:la([e,m.pathname])),(p.replace?r.replace:r.push)(m,p.state,p)},[e,r,a,s,t])}function ED(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(ka),{matches:i}=w.useContext(Da),{pathname:s}=Hl(),a=JSON.stringify(fx(i,r.v7_relativeSplatPath));return w.useMemo(()=>px(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function qH(t,e){return QH(t,e)}function QH(t,e,n,r){Qc()||Jt(!1);let{navigator:i}=w.useContext(ka),{matches:s}=w.useContext(Da),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let h=Hl(),p;if(e){var m;let b=typeof e=="string"?qc(e):e;c==="/"||(m=b.pathname)!=null&&m.startsWith(c)||Jt(!1),p=b}else p=h;let g=p.pathname||"/",x=g;if(c!=="/"){let b=c.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(b.length).join("/")}let I=TH(t,{pathname:x}),E=e7(I&&I.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:la([c,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:la([c,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return e&&E?w.createElement(Gv.Provider,{value:{location:Gh({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Jo.Pop}},E):E}function YH(){let t=i7(),e=zH(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,null)}const XH=w.createElement(YH,null);class JH extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(Da.Provider,{value:this.props.routeContext},w.createElement(_D.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZH(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(mx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(Da.Provider,{value:e},r)}function e7(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let p=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);p>=0||Jt(!1),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=p),m.route.id){let{loaderData:g,errors:x}=n,I=m.route.loader&&g[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||I){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((p,m,g)=>{let x,I=!1,E=null,b=null;n&&(x=l&&m.route.id?l[m.route.id]:void 0,E=m.route.errorElement||XH,c&&(h<0&&g===0?(I=!0,b=null):h===g&&(I=!0,b=m.route.hydrateFallbackElement||null)));let C=e.concat(a.slice(0,g+1)),T=()=>{let R;return x?R=E:I?R=b:m.route.Component?R=w.createElement(m.route.Component,null):m.route.element?R=m.route.element:R=p,w.createElement(ZH,{match:m,routeContext:{outlet:p,matches:C,isDataRoute:n!=null},children:R})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?w.createElement(JH,{location:n.location,revalidation:n.revalidation,component:E,error:x,children:T(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):T()},null)}var xD=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(xD||{}),Wg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Wg||{});function t7(t){let e=w.useContext(mx);return e||Jt(!1),e}function n7(t){let e=w.useContext(HH);return e||Jt(!1),e}function r7(t){let e=w.useContext(Da);return e||Jt(!1),e}function TD(t){let e=r7(),n=e.matches[e.matches.length-1];return n.route.id||Jt(!1),n.route.id}function i7(){var t;let e=w.useContext(_D),n=n7(Wg.UseRouteError),r=TD(Wg.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function s7(){let{router:t}=t7(xD.UseNavigateStable),e=TD(Wg.UseNavigateStable),n=w.useRef(!1);return wD(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Gh({fromRouteId:e},s)))},[t,e])}function pb(t){let{to:e,replace:n,state:r,relative:i}=t;Qc()||Jt(!1);let{future:s,static:a}=w.useContext(ka),{matches:l}=w.useContext(Da),{pathname:c}=Hl(),h=gx(),p=px(e,fx(l,s.v7_relativeSplatPath),c,i==="path"),m=JSON.stringify(p);return w.useEffect(()=>h(JSON.parse(m),{replace:n,state:r,relative:i}),[h,m,i,n,r]),null}function No(t){Jt(!1)}function o7(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Jo.Pop,navigator:s,static:a=!1,future:l}=t;Qc()&&Jt(!1);let c=e.replace(/^\/*/,"/"),h=w.useMemo(()=>({basename:c,navigator:s,static:a,future:Gh({v7_relativeSplatPath:!1},l)}),[c,l,s,a]);typeof r=="string"&&(r=qc(r));let{pathname:p="/",search:m="",hash:g="",state:x=null,key:I="default"}=r,E=w.useMemo(()=>{let b=hx(p,c);return b==null?null:{location:{pathname:b,search:m,hash:g,state:x,key:I},navigationType:i}},[c,p,m,g,x,I,i]);return E==null?null:w.createElement(ka.Provider,{value:h},w.createElement(Gv.Provider,{children:n,value:E}))}function mb(t){let{children:e,location:n}=t;return qH(uE(e),n)}new Promise(()=>{});function uE(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let s=[...e,i];if(r.type===w.Fragment){n.push.apply(n,uE(r.props.children,s));return}r.type!==No&&Jt(!1),!r.props.index||!r.props.children||Jt(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=uE(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cE(){return cE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cE.apply(this,arguments)}function a7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function l7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function u7(t,e){return t.button===0&&(!e||e==="_self")&&!l7(t)}const c7=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],d7="6";try{window.__reactRouterVersion=d7}catch{}const h7="startTransition",gb=FA[h7];function f7(t){let{basename:e,children:n,future:r,window:i}=t,s=w.useRef();s.current==null&&(s.current=wH({window:i,v5Compat:!0}));let a=s.current,[l,c]=w.useState({action:a.action,location:a.location}),{v7_startTransition:h}=r||{},p=w.useCallback(m=>{h&&gb?gb(()=>c(m)):c(m)},[c,h]);return w.useLayoutEffect(()=>a.listen(p),[a,p]),w.createElement(o7,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const p7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g7=w.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:l,target:c,to:h,preventScrollReset:p,viewTransition:m}=e,g=a7(e,c7),{basename:x}=w.useContext(ka),I,E=!1;if(typeof h=="string"&&m7.test(h)&&(I=h,p7))try{let R=new URL(window.location.href),V=h.startsWith("//")?new URL(R.protocol+h):new URL(h),U=hx(V.pathname,x);V.origin===R.origin&&U!=null?h=U+V.search+V.hash:E=!0}catch{}let b=KH(h,{relative:i}),C=v7(h,{replace:a,state:l,target:c,preventScrollReset:p,relative:i,viewTransition:m});function T(R){r&&r(R),R.defaultPrevented||C(R)}return w.createElement("a",cE({},g,{href:I||b,onClick:E||s?r:T,ref:n,target:c}))});var vb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(vb||(vb={}));var yb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(yb||(yb={}));function v7(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:l}=e===void 0?{}:e,c=gx(),h=Hl(),p=ED(t,{relative:a});return w.useCallback(m=>{if(u7(m,n)){m.preventDefault();let g=r!==void 0?r:zg(h)===zg(p);c(t,{replace:g,state:i,preventScrollReset:s,relative:a,viewTransition:l})}},[h,c,p,r,i,n,t,s,a,l])}const y7=({icon:t,label:e,href:n,active:r})=>v.jsxs(g7,{to:n,className:Re("flex items-center gap-3 px-3 py-2 rounded-md transition-colors",r?"bg-medical-600 text-white":"hover:bg-medical-100"),children:[v.jsx(t,{className:"h-5 w-5"}),v.jsx("span",{children:e})]}),_7=()=>{const t=Hl(),[e,n]=w.useState(!1),r=()=>n(!e),i=[{href:"/",icon:HB,label:"Dashboard"},{href:"/doctors",icon:H1,label:"Doctors"},{href:"/specialties",icon:K1,label:"Specialties"}];return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"fixed top-4 left-4 z-50 md:hidden",children:v.jsx("button",{onClick:r,className:"p-2 bg-white rounded-md shadow-md","aria-label":"Toggle sidebar",children:e?v.jsx(G1,{className:"h-6 w-6"}):v.jsx(JB,{className:"h-6 w-6"})})}),v.jsx("div",{className:Re("fixed inset-y-0 left-0 z-40 w-64 bg-white border-r transform transition-transform duration-200 ease-in-out md:translate-x-0 md:static md:z-auto shadow-md md:shadow-none",e?"translate-x-0":"-translate-x-full"),children:v.jsxs("div",{className:"p-4",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[v.jsx(rz,{className:"h-8 w-8 text-medical-600"}),v.jsx("h1",{className:"text-xl font-bold text-medical-900",children:"Doc Tracker Admin Portal"})]}),v.jsx("nav",{className:"space-y-2",children:i.map(s=>v.jsx(y7,{href:s.href,icon:s.icon,label:s.label,active:t.pathname===s.href},s.href))})]})})]})},bc=({title:t})=>v.jsx("header",{className:"bg-white border-b py-4 px-6 flex items-center justify-between",children:v.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t})}),Tm=({title:t,value:e,icon:n,color:r="default",trend:i,className:s})=>{const a=()=>{switch(r){case"blue":return"bg-medical-50 border-medical-200 text-medical-700";case"teal":return"bg-teal-50 border-teal-200 text-teal-700";case"amber":return"bg-amber-50 border-amber-200 text-amber-700";default:return"bg-white border-gray-200"}},l=()=>{switch(r){case"blue":return"text-medical-500";case"teal":return"text-teal-500";case"amber":return"text-amber-500";default:return"text-gray-400"}};return v.jsxs("div",{className:Re("p-6 rounded-xl border shadow-sm",a(),s),children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),v.jsx("p",{className:"text-2xl font-bold",children:e})]}),n&&v.jsx("div",{className:l(),children:n})]}),i&&v.jsxs("div",{className:"mt-4 flex items-center text-sm",children:[v.jsxs("span",{className:Re("font-medium",i.positive?"text-green-600":"text-red-600"),children:[i.positive?"+":"-",i.value,"%"]}),v.jsx("span",{className:"text-gray-500 ml-1",children:"from last month"})]})]})},Rc=w.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:Re("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Rc.displayName="Card";const Ac=w.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:Re("flex flex-col space-y-1.5 p-6",t),...e}));Ac.displayName="CardHeader";const qh=w.forwardRef(({className:t,...e},n)=>v.jsx("h3",{ref:n,className:Re("text-2xl font-semibold leading-none tracking-tight",t),...e}));qh.displayName="CardTitle";const Hg=w.forwardRef(({className:t,...e},n)=>v.jsx("p",{ref:n,className:Re("text-sm text-muted-foreground",t),...e}));Hg.displayName="CardDescription";const Pc=w.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:Re("p-6 pt-0",t),...e}));Pc.displayName="CardContent";const SD=w.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:Re("flex items-center p-6 pt-0",t),...e}));SD.displayName="CardFooter";const w7=()=>{};var _b={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},E7=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},CD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,h=c?t[i+2]:0,p=s>>2,m=(s&3)<<4|l>>4;let g=(l&15)<<2|h>>6,x=h&63;c||(x=64,a||(g=64)),r.push(n[p],n[m],n[g],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ID(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):E7(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||h==null||m==null)throw new x7;const g=s<<2|l>>4;if(r.push(g),h!==64){const x=l<<4&240|h>>2;if(r.push(x),m!==64){const I=h<<6&192|m;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class x7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T7=function(t){const e=ID(t);return CD.encodeByteArray(e,!0)},Kg=function(t){return T7(t).replace(/\./g,"")},bD=function(t){try{return CD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7=()=>S7().__FIREBASE_DEFAULTS__,C7=()=>{if(typeof process>"u"||typeof _b>"u")return;const t=_b.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},b7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bD(t[1]);return e&&JSON.parse(e)},qv=()=>{try{return w7()||I7()||C7()||b7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RD=t=>{var e,n;return(n=(e=qv())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},AD=t=>{const e=RD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},PD=()=>{var t;return(t=qv())===null||t===void 0?void 0:t.config},ND=t=>{var e;return(e=qv())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R7{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Kg(JSON.stringify(n)),Kg(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function A7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xn())}function P7(){var t;const e=(t=qv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N7(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function k7(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function D7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O7(){const t=Xn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function M7(){return!P7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L7(){try{return typeof indexedDB=="object"}catch{return!1}}function F7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7="FirebaseError";class vs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=V7,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cf.prototype.create)}}class Cf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?j7(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new vs(i,l,r)}}function j7(t,e){return t.replace(U7,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const U7=/\{\$([^}]+)}/g;function $7(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ml(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(wb(s)&&wb(a)){if(!Ml(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function wb(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function rh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ih(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function B7(t,e){const n=new z7(t,e);return n.subscribe.bind(n)}class z7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");W7(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=T_),i.error===void 0&&(i.error=T_),i.complete===void 0&&(i.complete=T_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W7(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function T_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t){return t&&t._delegate?t._delegate:t}class Ea{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new R7;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G7(e))try{this.getOrInitializeService({instanceIdentifier:dl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=dl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=dl){return this.instances.has(e)}getOptions(e=dl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:K7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=dl){return this.component?this.component.multipleInstances?e:dl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function K7(t){return t===dl?void 0:t}function G7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new H7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(tt||(tt={}));const Q7={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},Y7=tt.INFO,X7={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},J7=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=X7[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vx{constructor(e){this.name=e,this._logLevel=Y7,this._logHandler=J7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Q7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const Z7=(t,e)=>e.some(n=>t instanceof n);let Eb,xb;function eK(){return Eb||(Eb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tK(){return xb||(xb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DD=new WeakMap,dE=new WeakMap,OD=new WeakMap,S_=new WeakMap,yx=new WeakMap;function nK(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(ua(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&DD.set(n,t)}).catch(()=>{}),yx.set(e,t),e}function rK(t){if(dE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});dE.set(t,e)}let hE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||OD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ua(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iK(t){hE=t(hE)}function sK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(I_(this),e,...n);return OD.set(r,e.sort?e.sort():[e]),ua(r)}:tK().includes(t)?function(...e){return t.apply(I_(this),e),ua(DD.get(this))}:function(...e){return ua(t.apply(I_(this),e))}}function oK(t){return typeof t=="function"?sK(t):(t instanceof IDBTransaction&&rK(t),Z7(t,eK())?new Proxy(t,hE):t)}function ua(t){if(t instanceof IDBRequest)return nK(t);if(S_.has(t))return S_.get(t);const e=oK(t);return e!==t&&(S_.set(t,e),yx.set(e,t)),e}const I_=t=>yx.get(t);function aK(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=ua(a);return r&&a.addEventListener("upgradeneeded",c=>{r(ua(a.result),c.oldVersion,c.newVersion,ua(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const lK=["get","getKey","getAll","getAllKeys","count"],uK=["put","add","delete","clear"],C_=new Map;function Tb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(C_.get(e))return C_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=uK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lK.includes(n)))return;const s=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&c.done]))[0]};return C_.set(e,s),s}iK(t=>({...t,get:(e,n,r)=>Tb(e,n)||t.get(e,n,r),has:(e,n)=>!!Tb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dK(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function dK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fE="@firebase/app",Sb="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=new vx("@firebase/app"),hK="@firebase/app-compat",fK="@firebase/analytics-compat",pK="@firebase/analytics",mK="@firebase/app-check-compat",gK="@firebase/app-check",vK="@firebase/auth",yK="@firebase/auth-compat",_K="@firebase/database",wK="@firebase/data-connect",EK="@firebase/database-compat",xK="@firebase/functions",TK="@firebase/functions-compat",SK="@firebase/installations",IK="@firebase/installations-compat",CK="@firebase/messaging",bK="@firebase/messaging-compat",RK="@firebase/performance",AK="@firebase/performance-compat",PK="@firebase/remote-config",NK="@firebase/remote-config-compat",kK="@firebase/storage",DK="@firebase/storage-compat",OK="@firebase/firestore",MK="@firebase/vertexai",LK="@firebase/firestore-compat",FK="firebase",VK="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="[DEFAULT]",jK={[fE]:"fire-core",[hK]:"fire-core-compat",[pK]:"fire-analytics",[fK]:"fire-analytics-compat",[gK]:"fire-app-check",[mK]:"fire-app-check-compat",[vK]:"fire-auth",[yK]:"fire-auth-compat",[_K]:"fire-rtdb",[wK]:"fire-data-connect",[EK]:"fire-rtdb-compat",[xK]:"fire-fn",[TK]:"fire-fn-compat",[SK]:"fire-iid",[IK]:"fire-iid-compat",[CK]:"fire-fcm",[bK]:"fire-fcm-compat",[RK]:"fire-perf",[AK]:"fire-perf-compat",[PK]:"fire-rc",[NK]:"fire-rc-compat",[kK]:"fire-gcs",[DK]:"fire-gcs-compat",[OK]:"fire-fst",[LK]:"fire-fst-compat",[MK]:"fire-vertex","fire-js":"fire-js",[FK]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=new Map,UK=new Map,mE=new Map;function Ib(t,e){try{t.container.addComponent(e)}catch(n){to.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ll(t){const e=t.name;if(mE.has(e))return to.debug(`There were multiple attempts to register component ${e}.`),!1;mE.set(e,t);for(const n of Qh.values())Ib(n,t);for(const n of UK.values())Ib(n,t);return!0}function Qv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function oi(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $K={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ca=new Cf("app","Firebase",$K);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BK{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ca.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=VK;function MD(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:pE,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ca.create("bad-app-name",{appName:String(i)});if(n||(n=PD()),!n)throw ca.create("no-options");const s=Qh.get(i);if(s){if(Ml(n,s.options)&&Ml(r,s.config))return s;throw ca.create("duplicate-app",{appName:i})}const a=new q7(i);for(const c of mE.values())a.addComponent(c);const l=new BK(n,r,a);return Qh.set(i,l),l}function Yv(t=pE){const e=Qh.get(t);if(!e&&t===pE&&PD())return MD();if(!e)throw ca.create("no-app",{appName:t});return e}function zK(){return Array.from(Qh.values())}function os(t,e,n){var r;let i=(r=jK[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),to.warn(l.join(" "));return}Ll(new Ea(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WK="firebase-heartbeat-database",HK=1,Yh="firebase-heartbeat-store";let b_=null;function LD(){return b_||(b_=aK(WK,HK,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ca.create("idb-open",{originalErrorMessage:t.message})})),b_}async function KK(t){try{const n=(await LD()).transaction(Yh),r=await n.objectStore(Yh).get(FD(t));return await n.done,r}catch(e){if(e instanceof vs)to.warn(e.message);else{const n=ca.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});to.warn(n.message)}}}async function Cb(t,e){try{const r=(await LD()).transaction(Yh,"readwrite");await r.objectStore(Yh).put(e,FD(t)),await r.done}catch(n){if(n instanceof vs)to.warn(n.message);else{const r=ca.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});to.warn(r.message)}}}function FD(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GK=1024,qK=30;class QK{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new XK(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=bb();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>qK){const a=JK(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){to.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bb(),{heartbeatsToSend:r,unsentEntries:i}=YK(this._heartbeatsCache.heartbeats),s=Kg(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return to.warn(n),""}}}function bb(){return new Date().toISOString().substring(0,10)}function YK(t,e=GK){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Rb(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Rb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class XK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return L7()?F7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KK(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Cb(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Rb(t){return Kg(JSON.stringify({version:2,heartbeats:t})).length}function JK(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZK(t){Ll(new Ea("platform-logger",e=>new cK(e),"PRIVATE")),Ll(new Ea("heartbeat",e=>new QK(e),"PRIVATE")),os(fE,Sb,t),os(fE,Sb,"esm2017"),os("fire-js","")}ZK("");var eG="firebase",tG="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os(eG,tG,"app");var ns=function(){return ns=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ns.apply(this,arguments)};function Rf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function nG(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function VD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rG=VD,jD=new Cf("auth","Firebase",VD());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg=new vx("@firebase/auth");function iG(t,...e){Gg.logLevel<=tt.WARN&&Gg.warn(`Auth (${Kl}): ${t}`,...e)}function Zm(t,...e){Gg.logLevel<=tt.ERROR&&Gg.error(`Auth (${Kl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(t,...e){throw _x(t,...e)}function as(t,...e){return _x(t,...e)}function UD(t,e,n){const r=Object.assign(Object.assign({},rG()),{[e]:n});return new Cf("auth","Firebase",r).create(e,{appName:t.name})}function da(t){return UD(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _x(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jD.create(t,...e)}function Ne(t,e,...n){if(!t)throw _x(e,...n)}function Ws(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zm(e),new Error(e)}function no(t,e){t||Ws(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function sG(){return Ab()==="http:"||Ab()==="https:"}function Ab(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oG(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sG()||k7()||"connection"in navigator)?navigator.onLine:!0}function aG(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n){this.shortDelay=e,this.longDelay=n,no(n>e,"Short delay should be less than long delay!"),this.isMobile=A7()||D7()}get(){return oG()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t,e){no(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lG={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uG=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cG=new Af(3e4,6e4);function Gl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Oa(t,e,n,r,i={}){return BD(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const l=bf(Object.assign({key:t.config.apiKey},a)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:c},s);return N7()||(h.referrerPolicy="no-referrer"),$D.fetch()(await zD(t,t.config.apiHost,n,l),h)})}async function BD(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},lG),e);try{const i=new hG(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Sm(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sm(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw Sm(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw Sm(t,"user-disabled",a);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw UD(t,p,h);Vi(t,p)}}catch(i){if(i instanceof vs)throw i;Vi(t,"network-request-failed",{message:String(i)})}}async function Xv(t,e,n,r,i={}){const s=await Oa(t,e,n,r,i);return"mfaPendingCredential"in s&&Vi(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function zD(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?wx(t.config,i):`${t.config.apiScheme}://${i}`;return uG.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function dG(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hG{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(as(this.auth,"network-request-failed")),cG.get())})}}function Sm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=as(t,e,r);return i.customData._tokenResponse=n,i}function Pb(t){return t!==void 0&&t.enterprise!==void 0}class fG{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dG(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pG(t,e){return Oa(t,"GET","/v2/recaptchaConfig",Gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mG(t,e){return Oa(t,"POST","/v1/accounts:delete",e)}async function qg(t,e){return Oa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gG(t,e=!1){const n=On(t),r=await n.getIdToken(e),i=Ex(r);Ne(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Eh(R_(i.auth_time)),issuedAtTime:Eh(R_(i.iat)),expirationTime:Eh(R_(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function R_(t){return Number(t)*1e3}function Ex(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zm("JWT malformed, contained fewer than 3 sections"),null;try{const i=bD(n);return i?JSON.parse(i):(Zm("Failed to decode base64 JWT payload"),null)}catch(i){return Zm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Nb(t){const e=Ex(t);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof vs&&vG(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function vG({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eh(this.lastLoginAt),this.creationTime=Eh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qg(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Xh(t,qg(n,{idToken:r}));Ne(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?WD(s.providerUserInfo):[],l=wG(t.providerData,a),c=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(l!=null&&l.length),p=c?h:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new vE(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,m)}async function _G(t){const e=On(t);await Qg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wG(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function WD(t){return t.map(e=>{var{providerId:n}=e,r=Rf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EG(t,e){const n=await BD(t,{},async()=>{const r=bf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await zD(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",$D.fetch()(a,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xG(t,e){return Oa(t,"POST","/v2/accounts:revokeToken",Gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const n=Nb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await EG(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new ec;return r&&(Ne(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Ne(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Ne(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ec,this.toJSON())}_performRefresh(){return Ws("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(t,e){Ne(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Rf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yG(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new vE(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Xh(this,this.stsTokenManager.getToken(this.auth,e));return Ne(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gG(this,e)}reload(){return _G(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Qg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oi(this.auth.app))return Promise.reject(da(this.auth));const e=await this.getIdToken();return await Xh(this,mG(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,l,c,h,p;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,x=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,I=(a=n.photoURL)!==null&&a!==void 0?a:void 0,E=(l=n.tenantId)!==null&&l!==void 0?l:void 0,b=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,C=(h=n.createdAt)!==null&&h!==void 0?h:void 0,T=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:R,emailVerified:V,isAnonymous:U,providerData:z,stsTokenManager:N}=n;Ne(R&&N,e,"internal-error");const A=ec.fromJSON(this.name,N);Ne(typeof R=="string",e,"internal-error"),Ro(m,e.name),Ro(g,e.name),Ne(typeof V=="boolean",e,"internal-error"),Ne(typeof U=="boolean",e,"internal-error"),Ro(x,e.name),Ro(I,e.name),Ro(E,e.name),Ro(b,e.name),Ro(C,e.name),Ro(T,e.name);const k=new Pi({uid:R,auth:e,email:g,emailVerified:V,displayName:m,isAnonymous:U,photoURL:I,phoneNumber:x,tenantId:E,stsTokenManager:A,createdAt:C,lastLoginAt:T});return z&&Array.isArray(z)&&(k.providerData=z.map(L=>Object.assign({},L))),b&&(k._redirectEventId=b),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new ec;i.updateFromServerResponse(n);const s=new Pi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Qg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ne(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?WD(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),l=new ec;l.updateFromIdToken(r);const c=new Pi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new vE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=new Map;function Hs(t){no(t instanceof Function,"Expected a class definition");let e=kb.get(t);return e?(no(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,kb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}HD.type="NONE";const Db=HD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(t,e,n){return`firebase:${t}:${e}:${n}`}class tc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=eg(this.userKey,i.apiKey,s),this.fullPersistenceKey=eg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qg(this.auth,{idToken:e}).catch(()=>{});return n?Pi._fromGetAccountInfoResponse(this.auth,n,e):null}return Pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new tc(Hs(Db),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||Hs(Db);const a=eg(r,e.config.apiKey,e.name);let l=null;for(const h of n)try{const p=await h._get(a);if(p){let m;if(typeof p=="string"){const g=await qg(e,{idToken:p}).catch(()=>{});if(!g)break;m=await Pi._fromGetAccountInfoResponse(e,g,p)}else m=Pi._fromJSON(e,p);h!==s&&(l=m),s=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new tc(s,e,r):(s=c[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==s)try{await h._remove(a)}catch{}})),new tc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XD(e))return"Blackberry";if(JD(e))return"Webos";if(GD(e))return"Safari";if((e.includes("chrome/")||qD(e))&&!e.includes("edge/"))return"Chrome";if(YD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function KD(t=Xn()){return/firefox\//i.test(t)}function GD(t=Xn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qD(t=Xn()){return/crios\//i.test(t)}function QD(t=Xn()){return/iemobile/i.test(t)}function YD(t=Xn()){return/android/i.test(t)}function XD(t=Xn()){return/blackberry/i.test(t)}function JD(t=Xn()){return/webos/i.test(t)}function xx(t=Xn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TG(t=Xn()){var e;return xx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SG(){return O7()&&document.documentMode===10}function ZD(t=Xn()){return xx(t)||YD(t)||JD(t)||XD(t)||/windows phone/i.test(t)||QD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(t,e=[]){let n;switch(t){case"Browser":n=Ob(Xn());break;case"Worker":n=`${Ob(Xn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Kl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IG{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,l)=>{try{const c=e(s);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CG(t,e={}){return Oa(t,"GET","/v2/passwordPolicy",Gl(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bG=6;class RG{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:bG,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AG{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mb(this),this.idTokenSubscription=new Mb(this),this.beforeStateQueue=new IG(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hs(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await tc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qg(this,{idToken:e}),r=await Pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(oi(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aG()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oi(this.app))return Promise.reject(da(this));const n=e?On(e):null;return n&&Ne(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oi(this.app)?Promise.reject(da(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oi(this.app)?Promise.reject(da(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CG(this),n=new RG(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await xG(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hs(e)||this._popupRedirectResolver;Ne(n,this,"argument-error"),this.redirectPersistenceManager=await tc.create(this,[Hs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&iG(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Yc(t){return On(t)}class Mb{constructor(e){this.auth=e,this.observer=null,this.addObserver=B7(n=>this.observer=n)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PG(t){Jv=t}function tO(t){return Jv.loadJS(t)}function NG(){return Jv.recaptchaEnterpriseScript}function kG(){return Jv.gapiScript}function DG(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class OG{constructor(){this.enterprise=new MG}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class MG{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const LG="recaptcha-enterprise",nO="NO_RECAPTCHA";class FG{constructor(e){this.type=LG,this.auth=Yc(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{pG(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new fG(c);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,a(h.siteKey)}}).catch(c=>{l(c)})})}function i(s,a,l){const c=window.grecaptcha;Pb(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(h=>{a(h)}).catch(()=>{a(nO)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new OG().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(l=>{if(!n&&Pb(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=NG();c.length!==0&&(c+=l),tO(c).then(()=>{i(l,s,a)}).catch(h=>{a(h)})}}).catch(l=>{a(l)})})}}async function Lb(t,e,n,r=!1,i=!1){const s=new FG(t);let a;if(i)a=nO;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:h,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Fb(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Lb(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Lb(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VG(t,e){const n=Qv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ml(s,e??{}))return i;Vi(i,"already-initialized")}return n.initialize({options:e})}function jG(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function UG(t,e,n){const r=Yc(t);Ne(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=rO(e),{host:a,port:l}=$G(e),c=l===null?"":`:${l}`,h={url:`${s}//${a}${c}/`},p=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ne(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ne(Ml(h,r.config.emulator)&&Ml(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,BG()}function rO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $G(t){const e=rO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Vb(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:Vb(a)}}}function Vb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function BG(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ws("not implemented")}_getIdTokenResponse(e){return Ws("not implemented")}_linkToIdToken(e,n){return Ws("not implemented")}_getReauthenticationResolver(e){return Ws("not implemented")}}async function zG(t,e){return Oa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WG(t,e){return Xv(t,"POST","/v1/accounts:signInWithPassword",Gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HG(t,e){return Xv(t,"POST","/v1/accounts:signInWithEmailLink",Gl(t,e))}async function KG(t,e){return Xv(t,"POST","/v1/accounts:signInWithEmailLink",Gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends Tx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Jh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Jh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fb(e,n,"signInWithPassword",WG);case"emailLink":return HG(e,{email:this._email,oobCode:this._password});default:Vi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fb(e,r,"signUpPassword",zG);case"emailLink":return KG(e,{idToken:n,email:this._email,oobCode:this._password});default:Vi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(t,e){return Xv(t,"POST","/v1/accounts:signInWithIdp",Gl(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GG="http://localhost";class Fl extends Tx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Rf(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new Fl(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return nc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,nc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,nc(e,n)}buildRequest(){const e={requestUri:GG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qG(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QG(t){const e=rh(ih(t)).link,n=e?rh(ih(e)).deep_link_id:null,r=rh(ih(t)).deep_link_id;return(r?rh(ih(r)).link:null)||r||n||e||t}class Sx{constructor(e){var n,r,i,s,a,l;const c=rh(ih(e)),h=(n=c.apiKey)!==null&&n!==void 0?n:null,p=(r=c.oobCode)!==null&&r!==void 0?r:null,m=qG((i=c.mode)!==null&&i!==void 0?i:null);Ne(h&&p&&m,"argument-error"),this.apiKey=h,this.operation=m,this.code=p,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=c.lang)!==null&&a!==void 0?a:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=QG(e);try{return new Sx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this.providerId=Xc.PROVIDER_ID}static credential(e,n){return Jh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Sx.parseLink(n);return Ne(r,"argument-error"),Jh._fromEmailAndCode(e,r.code,r.tenantId)}}Xc.PROVIDER_ID="password";Xc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf extends iO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends Pf{constructor(){super("facebook.com")}static credential(e){return Fl._fromParams({providerId:Fo.PROVIDER_ID,signInMethod:Fo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fo.credentialFromTaggedObject(e)}static credentialFromError(e){return Fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fo.credential(e.oauthAccessToken)}catch{return null}}}Fo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends Pf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fl._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Vo.credential(n,r)}catch{return null}}}Vo.GOOGLE_SIGN_IN_METHOD="google.com";Vo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends Pf{constructor(){super("github.com")}static credential(e){return Fl._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jo.credentialFromTaggedObject(e)}static credentialFromError(e){return jo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jo.credential(e.oauthAccessToken)}catch{return null}}}jo.GITHUB_SIGN_IN_METHOD="github.com";jo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends Pf{constructor(){super("twitter.com")}static credential(e,n){return Fl._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Uo.credential(n,r)}catch{return null}}}Uo.TWITTER_SIGN_IN_METHOD="twitter.com";Uo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Pi._fromIdTokenResponse(e,r,i),a=jb(r);return new Nc({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=jb(r);return new Nc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function jb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg extends vs{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Yg.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Yg(e,n,r,i)}}function sO(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Yg._fromErrorAndOperation(t,s,e,r):s})}async function YG(t,e,n=!1){const r=await Xh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Nc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XG(t,e,n=!1){const{auth:r}=t;if(oi(r.app))return Promise.reject(da(r));const i="reauthenticate";try{const s=await Xh(t,sO(r,i,e,t),n);Ne(s.idToken,r,"internal-error");const a=Ex(s.idToken);Ne(a,r,"internal-error");const{sub:l}=a;return Ne(t.uid===l,r,"user-mismatch"),Nc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Vi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oO(t,e,n=!1){if(oi(t.app))return Promise.reject(da(t));const r="signIn",i=await sO(t,r,e),s=await Nc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function JG(t,e){return oO(Yc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZG(t){const e=Yc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function eq(t,e,n){return oi(t.app)?Promise.reject(da(t)):JG(On(t),Xc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ZG(t),r})}function tq(t,e,n,r){return On(t).onIdTokenChanged(e,n,r)}function nq(t,e,n){return On(t).beforeAuthStateChanged(e,n)}function rq(t,e,n,r){return On(t).onAuthStateChanged(e,n,r)}const Xg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xg,"1"),this.storage.removeItem(Xg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iq=1e3,sq=10;class lO extends aO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);SG()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sq):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},iq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lO.type="LOCAL";const oq=lO;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO extends aO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}uO.type="SESSION";const cO=uO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aq(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Zv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async h=>h(n.origin,s)),c=await aq(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const h=Ix("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(p),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(){return window}function uq(t){ls().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(){return typeof ls().WorkerGlobalScope<"u"&&typeof ls().importScripts=="function"}async function cq(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dq(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function hq(){return dO()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="firebaseLocalStorageDb",fq=1,Jg="firebaseLocalStorage",fO="fbase_key";class Nf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ey(t,e){return t.transaction([Jg],e?"readwrite":"readonly").objectStore(Jg)}function pq(){const t=indexedDB.deleteDatabase(hO);return new Nf(t).toPromise()}function yE(){const t=indexedDB.open(hO,fq);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Jg,{keyPath:fO})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Jg)?e(r):(r.close(),await pq(),e(await yE()))})})}async function Ub(t,e,n){const r=ey(t,!0).put({[fO]:e,value:n});return new Nf(r).toPromise()}async function mq(t,e){const n=ey(t,!1).get(e),r=await new Nf(n).toPromise();return r===void 0?null:r.value}function $b(t,e){const n=ey(t,!0).delete(e);return new Nf(n).toPromise()}const gq=800,vq=3;class pO{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vq)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dO()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zv._getInstance(hq()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await cq(),!this.activeServiceWorker)return;this.sender=new lq(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yE();return await Ub(e,Xg,"1"),await $b(e,Xg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ub(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mq(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$b(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ey(i,!1).getAll();return new Nf(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pO.type="LOCAL";const yq=pO;new Af(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _q(t,e){return e?Hs(e):(Ne(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx extends Tx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return nc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return nc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wq(t){return oO(t.auth,new Cx(t),t.bypassAuthState)}function Eq(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),XG(n,new Cx(t),t.bypassAuthState)}async function xq(t){const{auth:e,user:n}=t;return Ne(n,e,"internal-error"),YG(n,new Cx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wq;case"linkViaPopup":case"linkViaRedirect":return xq;case"reauthViaPopup":case"reauthViaRedirect":return Eq;default:Vi(this.auth,"internal-error")}}resolve(e){no(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){no(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tq=new Af(2e3,1e4);class Wu extends mO{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Wu.currentPopupAction&&Wu.currentPopupAction.cancel(),Wu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){no(this.filter.length===1,"Popup operations only handle one event");const e=Ix();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(as(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(as(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(as(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Tq.get())};e()}}Wu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sq="pendingRedirect",tg=new Map;class Iq extends mO{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=tg.get(this.auth._key());if(!e){try{const r=await Cq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}tg.set(this.auth._key(),e)}return this.bypassAuthState||tg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Cq(t,e){const n=Aq(e),r=Rq(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function bq(t,e){tg.set(t._key(),e)}function Rq(t){return Hs(t._redirectPersistence)}function Aq(t){return eg(Sq,t.config.apiKey,t.name)}async function Pq(t,e,n=!1){if(oi(t.app))return Promise.reject(da(t));const r=Yc(t),i=_q(r,e),a=await new Iq(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nq=10*60*1e3;class kq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Dq(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!gO(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(as(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Nq&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bb(e))}saveEventToCache(e){this.cachedEventUids.add(Bb(e)),this.lastProcessedEventTime=Date.now()}}function Bb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gO({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Dq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oq(t,e={}){return Oa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lq=/^https?/;async function Fq(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Oq(t);for(const n of e)try{if(Vq(n))return}catch{}Vi(t,"unauthorized-domain")}function Vq(t){const e=gE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Lq.test(n))return!1;if(Mq.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jq=new Af(3e4,6e4);function zb(){const t=ls().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Uq(t){return new Promise((e,n)=>{var r,i,s;function a(){zb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zb(),n(as(t,"network-request-failed"))},timeout:jq.get()})}if(!((i=(r=ls().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ls().gapi)===null||s===void 0)&&s.load)a();else{const l=DG("iframefcb");return ls()[l]=()=>{gapi.load?a():n(as(t,"network-request-failed"))},tO(`${kG()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw ng=null,e})}let ng=null;function $q(t){return ng=ng||Uq(t),ng}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq=new Af(5e3,15e3),zq="__/auth/iframe",Wq="emulator/auth/iframe",Hq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gq(t){const e=t.config;Ne(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wx(e,Wq):`https://${t.config.authDomain}/${zq}`,r={apiKey:e.apiKey,appName:t.name,v:Kl},i=Kq.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${bf(r).slice(1)}`}async function qq(t){const e=await $q(t),n=ls().gapi;return Ne(n,t,"internal-error"),e.open({where:document.body,url:Gq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hq,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=as(t,"network-request-failed"),l=ls().setTimeout(()=>{s(a)},Bq.get());function c(){ls().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Yq=500,Xq=600,Jq="_blank",Zq="http://localhost";class Wb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function eQ(t,e,n,r=Yq,i=Xq){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Qq),{width:r.toString(),height:i.toString(),top:s,left:a}),h=Xn().toLowerCase();n&&(l=qD(h)?Jq:n),KD(h)&&(e=e||Zq,c.scrollbars="yes");const p=Object.entries(c).reduce((g,[x,I])=>`${g}${x}=${I},`,"");if(TG(h)&&l!=="_self")return tQ(e||"",l),new Wb(null);const m=window.open(e||"",l,p);Ne(m,t,"popup-blocked");try{m.focus()}catch{}return new Wb(m)}function tQ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nQ="__/auth/handler",rQ="emulator/auth/handler",iQ=encodeURIComponent("fac");async function Hb(t,e,n,r,i,s){Ne(t.config.authDomain,t,"auth-domain-config-required"),Ne(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Kl,eventId:i};if(e instanceof iO){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",$7(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,m]of Object.entries({}))a[p]=m}if(e instanceof Pf){const p=e.getScopes().filter(m=>m!=="");p.length>0&&(a.scopes=p.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const c=await t._getAppCheckToken(),h=c?`#${iQ}=${encodeURIComponent(c)}`:"";return`${sQ(t)}?${bf(l).slice(1)}${h}`}function sQ({config:t}){return t.emulator?wx(t,rQ):`https://${t.authDomain}/${nQ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="webStorageSupport";class oQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=cO,this._completeRedirectFn=Pq,this._overrideRedirectResult=bq}async _openPopup(e,n,r,i){var s;no((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await Hb(e,n,r,gE(),i);return eQ(e,a,Ix())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Hb(e,n,r,gE(),i);return uq(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(no(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await qq(e),r=new kq(e);return n.register("authEvent",i=>(Ne(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(A_,{type:A_},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[A_];a!==void 0&&n(!!a),Vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Fq(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ZD()||GD()||xx()}}const aQ=oQ;var Kb="@firebase/auth",Gb="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function cQ(t){Ll(new Ea("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;Ne(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eO(t)},h=new AG(r,i,s,c);return jG(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ll(new Ea("auth-internal",e=>{const n=Yc(e.getProvider("auth").getImmediate());return(r=>new lQ(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),os(Kb,Gb,uQ(t)),os(Kb,Gb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dQ=5*60,hQ=ND("authIdTokenMaxAge")||dQ;let qb=null;const fQ=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hQ)return;const i=n==null?void 0:n.token;qb!==i&&(qb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pQ(t=Yv()){const e=Qv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=VG(t,{popupRedirectResolver:aQ,persistence:[yq,oq,cO]}),r=ND("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=fQ(s.toString());nq(n,a,()=>a(n.currentUser)),tq(n,l=>a(l))}}const i=RD("auth");return i&&UG(n,`http://${i}`),n}function mQ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}PG({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=as("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",mQ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});cQ("Browser");var Qb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ha,vO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function k(){}k.prototype=A.prototype,N.D=A.prototype,N.prototype=new k,N.prototype.constructor=N,N.C=function(L,$,j){for(var F=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)F[ee-2]=arguments[ee];return A.prototype[$].apply(L,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,A,k){k||(k=0);var L=Array(16);if(typeof A=="string")for(var $=0;16>$;++$)L[$]=A.charCodeAt(k++)|A.charCodeAt(k++)<<8|A.charCodeAt(k++)<<16|A.charCodeAt(k++)<<24;else for($=0;16>$;++$)L[$]=A[k++]|A[k++]<<8|A[k++]<<16|A[k++]<<24;A=N.g[0],k=N.g[1],$=N.g[2];var j=N.g[3],F=A+(j^k&($^j))+L[0]+3614090360&4294967295;A=k+(F<<7&4294967295|F>>>25),F=j+($^A&(k^$))+L[1]+3905402710&4294967295,j=A+(F<<12&4294967295|F>>>20),F=$+(k^j&(A^k))+L[2]+606105819&4294967295,$=j+(F<<17&4294967295|F>>>15),F=k+(A^$&(j^A))+L[3]+3250441966&4294967295,k=$+(F<<22&4294967295|F>>>10),F=A+(j^k&($^j))+L[4]+4118548399&4294967295,A=k+(F<<7&4294967295|F>>>25),F=j+($^A&(k^$))+L[5]+1200080426&4294967295,j=A+(F<<12&4294967295|F>>>20),F=$+(k^j&(A^k))+L[6]+2821735955&4294967295,$=j+(F<<17&4294967295|F>>>15),F=k+(A^$&(j^A))+L[7]+4249261313&4294967295,k=$+(F<<22&4294967295|F>>>10),F=A+(j^k&($^j))+L[8]+1770035416&4294967295,A=k+(F<<7&4294967295|F>>>25),F=j+($^A&(k^$))+L[9]+2336552879&4294967295,j=A+(F<<12&4294967295|F>>>20),F=$+(k^j&(A^k))+L[10]+4294925233&4294967295,$=j+(F<<17&4294967295|F>>>15),F=k+(A^$&(j^A))+L[11]+2304563134&4294967295,k=$+(F<<22&4294967295|F>>>10),F=A+(j^k&($^j))+L[12]+1804603682&4294967295,A=k+(F<<7&4294967295|F>>>25),F=j+($^A&(k^$))+L[13]+4254626195&4294967295,j=A+(F<<12&4294967295|F>>>20),F=$+(k^j&(A^k))+L[14]+2792965006&4294967295,$=j+(F<<17&4294967295|F>>>15),F=k+(A^$&(j^A))+L[15]+1236535329&4294967295,k=$+(F<<22&4294967295|F>>>10),F=A+($^j&(k^$))+L[1]+4129170786&4294967295,A=k+(F<<5&4294967295|F>>>27),F=j+(k^$&(A^k))+L[6]+3225465664&4294967295,j=A+(F<<9&4294967295|F>>>23),F=$+(A^k&(j^A))+L[11]+643717713&4294967295,$=j+(F<<14&4294967295|F>>>18),F=k+(j^A&($^j))+L[0]+3921069994&4294967295,k=$+(F<<20&4294967295|F>>>12),F=A+($^j&(k^$))+L[5]+3593408605&4294967295,A=k+(F<<5&4294967295|F>>>27),F=j+(k^$&(A^k))+L[10]+38016083&4294967295,j=A+(F<<9&4294967295|F>>>23),F=$+(A^k&(j^A))+L[15]+3634488961&4294967295,$=j+(F<<14&4294967295|F>>>18),F=k+(j^A&($^j))+L[4]+3889429448&4294967295,k=$+(F<<20&4294967295|F>>>12),F=A+($^j&(k^$))+L[9]+568446438&4294967295,A=k+(F<<5&4294967295|F>>>27),F=j+(k^$&(A^k))+L[14]+3275163606&4294967295,j=A+(F<<9&4294967295|F>>>23),F=$+(A^k&(j^A))+L[3]+4107603335&4294967295,$=j+(F<<14&4294967295|F>>>18),F=k+(j^A&($^j))+L[8]+1163531501&4294967295,k=$+(F<<20&4294967295|F>>>12),F=A+($^j&(k^$))+L[13]+2850285829&4294967295,A=k+(F<<5&4294967295|F>>>27),F=j+(k^$&(A^k))+L[2]+4243563512&4294967295,j=A+(F<<9&4294967295|F>>>23),F=$+(A^k&(j^A))+L[7]+1735328473&4294967295,$=j+(F<<14&4294967295|F>>>18),F=k+(j^A&($^j))+L[12]+2368359562&4294967295,k=$+(F<<20&4294967295|F>>>12),F=A+(k^$^j)+L[5]+4294588738&4294967295,A=k+(F<<4&4294967295|F>>>28),F=j+(A^k^$)+L[8]+2272392833&4294967295,j=A+(F<<11&4294967295|F>>>21),F=$+(j^A^k)+L[11]+1839030562&4294967295,$=j+(F<<16&4294967295|F>>>16),F=k+($^j^A)+L[14]+4259657740&4294967295,k=$+(F<<23&4294967295|F>>>9),F=A+(k^$^j)+L[1]+2763975236&4294967295,A=k+(F<<4&4294967295|F>>>28),F=j+(A^k^$)+L[4]+1272893353&4294967295,j=A+(F<<11&4294967295|F>>>21),F=$+(j^A^k)+L[7]+4139469664&4294967295,$=j+(F<<16&4294967295|F>>>16),F=k+($^j^A)+L[10]+3200236656&4294967295,k=$+(F<<23&4294967295|F>>>9),F=A+(k^$^j)+L[13]+681279174&4294967295,A=k+(F<<4&4294967295|F>>>28),F=j+(A^k^$)+L[0]+3936430074&4294967295,j=A+(F<<11&4294967295|F>>>21),F=$+(j^A^k)+L[3]+3572445317&4294967295,$=j+(F<<16&4294967295|F>>>16),F=k+($^j^A)+L[6]+76029189&4294967295,k=$+(F<<23&4294967295|F>>>9),F=A+(k^$^j)+L[9]+3654602809&4294967295,A=k+(F<<4&4294967295|F>>>28),F=j+(A^k^$)+L[12]+3873151461&4294967295,j=A+(F<<11&4294967295|F>>>21),F=$+(j^A^k)+L[15]+530742520&4294967295,$=j+(F<<16&4294967295|F>>>16),F=k+($^j^A)+L[2]+3299628645&4294967295,k=$+(F<<23&4294967295|F>>>9),F=A+($^(k|~j))+L[0]+4096336452&4294967295,A=k+(F<<6&4294967295|F>>>26),F=j+(k^(A|~$))+L[7]+1126891415&4294967295,j=A+(F<<10&4294967295|F>>>22),F=$+(A^(j|~k))+L[14]+2878612391&4294967295,$=j+(F<<15&4294967295|F>>>17),F=k+(j^($|~A))+L[5]+4237533241&4294967295,k=$+(F<<21&4294967295|F>>>11),F=A+($^(k|~j))+L[12]+1700485571&4294967295,A=k+(F<<6&4294967295|F>>>26),F=j+(k^(A|~$))+L[3]+2399980690&4294967295,j=A+(F<<10&4294967295|F>>>22),F=$+(A^(j|~k))+L[10]+4293915773&4294967295,$=j+(F<<15&4294967295|F>>>17),F=k+(j^($|~A))+L[1]+2240044497&4294967295,k=$+(F<<21&4294967295|F>>>11),F=A+($^(k|~j))+L[8]+1873313359&4294967295,A=k+(F<<6&4294967295|F>>>26),F=j+(k^(A|~$))+L[15]+4264355552&4294967295,j=A+(F<<10&4294967295|F>>>22),F=$+(A^(j|~k))+L[6]+2734768916&4294967295,$=j+(F<<15&4294967295|F>>>17),F=k+(j^($|~A))+L[13]+1309151649&4294967295,k=$+(F<<21&4294967295|F>>>11),F=A+($^(k|~j))+L[4]+4149444226&4294967295,A=k+(F<<6&4294967295|F>>>26),F=j+(k^(A|~$))+L[11]+3174756917&4294967295,j=A+(F<<10&4294967295|F>>>22),F=$+(A^(j|~k))+L[2]+718787259&4294967295,$=j+(F<<15&4294967295|F>>>17),F=k+(j^($|~A))+L[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+($+(F<<21&4294967295|F>>>11))&4294967295,N.g[2]=N.g[2]+$&4294967295,N.g[3]=N.g[3]+j&4294967295}r.prototype.u=function(N,A){A===void 0&&(A=N.length);for(var k=A-this.blockSize,L=this.B,$=this.h,j=0;j<A;){if($==0)for(;j<=k;)i(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<A;)if(L[$++]=N.charCodeAt(j++),$==this.blockSize){i(this,L),$=0;break}}else for(;j<A;)if(L[$++]=N[j++],$==this.blockSize){i(this,L),$=0;break}}this.h=$,this.o+=A},r.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;var k=8*this.o;for(A=N.length-8;A<N.length;++A)N[A]=k&255,k/=256;for(this.u(N),N=Array(16),A=k=0;4>A;++A)for(var L=0;32>L;L+=8)N[k++]=this.g[A]>>>L&255;return N};function s(N,A){var k=l;return Object.prototype.hasOwnProperty.call(k,N)?k[N]:k[N]=A(N)}function a(N,A){this.h=A;for(var k=[],L=!0,$=N.length-1;0<=$;$--){var j=N[$]|0;L&&j==A||(k[$]=j,L=!1)}this.g=k}var l={};function c(N){return-128<=N&&128>N?s(N,function(A){return new a([A|0],0>A?-1:0)}):new a([N|0],0>N?-1:0)}function h(N){if(isNaN(N)||!isFinite(N))return m;if(0>N)return b(h(-N));for(var A=[],k=1,L=0;N>=k;L++)A[L]=N/k|0,k*=4294967296;return new a(A,0)}function p(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return b(p(N.substring(1),A));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=h(Math.pow(A,8)),L=m,$=0;$<N.length;$+=8){var j=Math.min(8,N.length-$),F=parseInt(N.substring($,$+j),A);8>j?(j=h(Math.pow(A,j)),L=L.j(j).add(h(F))):(L=L.j(k),L=L.add(h(F)))}return L}var m=c(0),g=c(1),x=c(16777216);t=a.prototype,t.m=function(){if(E(this))return-b(this).m();for(var N=0,A=1,k=0;k<this.g.length;k++){var L=this.i(k);N+=(0<=L?L:4294967296+L)*A,A*=4294967296}return N},t.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(I(this))return"0";if(E(this))return"-"+b(this).toString(N);for(var A=h(Math.pow(N,6)),k=this,L="";;){var $=V(k,A).g;k=C(k,$.j(A));var j=((0<k.g.length?k.g[0]:k.h)>>>0).toString(N);if(k=$,I(k))return j+L;for(;6>j.length;)j="0"+j;L=j+L}},t.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function I(N){if(N.h!=0)return!1;for(var A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function E(N){return N.h==-1}t.l=function(N){return N=C(this,N),E(N)?-1:I(N)?0:1};function b(N){for(var A=N.g.length,k=[],L=0;L<A;L++)k[L]=~N.g[L];return new a(k,~N.h).add(g)}t.abs=function(){return E(this)?b(this):this},t.add=function(N){for(var A=Math.max(this.g.length,N.g.length),k=[],L=0,$=0;$<=A;$++){var j=L+(this.i($)&65535)+(N.i($)&65535),F=(j>>>16)+(this.i($)>>>16)+(N.i($)>>>16);L=F>>>16,j&=65535,F&=65535,k[$]=F<<16|j}return new a(k,k[k.length-1]&-2147483648?-1:0)};function C(N,A){return N.add(b(A))}t.j=function(N){if(I(this)||I(N))return m;if(E(this))return E(N)?b(this).j(b(N)):b(b(this).j(N));if(E(N))return b(this.j(b(N)));if(0>this.l(x)&&0>N.l(x))return h(this.m()*N.m());for(var A=this.g.length+N.g.length,k=[],L=0;L<2*A;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(var $=0;$<N.g.length;$++){var j=this.i(L)>>>16,F=this.i(L)&65535,ee=N.i($)>>>16,ge=N.i($)&65535;k[2*L+2*$]+=F*ge,T(k,2*L+2*$),k[2*L+2*$+1]+=j*ge,T(k,2*L+2*$+1),k[2*L+2*$+1]+=F*ee,T(k,2*L+2*$+1),k[2*L+2*$+2]+=j*ee,T(k,2*L+2*$+2)}for(L=0;L<A;L++)k[L]=k[2*L+1]<<16|k[2*L];for(L=A;L<2*A;L++)k[L]=0;return new a(k,0)};function T(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function R(N,A){this.g=N,this.h=A}function V(N,A){if(I(A))throw Error("division by zero");if(I(N))return new R(m,m);if(E(N))return A=V(b(N),A),new R(b(A.g),b(A.h));if(E(A))return A=V(N,b(A)),new R(b(A.g),A.h);if(30<N.g.length){if(E(N)||E(A))throw Error("slowDivide_ only works with positive integers.");for(var k=g,L=A;0>=L.l(N);)k=U(k),L=U(L);var $=z(k,1),j=z(L,1);for(L=z(L,2),k=z(k,2);!I(L);){var F=j.add(L);0>=F.l(N)&&($=$.add(k),j=F),L=z(L,1),k=z(k,1)}return A=C(N,$.j(A)),new R($,A)}for($=m;0<=N.l(A);){for(k=Math.max(1,Math.floor(N.m()/A.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),j=h(k),F=j.j(A);E(F)||0<F.l(N);)k-=L,j=h(k),F=j.j(A);I(j)&&(j=g),$=$.add(j),N=C(N,F)}return new R($,N)}t.A=function(N){return V(this,N).h},t.and=function(N){for(var A=Math.max(this.g.length,N.g.length),k=[],L=0;L<A;L++)k[L]=this.i(L)&N.i(L);return new a(k,this.h&N.h)},t.or=function(N){for(var A=Math.max(this.g.length,N.g.length),k=[],L=0;L<A;L++)k[L]=this.i(L)|N.i(L);return new a(k,this.h|N.h)},t.xor=function(N){for(var A=Math.max(this.g.length,N.g.length),k=[],L=0;L<A;L++)k[L]=this.i(L)^N.i(L);return new a(k,this.h^N.h)};function U(N){for(var A=N.g.length+1,k=[],L=0;L<A;L++)k[L]=N.i(L)<<1|N.i(L-1)>>>31;return new a(k,N.h)}function z(N,A){var k=A>>5;A%=32;for(var L=N.g.length-k,$=[],j=0;j<L;j++)$[j]=0<A?N.i(j+k)>>>A|N.i(j+k+1)<<32-A:N.i(j+k);return new a($,N.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,vO=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=p,ha=a}).apply(typeof Qb<"u"?Qb:typeof self<"u"?self:typeof window<"u"?window:{});var Im=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yO,sh,_O,rg,_E,wO,EO,xO;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,S){return d==Array.prototype||d==Object.prototype||(d[y]=S.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Im=="object"&&Im];for(var y=0;y<d.length;++y){var S=d[y];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function i(d,y){if(y)e:{var S=r;d=d.split(".");for(var O=0;O<d.length-1;O++){var Q=d[O];if(!(Q in S))break e;S=S[Q]}d=d[d.length-1],O=S[d],y=y(O),y!=O&&y!=null&&e(S,d,{configurable:!0,writable:!0,value:y})}}function s(d,y){d instanceof String&&(d+="");var S=0,O=!1,Q={next:function(){if(!O&&S<d.length){var J=S++;return{value:y(J,d[J]),done:!1}}return O=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}i("Array.prototype.values",function(d){return d||function(){return s(this,function(y,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function h(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function p(d,y,S){return d.call.apply(d.bind,arguments)}function m(d,y,S){if(!d)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,O),d.apply(y,Q)}}return function(){return d.apply(y,arguments)}}function g(d,y,S){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,g.apply(null,arguments)}function x(d,y){var S=Array.prototype.slice.call(arguments,1);return function(){var O=S.slice();return O.push.apply(O,arguments),d.apply(this,O)}}function I(d,y){function S(){}S.prototype=y.prototype,d.aa=y.prototype,d.prototype=new S,d.prototype.constructor=d,d.Qb=function(O,Q,J){for(var ce=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)ce[ht-2]=arguments[ht];return y.prototype[Q].apply(O,ce)}}function E(d){const y=d.length;if(0<y){const S=Array(y);for(let O=0;O<y;O++)S[O]=d[O];return S}return[]}function b(d,y){for(let S=1;S<arguments.length;S++){const O=arguments[S];if(c(O)){const Q=d.length||0,J=O.length||0;d.length=Q+J;for(let ce=0;ce<J;ce++)d[Q+ce]=O[ce]}else d.push(O)}}class C{constructor(y,S){this.i=y,this.j=S,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function T(d){return/^[\s\xa0]*$/.test(d)}function R(){var d=l.navigator;return d&&(d=d.userAgent)?d:""}function V(d){return V[" "](d),d}V[" "]=function(){};var U=R().indexOf("Gecko")!=-1&&!(R().toLowerCase().indexOf("webkit")!=-1&&R().indexOf("Edge")==-1)&&!(R().indexOf("Trident")!=-1||R().indexOf("MSIE")!=-1)&&R().indexOf("Edge")==-1;function z(d,y,S){for(const O in d)y.call(S,d[O],O,d)}function N(d,y){for(const S in d)y.call(void 0,d[S],S,d)}function A(d){const y={};for(const S in d)y[S]=d[S];return y}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(d,y){let S,O;for(let Q=1;Q<arguments.length;Q++){O=arguments[Q];for(S in O)d[S]=O[S];for(let J=0;J<k.length;J++)S=k[J],Object.prototype.hasOwnProperty.call(O,S)&&(d[S]=O[S])}}function $(d){var y=1;d=d.split(":");const S=[];for(;0<y&&d.length;)S.push(d.shift()),y--;return d.length&&S.push(d.join(":")),S}function j(d){l.setTimeout(()=>{throw d},0)}function F(){var d=Y;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class ee{constructor(){this.h=this.g=null}add(y,S){const O=ge.get();O.set(y,S),this.h?this.h.next=O:this.g=O,this.h=O}}var ge=new C(()=>new le,d=>d.reset());class le{constructor(){this.next=this.g=this.h=null}set(y,S){this.h=y,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let he,q=!1,Y=new ee,ue=()=>{const d=l.Promise.resolve(void 0);he=()=>{d.then(oe)}};var oe=()=>{for(var d;d=F();){try{d.h.call(d.g)}catch(S){j(S)}var y=ge;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}q=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function xe(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}xe.prototype.h=function(){this.defaultPrevented=!0};var Xe=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const S=()=>{};l.addEventListener("test",S,y),l.removeEventListener("test",S,y)}catch{}return d}();function ot(d,y){if(xe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var S=this.type=d.type,O=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(U){e:{try{V(y.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(y=null)}}else S=="mouseover"?y=d.fromElement:S=="mouseout"&&(y=d.toElement);this.relatedTarget=y,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:De[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ot.aa.h.call(this)}}I(ot,xe);var De={2:"touch",3:"pen",4:"mouse"};ot.prototype.h=function(){ot.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function He(d,y,S,O,Q){this.listener=d,this.proxy=null,this.src=y,this.type=S,this.capture=!!O,this.ha=Q,this.key=++Ue,this.da=this.fa=!1}function $e(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ke(d){this.src=d,this.g={},this.h=0}Ke.prototype.add=function(d,y,S,O,Q){var J=d.toString();d=this.g[J],d||(d=this.g[J]=[],this.h++);var ce=$t(d,y,O,Q);return-1<ce?(y=d[ce],S||(y.fa=!1)):(y=new He(y,this.src,J,!!O,Q),y.fa=S,d.push(y)),y};function Be(d,y){var S=y.type;if(S in d.g){var O=d.g[S],Q=Array.prototype.indexOf.call(O,y,void 0),J;(J=0<=Q)&&Array.prototype.splice.call(O,Q,1),J&&($e(y),d.g[S].length==0&&(delete d.g[S],d.h--))}}function $t(d,y,S,O){for(var Q=0;Q<d.length;++Q){var J=d[Q];if(!J.da&&J.listener==y&&J.capture==!!S&&J.ha==O)return Q}return-1}var wt="closure_lm_"+(1e6*Math.random()|0),mn={};function Tn(d,y,S,O,Q){if(Array.isArray(y)){for(var J=0;J<y.length;J++)Tn(d,y[J],S,O,Q);return null}return S=fi(S),d&&d[_e]?d.K(y,S,h(O)?!!O.capture:!!O,Q):rn(d,y,S,!1,O,Q)}function rn(d,y,S,O,Q,J){if(!y)throw Error("Invalid event type");var ce=h(Q)?!!Q.capture:!!Q,ht=Cr(d);if(ht||(d[wt]=ht=new Ke(d)),S=ht.add(y,S,O,ce,J),S.proxy)return S;if(O=lo(),S.proxy=O,O.src=d,O.listener=S,d.addEventListener)Xe||(Q=ce),Q===void 0&&(Q=!1),d.addEventListener(y.toString(),O,Q);else if(d.attachEvent)d.attachEvent(Fn(y.toString()),O);else if(d.addListener&&d.removeListener)d.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return S}function lo(){function d(S){return y.call(d.src,d.listener,S)}const y=_s;return d}function Bt(d,y,S,O,Q){if(Array.isArray(y))for(var J=0;J<y.length;J++)Bt(d,y[J],S,O,Q);else O=h(O)?!!O.capture:!!O,S=fi(S),d&&d[_e]?(d=d.i,y=String(y).toString(),y in d.g&&(J=d.g[y],S=$t(J,S,O,Q),-1<S&&($e(J[S]),Array.prototype.splice.call(J,S,1),J.length==0&&(delete d.g[y],d.h--)))):d&&(d=Cr(d))&&(y=d.g[y.toString()],d=-1,y&&(d=$t(y,S,O,Q)),(S=-1<d?y[d]:null)&&Ln(S))}function Ln(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[_e])Be(y.i,d);else{var S=d.type,O=d.proxy;y.removeEventListener?y.removeEventListener(S,O,d.capture):y.detachEvent?y.detachEvent(Fn(S),O):y.addListener&&y.removeListener&&y.removeListener(O),(S=Cr(y))?(Be(S,d),S.h==0&&(S.src=null,y[wt]=null)):$e(d)}}}function Fn(d){return d in mn?mn[d]:mn[d]="on"+d}function _s(d,y){if(d.da)d=!0;else{y=new ot(y,this);var S=d.listener,O=d.ha||d.src;d.fa&&Ln(d),d=S.call(O,y)}return d}function Cr(d){return d=d[wt],d instanceof Ke?d:null}var ja="__closure_events_fn_"+(1e9*Math.random()>>>0);function fi(d){return typeof d=="function"?d:(d[ja]||(d[ja]=function(y){return d.handleEvent(y)}),d[ja])}function zt(){me.call(this),this.i=new Ke(this),this.M=this,this.F=null}I(zt,me),zt.prototype[_e]=!0,zt.prototype.removeEventListener=function(d,y,S,O){Bt(this,d,y,S,O)};function St(d,y){var S,O=d.F;if(O)for(S=[];O;O=O.F)S.push(O);if(d=d.M,O=y.type||y,typeof y=="string")y=new xe(y,d);else if(y instanceof xe)y.target=y.target||d;else{var Q=y;y=new xe(O,d),L(y,Q)}if(Q=!0,S)for(var J=S.length-1;0<=J;J--){var ce=y.g=S[J];Q=ur(ce,O,!0,y)&&Q}if(ce=y.g=d,Q=ur(ce,O,!0,y)&&Q,Q=ur(ce,O,!1,y)&&Q,S)for(J=0;J<S.length;J++)ce=y.g=S[J],Q=ur(ce,O,!1,y)&&Q}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var S=d.g[y],O=0;O<S.length;O++)$e(S[O]);delete d.g[y],d.h--}}this.F=null},zt.prototype.K=function(d,y,S,O){return this.i.add(String(d),y,!1,S,O)},zt.prototype.L=function(d,y,S,O){return this.i.add(String(d),y,!0,S,O)};function ur(d,y,S,O){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var Q=!0,J=0;J<y.length;++J){var ce=y[J];if(ce&&!ce.da&&ce.capture==S){var ht=ce.listener,on=ce.ha||ce.src;ce.fa&&Be(d.i,ce),Q=ht.call(on,O)!==!1&&Q}}return Q&&!O.defaultPrevented}function br(d,y,S){if(typeof d=="function")S&&(d=g(d,S));else if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:l.setTimeout(d,y||0)}function ws(d){d.g=br(()=>{d.g=null,d.i&&(d.i=!1,ws(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class Ua extends me{constructor(y,S){super(),this.m=y,this.l=S,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ws(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(d){me.call(this),this.h=d,this.g={}}I(Wr,me);var Es=[];function uo(d){z(d.g,function(y,S){this.g.hasOwnProperty(S)&&Ln(y)},d),d.g={}}Wr.prototype.N=function(){Wr.aa.N.call(this),uo(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pi=l.JSON.stringify,cr=l.JSON.parse,$a=class{stringify(d){return l.JSON.stringify(d,void 0)}parse(d){return l.JSON.parse(d,void 0)}};function Me(){}Me.prototype.h=null;function mt(d){return d.h||(d.h=d.i())}function ct(){}var sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sn(){xe.call(this,"d")}I(Sn,xe);function $i(){xe.call(this,"c")}I($i,xe);var mi={},zf=null;function Zl(){return zf=zf||new zt}mi.La="serverreachability";function id(d){xe.call(this,mi.La,d)}I(id,xe);function Ba(d){const y=Zl();St(y,new id(y))}mi.STAT_EVENT="statevent";function Wf(d,y){xe.call(this,mi.STAT_EVENT,d),this.stat=y}I(Wf,xe);function In(d){const y=Zl();St(y,new Wf(y,d))}mi.Ma="timingevent";function eu(d,y){xe.call(this,mi.Ma,d),this.size=y}I(eu,xe);function za(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){d()},y)}function xs(){this.g=!0}xs.prototype.xa=function(){this.g=!1};function ky(d,y,S,O,Q,J){d.info(function(){if(d.g)if(J)for(var ce="",ht=J.split("&"),on=0;on<ht.length;on++){var rt=ht[on].split("=");if(1<rt.length){var gt=rt[0];rt=rt[1];var en=gt.split("_");ce=2<=en.length&&en[1]=="type"?ce+(gt+"="+rt+"&"):ce+(gt+"=redacted&")}}else ce=null;else ce=J;return"XMLHTTP REQ ("+O+") [attempt "+Q+"]: "+y+`
`+S+`
`+ce})}function Dy(d,y,S,O,Q,J,ce){d.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+Q+"]: "+y+`
`+S+`
`+J+" "+ce})}function co(d,y,S,O){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+My(d,S)+(O?" "+O:"")})}function Oy(d,y){d.info(function(){return"TIMEOUT: "+y})}xs.prototype.info=function(){};function My(d,y){if(!d.g)return y;if(!y)return null;try{var S=JSON.parse(y);if(S){for(d=0;d<S.length;d++)if(Array.isArray(S[d])){var O=S[d];if(!(2>O.length)){var Q=O[1];if(Array.isArray(Q)&&!(1>Q.length)){var J=Q[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ce=1;ce<Q.length;ce++)Q[ce]=""}}}}return pi(S)}catch{return y}}var tu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},sd;function Wa(){}I(Wa,Me),Wa.prototype.g=function(){return new XMLHttpRequest},Wa.prototype.i=function(){return{}},sd=new Wa;function Bi(d,y,S,O){this.j=d,this.i=y,this.l=S,this.R=O||1,this.U=new Wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kf}function Kf(){this.i=null,this.g="",this.h=!1}var Gf={},od={};function ad(d,y,S){d.L=1,d.v=fo(Hr(y)),d.m=S,d.P=!0,qf(d,null)}function qf(d,y){d.F=Date.now(),Ts(d),d.A=Hr(d.v);var S=d.A,O=d.R;Array.isArray(O)||(O=[String(O)]),md(S.i,"t",O),d.C=0,S=d.j.J,d.h=new Kf,d.g=mp(d.j,S?y:null,!d.m),0<d.O&&(d.M=new Ua(g(d.Y,d,d.g),d.O)),y=d.U,S=d.g,O=d.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Es[0]=Q.toString()),Q=Es);for(var J=0;J<Q.length;J++){var ce=Tn(S,Q[J],O||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=d.H?A(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),Ba(),ky(d.i,d.u,d.A,d.l,d.R,d.m)}Bi.prototype.ca=function(d){d=d.target;const y=this.M;y&&Cn(d)==3?y.j():this.Y(d)},Bi.prototype.Y=function(d){try{if(d==this.g)e:{const en=Cn(this.g);var y=this.g.Ba();const Qr=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||yd(this.g)))){this.J||en!=4||y==7||(y==8||0>=Qr?Ba(3):Ba(2)),ld(this);var S=this.g.Z();this.X=S;t:if(Ha(this)){var O=yd(this.g);d="";var Q=O.length,J=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zi(this),Ka(this);var ce="";break t}this.h.i=new l.TextDecoder}for(y=0;y<Q;y++)this.h.h=!0,d+=this.h.i.decode(O[y],{stream:!(J&&y==Q-1)});O.length=0,this.h.g+=d,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=S==200,Dy(this.i,this.u,this.A,this.l,this.R,en,S),this.o){if(this.T&&!this.K){t:{if(this.g){var ht,on=this.g;if((ht=on.g?on.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(ht)){var rt=ht;break t}}rt=null}if(S=rt)co(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nu(this,S);else{this.o=!1,this.s=3,In(12),zi(this),Ka(this);break e}}if(this.P){S=!0;let dr;for(;!this.J&&this.C<ce.length;)if(dr=Ly(this,ce),dr==od){en==4&&(this.s=4,In(14),S=!1),co(this.i,this.l,null,"[Incomplete Response]");break}else if(dr==Gf){this.s=4,In(15),co(this.i,this.l,ce,"[Invalid Chunk]"),S=!1;break}else co(this.i,this.l,dr,null),nu(this,dr);if(Ha(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||ce.length!=0||this.h.h||(this.s=1,In(16),S=!1),this.o=this.o&&S,!S)co(this.i,this.l,ce,"[Invalid Chunked Response]"),zi(this),Ka(this);else if(0<ce.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),qr(gt),gt.M=!0,In(11))}}else co(this.i,this.l,ce,null),nu(this,ce);en==4&&zi(this),this.o&&!this.J&&(en==4?Ct(this.j,this):(this.o=!1,Ts(this)))}else _d(this.g),S==400&&0<ce.indexOf("Unknown SID")?(this.s=3,In(12)):(this.s=0,In(13)),zi(this),Ka(this)}}}catch{}finally{}};function Ha(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Ly(d,y){var S=d.C,O=y.indexOf(`
`,S);return O==-1?od:(S=Number(y.substring(S,O)),isNaN(S)?Gf:(O+=1,O+S>y.length?od:(y=y.slice(O,O+S),d.C=O+S,y)))}Bi.prototype.cancel=function(){this.J=!0,zi(this)};function Ts(d){d.S=Date.now()+d.I,Qf(d,d.I)}function Qf(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=za(g(d.ba,d),y)}function ld(d){d.B&&(l.clearTimeout(d.B),d.B=null)}Bi.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Oy(this.i,this.A),this.L!=2&&(Ba(),In(17)),zi(this),this.s=2,Ka(this)):Qf(this,this.S-d)};function Ka(d){d.j.G==0||d.J||Ct(d.j,d)}function zi(d){ld(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,uo(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function nu(d,y){try{var S=d.j;if(S.G!=0&&(S.g==d||ud(S.h,d))){if(!d.K&&ud(S.h,d)&&S.G==3){try{var O=S.Da.g.parse(y)}catch{O=null}if(Array.isArray(O)&&O.length==3){var Q=O;if(Q[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<d.F)go(S),Qa(S);else break e;lu(S),In(18)}}else S.za=Q[1],0<S.za-S.T&&37500>Q[2]&&S.F&&S.v==0&&!S.C&&(S.C=za(g(S.Za,S),6e3));if(1>=Zf(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else vi(S,11)}else if((d.K||S.g==d)&&go(S),!T(y))for(Q=S.Da.g.parse(y),y=0;y<Q.length;y++){let rt=Q[y];if(S.T=rt[0],rt=rt[1],S.G==2)if(rt[0]=="c"){S.K=rt[1],S.ia=rt[2];const gt=rt[3];gt!=null&&(S.la=gt,S.j.info("VER="+S.la));const en=rt[4];en!=null&&(S.Aa=en,S.j.info("SVER="+S.Aa));const Qr=rt[5];Qr!=null&&typeof Qr=="number"&&0<Qr&&(O=1.5*Qr,S.L=O,S.j.info("backChannelRequestTimeoutMs_="+O)),O=S;const dr=d.g;if(dr){const el=dr.g?dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(el){var J=O.h;J.g||el.indexOf("spdy")==-1&&el.indexOf("quic")==-1&&el.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(ru(J,J.h),J.h=null))}if(O.D){const xd=dr.g?dr.g.getResponseHeader("X-HTTP-Session-Id"):null;xd&&(O.ya=xd,It(O.I,O.D,xd))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-d.F,S.j.info("Handshake RTT: "+S.R+"ms")),O=S;var ce=d;if(O.qa=uu(O,O.J?O.ia:null,O.W),ce.K){cd(O.h,ce);var ht=ce,on=O.L;on&&(ht.I=on),ht.B&&(ld(ht),Ts(ht)),O.g=ce}else fp(O);0<S.i.length&&Ya(S)}else rt[0]!="stop"&&rt[0]!="close"||vi(S,7);else S.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?vi(S,7):au(S):rt[0]!="noop"&&S.l&&S.l.ta(rt),S.v=0)}}Ba(4)}catch{}}var Yf=class{constructor(d,y){this.g=d,this.map=y}};function Xf(d){this.l=d||10,l.PerformanceNavigationTiming?(d=l.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jf(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Zf(d){return d.h?1:d.g?d.g.size:0}function ud(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function ru(d,y){d.g?d.g.add(y):d.h=y}function cd(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}Xf.prototype.cancel=function(){if(this.i=dd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function dd(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const S of d.g.values())y=y.concat(S.D);return y}return E(d.i)}function hd(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var y=[],S=d.length,O=0;O<S;O++)y.push(d[O]);return y}y=[],S=0;for(O in d)y[S++]=d[O];return y}function Fy(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var y=[];d=d.length;for(var S=0;S<d;S++)y.push(S);return y}y=[],S=0;for(const O in d)y[S++]=O;return y}}}function fd(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var S=Fy(d),O=hd(d),Q=O.length,J=0;J<Q;J++)y.call(void 0,O[J],S&&S[J],d)}var Ga=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ep(d,y){if(d){d=d.split("&");for(var S=0;S<d.length;S++){var O=d[S].indexOf("="),Q=null;if(0<=O){var J=d[S].substring(0,O);Q=d[S].substring(O+1)}else J=d[S];y(J,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Ss(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ss){this.h=d.h,qa(this,d.j),this.o=d.o,this.g=d.g,ho(this,d.s),this.l=d.l;var y=d.i,S=new po;S.i=y.i,y.g&&(S.g=new Map(y.g),S.h=y.h),tp(this,S),this.m=d.m}else d&&(y=String(d).match(Ga))?(this.h=!1,qa(this,y[1]||"",!0),this.o=Is(y[2]||""),this.g=Is(y[3]||"",!0),ho(this,y[4]),this.l=Is(y[5]||"",!0),tp(this,y[6]||"",!0),this.m=Is(y[7]||"")):(this.h=!1,this.i=new po(null,this.h))}Ss.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Kr(y,pd,!0),":");var S=this.g;return(S||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Kr(y,pd,!0),"@"),d.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&d.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(Kr(S,S.charAt(0)=="/"?rp:Vy,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",Kr(S,sp)),d.join("")};function Hr(d){return new Ss(d)}function qa(d,y,S){d.j=S?Is(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function ho(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function tp(d,y,S){y instanceof po?(d.i=y,jy(d.i,d.h)):(S||(y=Kr(y,ip)),d.i=new po(y,d.h))}function It(d,y,S){d.i.set(y,S)}function fo(d){return It(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Is(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Kr(d,y,S){return typeof d=="string"?(d=encodeURI(d).replace(y,np),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function np(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var pd=/[#\/\?@]/g,Vy=/[#\?:]/g,rp=/[#\?]/g,ip=/[#\?@]/g,sp=/#/g;function po(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Wi(d){d.g||(d.g=new Map,d.h=0,d.i&&ep(d.i,function(y,S){d.add(decodeURIComponent(y.replace(/\+/g," ")),S)}))}t=po.prototype,t.add=function(d,y){Wi(this),this.i=null,d=mo(this,d);var S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(y),this.h+=1,this};function op(d,y){Wi(d),y=mo(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function ap(d,y){return Wi(d),y=mo(d,y),d.g.has(y)}t.forEach=function(d,y){Wi(this),this.g.forEach(function(S,O){S.forEach(function(Q){d.call(y,Q,O,this)},this)},this)},t.na=function(){Wi(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),S=[];for(let O=0;O<y.length;O++){const Q=d[O];for(let J=0;J<Q.length;J++)S.push(y[O])}return S},t.V=function(d){Wi(this);let y=[];if(typeof d=="string")ap(this,d)&&(y=y.concat(this.g.get(mo(this,d))));else{d=Array.from(this.g.values());for(let S=0;S<d.length;S++)y=y.concat(d[S])}return y},t.set=function(d,y){return Wi(this),this.i=null,d=mo(this,d),ap(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function md(d,y,S){op(d,y),0<S.length&&(d.i=null,d.g.set(mo(d,y),E(S)),d.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var S=0;S<y.length;S++){var O=y[S];const J=encodeURIComponent(String(O)),ce=this.V(O);for(O=0;O<ce.length;O++){var Q=J;ce[O]!==""&&(Q+="="+encodeURIComponent(String(ce[O]))),d.push(Q)}}return this.i=d.join("&")};function mo(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function jy(d,y){y&&!d.j&&(Wi(d),d.i=null,d.g.forEach(function(S,O){var Q=O.toLowerCase();O!=Q&&(op(this,O),md(this,Q,S))},d)),d.j=y}function Uy(d,y){const S=new xs;if(l.Image){const O=new Image;O.onload=x(Gr,S,"TestLoadImage: loaded",!0,y,O),O.onerror=x(Gr,S,"TestLoadImage: error",!1,y,O),O.onabort=x(Gr,S,"TestLoadImage: abort",!1,y,O),O.ontimeout=x(Gr,S,"TestLoadImage: timeout",!1,y,O),l.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=d}else y(!1)}function $y(d,y){const S=new xs,O=new AbortController,Q=setTimeout(()=>{O.abort(),Gr(S,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:O.signal}).then(J=>{clearTimeout(Q),J.ok?Gr(S,"TestPingServer: ok",!0,y):Gr(S,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Q),Gr(S,"TestPingServer: error",!1,y)})}function Gr(d,y,S,O,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),O(S)}catch{}}function By(){this.g=new $a}function zy(d,y,S){const O=S||"";try{fd(d,function(Q,J){let ce=Q;h(Q)&&(ce=pi(Q)),y.push(O+J+"="+encodeURIComponent(ce))})}catch(Q){throw y.push(O+"type="+encodeURIComponent("_badmap")),Q}}function iu(d){this.l=d.Ub||null,this.j=d.eb||!1}I(iu,Me),iu.prototype.g=function(){return new su(this.l,this.j)},iu.prototype.i=function(d){return function(){return d}}({});function su(d,y){zt.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(su,zt),t=su.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,ut(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||l).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dt(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,ut(this)),this.g&&(this.readyState=3,ut(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lp(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function lp(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?dt(this):ut(this),this.readyState==3&&lp(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,dt(this))},t.Qa=function(d){this.g&&(this.response=d,dt(this))},t.ga=function(){this.g&&dt(this)};function dt(d){d.readyState=4,d.l=null,d.j=null,d.v=null,ut(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var S=y.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=y.next();return d.join(`\r
`)};function ut(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(su.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function up(d){let y="";return z(d,function(S,O){y+=O,y+=":",y+=S,y+=`\r
`}),y}function gd(d,y,S){e:{for(O in S){var O=!1;break e}O=!0}O||(S=up(S),typeof d=="string"?S!=null&&encodeURIComponent(String(S)):It(d,y,S))}function Dt(d){zt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Dt,zt);var Wy=/^https?$/i,Hy=["POST","PUT"];t=Dt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,S,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():sd.g(),this.v=this.o?mt(this.o):mt(sd),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(J){cp(this,J);return}if(d=S||"",S=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var Q in O)S.set(Q,O[Q]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const J of O.keys())S.set(J,O.get(J));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(S.keys()).find(J=>J.toLowerCase()=="content-type"),Q=l.FormData&&d instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Hy,y,void 0))||O||Q||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ce]of S)this.g.setRequestHeader(J,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ou(this),this.u=!0,this.g.send(d),this.u=!1}catch(J){cp(this,J)}};function cp(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,vd(d),Wt(d)}function vd(d){d.A||(d.A=!0,St(d,"complete"),St(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,St(this,"complete"),St(this,"abort"),Wt(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wt(this,!0)),Dt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?dp(this):this.bb())},t.bb=function(){dp(this)};function dp(d){if(d.h&&typeof a<"u"&&(!d.v[1]||Cn(d)!=4||d.Z()!=2)){if(d.u&&Cn(d)==4)br(d.Ea,0,d);else if(St(d,"readystatechange"),Cn(d)==4){d.h=!1;try{const ce=d.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var S;if(!(S=y)){var O;if(O=ce===0){var Q=String(d.D).match(Ga)[1]||null;!Q&&l.self&&l.self.location&&(Q=l.self.location.protocol.slice(0,-1)),O=!Wy.test(Q?Q.toLowerCase():"")}S=O}if(S)St(d,"complete"),St(d,"success");else{d.m=6;try{var J=2<Cn(d)?d.g.statusText:""}catch{J=""}d.l=J+" ["+d.Z()+"]",vd(d)}}finally{Wt(d)}}}}function Wt(d,y){if(d.g){ou(d);const S=d.g,O=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||St(d,"ready");try{S.onreadystatechange=O}catch{}}}function ou(d){d.I&&(l.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Cn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),cr(y)}};function yd(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function _d(d){const y={};d=(d.g&&2<=Cn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<d.length;O++){if(T(d[O]))continue;var S=$(d[O]);const Q=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const J=y[Q]||[];y[Q]=J,J.push(S)}N(y,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gn(d,y,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||y}function wd(d){this.Aa=0,this.i=[],this.j=new xs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gn("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gn("baseRetryDelayMs",5e3,d),this.cb=gn("retryDelaySeedMs",1e4,d),this.Wa=gn("forwardChannelMaxRetries",2,d),this.wa=gn("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Xf(d&&d.concurrentRequestLimit),this.Da=new By,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=wd.prototype,t.la=8,t.G=1,t.connect=function(d,y,S,O){In(0),this.W=d,this.H=y||{},S&&O!==void 0&&(this.H.OSID=S,this.H.OAID=O),this.F=this.X,this.I=uu(this,null,this.W),Ya(this)};function au(d){if(Ed(d),d.G==3){var y=d.U++,S=Hr(d.I);if(It(S,"SID",d.K),It(S,"RID",y),It(S,"TYPE","terminate"),Xa(d,S),y=new Bi(d,d.j,y),y.L=2,y.v=fo(Hr(S)),S=!1,l.navigator&&l.navigator.sendBeacon)try{S=l.navigator.sendBeacon(y.v.toString(),"")}catch{}!S&&l.Image&&(new Image().src=y.v,S=!0),S||(y.g=mp(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ts(y)}pp(d)}function Qa(d){d.g&&(qr(d),d.g.cancel(),d.g=null)}function Ed(d){Qa(d),d.u&&(l.clearTimeout(d.u),d.u=null),go(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&l.clearTimeout(d.s),d.s=null)}function Ya(d){if(!Jf(d.h)&&!d.s){d.s=!0;var y=d.Ga;he||ue(),q||(he(),q=!0),Y.add(y,d),d.B=0}}function hp(d,y){return Zf(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=za(g(d.Ga,d,y),gi(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Q=new Bi(this,this.j,d);let J=this.o;if(this.S&&(J?(J=A(J),L(J,this.S)):J=this.S),this.m!==null||this.O||(Q.H=J,J=null),this.P)e:{for(var y=0,S=0;S<this.i.length;S++){t:{var O=this.i[S];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(y+=O,4096<y){y=S;break e}if(y===4096||S===this.i.length-1){y=S+1;break e}}y=1e3}else y=1e3;y=Jn(this,Q,y),S=Hr(this.I),It(S,"RID",d),It(S,"CVER",22),this.D&&It(S,"X-HTTP-Session-Id",this.D),Xa(this,S),J&&(this.O?y="headers="+encodeURIComponent(String(up(J)))+"&"+y:this.m&&gd(S,this.m,J)),ru(this.h,Q),this.Ua&&It(S,"TYPE","init"),this.P?(It(S,"$req",y),It(S,"SID","null"),Q.T=!0,ad(Q,S,null)):ad(Q,S,y),this.G=2}}else this.G==3&&(d?Vn(this,d):this.i.length==0||Jf(this.h)||Vn(this))};function Vn(d,y){var S;y?S=y.l:S=d.U++;const O=Hr(d.I);It(O,"SID",d.K),It(O,"RID",S),It(O,"AID",d.T),Xa(d,O),d.m&&d.o&&gd(O,d.m,d.o),S=new Bi(d,d.j,S,d.B+1),d.m===null&&(S.H=d.o),y&&(d.i=y.D.concat(d.i)),y=Jn(d,S,1e3),S.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),ru(d.h,S),ad(S,O,y)}function Xa(d,y){d.H&&z(d.H,function(S,O){It(y,O,S)}),d.l&&fd({},function(S,O){It(y,O,S)})}function Jn(d,y,S){S=Math.min(d.i.length,S);var O=d.l?g(d.l.Na,d.l,d):null;e:{var Q=d.i;let J=-1;for(;;){const ce=["count="+S];J==-1?0<S?(J=Q[0].g,ce.push("ofs="+J)):J=0:ce.push("ofs="+J);let ht=!0;for(let on=0;on<S;on++){let rt=Q[on].g;const gt=Q[on].map;if(rt-=J,0>rt)J=Math.max(0,Q[on].g-100),ht=!1;else try{zy(gt,ce,"req"+rt+"_")}catch{O&&O(gt)}}if(ht){O=ce.join("&");break e}}}return d=d.i.splice(0,S),y.D=d,O}function fp(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;he||ue(),q||(he(),q=!0),Y.add(y,d),d.v=0}}function lu(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=za(g(d.Fa,d),gi(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Ja(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=za(g(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,In(10),Qa(this),Ja(this))};function qr(d){d.A!=null&&(l.clearTimeout(d.A),d.A=null)}function Ja(d){d.g=new Bi(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=Hr(d.qa);It(y,"RID","rpc"),It(y,"SID",d.K),It(y,"AID",d.T),It(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&It(y,"TO",d.ja),It(y,"TYPE","xmlhttp"),Xa(d,y),d.m&&d.o&&gd(y,d.m,d.o),d.L&&(d.g.I=d.L);var S=d.g;d=d.ia,S.L=1,S.v=fo(Hr(y)),S.m=null,S.P=!0,qf(S,d)}t.Za=function(){this.C!=null&&(this.C=null,Qa(this),lu(this),In(19))};function go(d){d.C!=null&&(l.clearTimeout(d.C),d.C=null)}function Ct(d,y){var S=null;if(d.g==y){go(d),qr(d),d.g=null;var O=2}else if(ud(d.h,y))S=y.D,cd(d.h,y),O=1;else return;if(d.G!=0){if(y.o)if(O==1){S=y.m?y.m.length:0,y=Date.now()-y.F;var Q=d.B;O=Zl(),St(O,new eu(O,S)),Ya(d)}else fp(d);else if(Q=y.s,Q==3||Q==0&&0<y.X||!(O==1&&hp(d,y)||O==2&&lu(d)))switch(S&&0<S.length&&(y=d.h,y.i=y.i.concat(S)),Q){case 1:vi(d,5);break;case 4:vi(d,10);break;case 3:vi(d,6);break;default:vi(d,2)}}}function gi(d,y){let S=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(S*=2),S*y}function vi(d,y){if(d.j.info("Error code "+y),y==2){var S=g(d.fb,d),O=d.Xa;const Q=!O;O=new Ss(O||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||qa(O,"https"),fo(O),Q?Uy(O.toString(),S):$y(O.toString(),S)}else In(2);d.G=0,d.l&&d.l.sa(y),pp(d),Ed(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),In(2)):(this.j.info("Failed to ping google.com"),In(1))};function pp(d){if(d.G=0,d.ka=[],d.l){const y=dd(d.h);(y.length!=0||d.i.length!=0)&&(b(d.ka,y),b(d.ka,d.i),d.h.i.length=0,E(d.i),d.i.length=0),d.l.ra()}}function uu(d,y,S){var O=S instanceof Ss?Hr(S):new Ss(S);if(O.g!="")y&&(O.g=y+"."+O.g),ho(O,O.s);else{var Q=l.location;O=Q.protocol,y=y?y+"."+Q.hostname:Q.hostname,Q=+Q.port;var J=new Ss(null);O&&qa(J,O),y&&(J.g=y),Q&&ho(J,Q),S&&(J.l=S),O=J}return S=d.D,y=d.ya,S&&y&&It(O,S,y),It(O,"VER",d.la),Xa(d,O),O}function mp(d,y,S){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new Dt(new iu({eb:S})):new Dt(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gp(){}t=gp.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function cu(){}cu.prototype.g=function(d,y){return new jn(d,y)};function jn(d,y){zt.call(this),this.g=new wd(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!T(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!T(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new vo(this)}I(jn,zt),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){au(this.g)},jn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.u&&(S={},S.__data__=pi(d),d=S);y.i.push(new Yf(y.Ya++,d)),y.G==3&&Ya(y)},jn.prototype.N=function(){this.g.l=null,delete this.j,au(this.g),delete this.g,jn.aa.N.call(this)};function Za(d){Sn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const S in y){d=S;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}I(Za,Sn);function Cs(){$i.call(this),this.status=1}I(Cs,$i);function vo(d){this.g=d}I(vo,gp),vo.prototype.ua=function(){St(this.g,"a")},vo.prototype.ta=function(d){St(this.g,new Za(d))},vo.prototype.sa=function(d){St(this.g,new Cs)},vo.prototype.ra=function(){St(this.g,"b")},cu.prototype.createWebChannel=cu.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,xO=function(){return new cu},EO=function(){return Zl()},wO=mi,_E={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tu.NO_ERROR=0,tu.TIMEOUT=8,tu.HTTP_ERROR=6,rg=tu,Hf.COMPLETE="complete",_O=Hf,ct.EventType=sn,sn.OPEN="a",sn.CLOSE="b",sn.ERROR="c",sn.MESSAGE="d",zt.prototype.listen=zt.prototype.K,sh=ct,Dt.prototype.listenOnce=Dt.prototype.L,Dt.prototype.getLastError=Dt.prototype.Ka,Dt.prototype.getLastErrorCode=Dt.prototype.Ba,Dt.prototype.getStatus=Dt.prototype.Z,Dt.prototype.getResponseJson=Dt.prototype.Oa,Dt.prototype.getResponseText=Dt.prototype.oa,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Ha,yO=Dt}).apply(typeof Im<"u"?Im:typeof self<"u"?self:typeof window<"u"?window:{});const Yb="@firebase/firestore",Xb="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kn.UNAUTHENTICATED=new Kn(null),Kn.GOOGLE_CREDENTIALS=new Kn("google-credentials-uid"),Kn.FIRST_PARTY=new Kn("first-party-uid"),Kn.MOCK_USER=new Kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=new vx("@firebase/firestore");function Ru(){return Vl.logLevel}function ye(t,...e){if(Vl.logLevel<=tt.DEBUG){const n=e.map(bx);Vl.debug(`Firestore (${Jc}): ${t}`,...n)}}function ro(t,...e){if(Vl.logLevel<=tt.ERROR){const n=e.map(bx);Vl.error(`Firestore (${Jc}): ${t}`,...n)}}function kc(t,...e){if(Vl.logLevel<=tt.WARN){const n=e.map(bx);Vl.warn(`Firestore (${Jc}): ${t}`,...n)}}function bx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,TO(t,r,n)}function TO(t,e,n){let r=`FIRESTORE (${Jc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ro(r),new Error(r)}function _t(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||TO(e,i,r)}function Ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends vs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kn.UNAUTHENTICATED))}shutdown(){}}class vQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class yQ{constructor(e){this.t=e,this.currentUser=Kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_t(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Gs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gs,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gs)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_t(typeof r.accessToken=="string",31837,{l:r}),new SO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _t(e===null||typeof e=="string",2055,{h:e}),new Kn(e)}}class _Q{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Kn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wQ{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new _Q(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EQ{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){_t(this.o===void 0,3512);const r=s=>{s.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,ye("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_t(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Jb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xQ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=xQ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Ye(t,e){return t<e?-1:t>e?1:0}function wE(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ye(r,i);{const s=IO(),a=TQ(s.encode(Zb(t,n)),s.encode(Zb(e,n)));return a!==0?a:Ye(r,i)}}n+=r>65535?2:1}return Ye(t.length,e.length)}function Zb(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function TQ(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ye(t[n],e[n]);return Ye(t.length,e.length)}function Dc(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=-62135596800,tR=1e6;class fn{static now(){return fn.fromMillis(Date.now())}static fromDate(e){return fn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*tR);return new fn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Se(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Se(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<eR)throw new Se(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tR}_compareTo(e){return this.seconds===e.seconds?Ye(this.nanoseconds,e.nanoseconds):Ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-eR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new fn(0,0))}static max(){return new Le(new fn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="__name__";class Yi{constructor(e,n,r){n===void 0?n=0:n>e.length&&ke(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ke(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Yi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Yi.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Ye(e.length,n.length)}static compareSegments(e,n){const r=Yi.isNumericId(e),i=Yi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Yi.extractNumericId(e).compare(Yi.extractNumericId(n)):wE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ha.fromString(e.substring(4,e.length-2))}}class Mt extends Yi{construct(e,n,r){return new Mt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Mt(n)}static emptyPath(){return new Mt([])}}const SQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pn extends Yi{construct(e,n,r){return new Pn(e,n,r)}static isValidIdentifier(e){return SQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nR}static keyField(){return new Pn([nR])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Se(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Se(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Se(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new Se(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pn(n)}static emptyPath(){return new Pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(Mt.fromString(e))}static fromName(e){return new Ie(Mt.fromString(e).popFirst(5))}static empty(){return new Ie(Mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new Mt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=-1;function IQ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Le.fromTimestamp(r===1e9?new fn(n+1,0):new fn(n,r));return new xa(i,Ie.empty(),e)}function CQ(t){return new xa(t.readTime,t.key,Zh)}class xa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new xa(Le.min(),Ie.empty(),Zh)}static max(){return new xa(Le.max(),Ie.empty(),Zh)}}function bQ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:Ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==RQ)throw t;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ke(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,r)=>{n(e)})}static reject(e){return new re((n,r)=>{r(e)})}static waitFor(e){return new re((n,r)=>{let i=0,s=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++s,a&&s===i&&n()},c=>r(c))}),a=!0,s===i&&n()})}static or(e){let n=re.resolve(!1);for(const r of e)n=n.next(i=>i?re.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new re((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let c=0;c<s;c++){const h=c;n(e[h]).next(p=>{a[h]=p,++l,l===s&&r(a)},p=>i(p))}})}static doWhile(e,n){return new re((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function PQ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ed(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ty.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=-1;function ny(t){return t==null}function Zg(t){return t===0&&1/t==-1/0}function NQ(t){return typeof t=="number"&&Number.isInteger(t)&&!Zg(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="";function kQ(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=rR(e)),e=DQ(t.get(n),e);return rR(e)}function DQ(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case bO:n+="";break;default:n+=s}}return n}function rR(t){return t+bO+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ma(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function RO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){this.comparator=e,this.root=n||An.EMPTY}insert(e,n){return new Ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,An.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,An.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cm(this.root,e,this.comparator,!0)}}class Cm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class An{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??An.RED,this.left=i??An.EMPTY,this.right=s??An.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new An(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return An.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return An.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,An.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,An.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ke(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ke(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ke(27949);return e+(this.isRed()?0:1)}}An.EMPTY=null,An.RED=!0,An.BLACK=!1;An.EMPTY=new class{constructor(){this.size=0}get key(){throw ke(57766)}get value(){throw ke(16141)}get color(){throw ke(16727)}get left(){throw ke(29726)}get right(){throw ke(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new An(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new sR(this.data.getIterator())}getIteratorFrom(e){return new sR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pn(this.comparator);return n.data=e,n}}class sR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this.fields=e,e.sort(Pn.comparator)}static empty(){return new Vr([])}unionWith(e){let n=new pn(Pn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Dc(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new AO("Invalid base64 string: "+s):s}}(e);return new Mn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mn.EMPTY_BYTE_STRING=new Mn("");const OQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ta(t){if(_t(!!t,39018),typeof t=="string"){let e=0;const n=OQ.exec(t);if(_t(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Sa(t){return typeof t=="string"?Mn.fromBase64String(t):Mn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="server_timestamp",NO="__type__",kO="__previous_value__",DO="__local_write_time__";function Ax(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[NO])===null||n===void 0?void 0:n.stringValue)===PO}function ry(t){const e=t.mapValue.fields[kO];return Ax(e)?ry(e):e}function ef(t){const e=Ta(t.mapValue.fields[DO].timestampValue);return new fn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MQ{constructor(e,n,r,i,s,a,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h}}const ev="(default)";class tf{constructor(e,n){this.projectId=e,this.database=n||ev}static empty(){return new tf("","")}get isDefaultDatabase(){return this.database===ev}isEqual(e){return e instanceof tf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="__type__",MO="__max__",bm={mapValue:{fields:{__type__:{stringValue:MO}}}},LO="__vector__",tv="value";function Ia(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ax(t)?4:FQ(t)?9007199254740991:LQ(t)?10:11:ke(28295,{value:t})}function hs(t,e){if(t===e)return!0;const n=Ia(t);if(n!==Ia(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ef(t).isEqual(ef(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Ta(i.timestampValue),l=Ta(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Sa(i.bytesValue).isEqual(Sa(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Yt(i.geoPointValue.latitude)===Yt(s.geoPointValue.latitude)&&Yt(i.geoPointValue.longitude)===Yt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Yt(i.integerValue)===Yt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Yt(i.doubleValue),l=Yt(s.doubleValue);return a===l?Zg(a)===Zg(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Dc(t.arrayValue.values||[],e.arrayValue.values||[],hs);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(iR(a)!==iR(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!hs(a[c],l[c])))return!1;return!0}(t,e);default:return ke(52216,{left:t})}}function nf(t,e){return(t.values||[]).find(n=>hs(n,e))!==void 0}function Oc(t,e){if(t===e)return 0;const n=Ia(t),r=Ia(e);if(n!==r)return Ye(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ye(t.booleanValue,e.booleanValue);case 2:return function(s,a){const l=Yt(s.integerValue||s.doubleValue),c=Yt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return oR(t.timestampValue,e.timestampValue);case 4:return oR(ef(t),ef(e));case 5:return wE(t.stringValue,e.stringValue);case 6:return function(s,a){const l=Sa(s),c=Sa(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const l=s.split("/"),c=a.split("/");for(let h=0;h<l.length&&h<c.length;h++){const p=Ye(l[h],c[h]);if(p!==0)return p}return Ye(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const l=Ye(Yt(s.latitude),Yt(a.latitude));return l!==0?l:Ye(Yt(s.longitude),Yt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return aR(t.arrayValue,e.arrayValue);case 10:return function(s,a){var l,c,h,p;const m=s.fields||{},g=a.fields||{},x=(l=m[tv])===null||l===void 0?void 0:l.arrayValue,I=(c=g[tv])===null||c===void 0?void 0:c.arrayValue,E=Ye(((h=x==null?void 0:x.values)===null||h===void 0?void 0:h.length)||0,((p=I==null?void 0:I.values)===null||p===void 0?void 0:p.length)||0);return E!==0?E:aR(x,I)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===bm.mapValue&&a===bm.mapValue)return 0;if(s===bm.mapValue)return 1;if(a===bm.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),h=a.fields||{},p=Object.keys(h);c.sort(),p.sort();for(let m=0;m<c.length&&m<p.length;++m){const g=wE(c[m],p[m]);if(g!==0)return g;const x=Oc(l[c[m]],h[p[m]]);if(x!==0)return x}return Ye(c.length,p.length)}(t.mapValue,e.mapValue);default:throw ke(23264,{Pe:n})}}function oR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ye(t,e);const n=Ta(t),r=Ta(e),i=Ye(n.seconds,r.seconds);return i!==0?i:Ye(n.nanos,r.nanos)}function aR(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Oc(n[i],r[i]);if(s)return s}return Ye(n.length,r.length)}function Mc(t){return EE(t)}function EE(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ta(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Sa(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=EE(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${EE(n.fields[a])}`;return i+"}"}(t.mapValue):ke(61005,{value:t})}function ig(t){switch(Ia(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ry(t);return e?16+ig(e):16;case 5:return 2*t.stringValue.length;case 6:return Sa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+ig(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ma(r.fields,(s,a)=>{i+=s.length+ig(a)}),i}(t.mapValue);default:throw ke(13486,{value:t})}}function xE(t){return!!t&&"integerValue"in t}function Px(t){return!!t&&"arrayValue"in t}function lR(t){return!!t&&"nullValue"in t}function uR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sg(t){return!!t&&"mapValue"in t}function LQ(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[OO])===null||n===void 0?void 0:n.stringValue)===LO}function xh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ma(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=xh(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xh(t.arrayValue.values[n]);return e}return Object.assign({},t)}function FQ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===MO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.value=e}static empty(){return new wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xh(n)}setAll(e){let n=Pn.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=xh(a):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());sg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ma(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new wr(xh(this.value))}}function FO(t){const e=[];return Ma(t.fields,(n,r)=>{const i=new Pn([n]);if(sg(r)){const s=FO(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new qn(e,0,Le.min(),Le.min(),Le.min(),wr.empty(),0)}static newFoundDocument(e,n,r,i){return new qn(e,1,n,Le.min(),r,i,0)}static newNoDocument(e,n){return new qn(e,2,n,Le.min(),Le.min(),wr.empty(),0)}static newUnknownDocument(e,n){return new qn(e,3,n,Le.min(),Le.min(),wr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{constructor(e,n){this.position=e,this.inclusive=n}}function cR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Ie.comparator(Ie.fromName(a.referenceValue),n.key):r=Oc(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function dR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!hs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(e,n="asc"){this.field=e,this.dir=n}}function VQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{}class dn extends VO{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new UQ(e,n,r):n==="array-contains"?new zQ(e,r):n==="in"?new WQ(e,r):n==="not-in"?new HQ(e,r):n==="array-contains-any"?new KQ(e,r):new dn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $Q(e,r):new BQ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Oc(n,this.value)):n!==null&&Ia(this.value)===Ia(n)&&this.matchesComparison(Oc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fs extends VO{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new fs(e,n)}matches(e){return jO(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function jO(t){return t.op==="and"}function UO(t){return jQ(t)&&jO(t)}function jQ(t){for(const e of t.filters)if(e instanceof fs)return!1;return!0}function TE(t){if(t instanceof dn)return t.field.canonicalString()+t.op.toString()+Mc(t.value);if(UO(t))return t.filters.map(e=>TE(e)).join(",");{const e=t.filters.map(n=>TE(n)).join(",");return`${t.op}(${e})`}}function $O(t,e){return t instanceof dn?function(r,i){return i instanceof dn&&r.op===i.op&&r.field.isEqual(i.field)&&hs(r.value,i.value)}(t,e):t instanceof fs?function(r,i){return i instanceof fs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,l)=>s&&$O(a,i.filters[l]),!0):!1}(t,e):void ke(19439)}function BO(t){return t instanceof dn?function(n){return`${n.field.canonicalString()} ${n.op} ${Mc(n.value)}`}(t):t instanceof fs?function(n){return n.op.toString()+" {"+n.getFilters().map(BO).join(" ,")+"}"}(t):"Filter"}class UQ extends dn{constructor(e,n,r){super(e,n,r),this.key=Ie.fromName(r.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class $Q extends dn{constructor(e,n){super(e,"in",n),this.keys=zO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class BQ extends dn{constructor(e,n){super(e,"not-in",n),this.keys=zO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function zO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ie.fromName(r.referenceValue))}class zQ extends dn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Px(n)&&nf(n.arrayValue,this.value)}}class WQ extends dn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nf(this.value.arrayValue,n)}}class HQ extends dn{constructor(e,n){super(e,"not-in",n)}matches(e){if(nf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nf(this.value.arrayValue,n)}}class KQ extends dn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Px(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GQ{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.Ie=null}}function hR(t,e=null,n=[],r=[],i=null,s=null,a=null){return new GQ(t,e,n,r,i,s,a)}function Nx(t){const e=Ve(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>TE(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ny(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Mc(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Mc(r)).join(",")),e.Ie=n}return e.Ie}function kx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$O(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!dR(t.startAt,e.startAt)&&dR(t.endAt,e.endAt)}function SE(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function qQ(t,e,n,r,i,s,a,l){return new iy(t,e,n,r,i,s,a,l)}function Dx(t){return new iy(t)}function fR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function QQ(t){return t.collectionGroup!==null}function Th(t){const e=Ve(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new pn(Pn.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new rv(s,r))}),n.has(Pn.keyField().canonicalString())||e.Ee.push(new rv(Pn.keyField(),r))}return e.Ee}function us(t){const e=Ve(t);return e.de||(e.de=YQ(e,Th(t))),e.de}function YQ(t,e){if(t.limitType==="F")return hR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new rv(i.field,s)});const n=t.endAt?new nv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new nv(t.startAt.position,t.startAt.inclusive):null;return hR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function IE(t,e,n){return new iy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function sy(t,e){return kx(us(t),us(e))&&t.limitType===e.limitType}function WO(t){return`${Nx(us(t))}|lt:${t.limitType}`}function Au(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>BO(i)).join(", ")}]`),ny(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Mc(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Mc(i)).join(",")),`Target(${r})`}(us(t))}; limitType=${t.limitType})`}function oy(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ie.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Th(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,l,c){const h=cR(a,l,c);return a.inclusive?h<=0:h<0}(r.startAt,Th(r),i)||r.endAt&&!function(a,l,c){const h=cR(a,l,c);return a.inclusive?h>=0:h>0}(r.endAt,Th(r),i))}(t,e)}function XQ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HO(t){return(e,n)=>{let r=!1;for(const i of Th(t)){const s=JQ(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function JQ(t,e,n){const r=t.field.isKeyField()?Ie.comparator(e.key,n.key):function(s,a,l){const c=a.data.field(s),h=l.data.field(s);return c!==null&&h!==null?Oc(c,h):ke(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ke(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ma(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return RO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZQ=new Ut(Ie.comparator);function io(){return ZQ}const KO=new Ut(Ie.comparator);function oh(...t){let e=KO;for(const n of t)e=e.insert(n.key,n);return e}function GO(t){let e=KO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function gl(){return Sh()}function qO(){return Sh()}function Sh(){return new ql(t=>t.toString(),(t,e)=>t.isEqual(e))}const eY=new Ut(Ie.comparator),tY=new pn(Ie.comparator);function nt(...t){let e=tY;for(const n of t)e=e.add(n);return e}const nY=new pn(Ye);function rY(){return nY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zg(e)?"-0":e}}function QO(t){return{integerValue:""+t}}function YO(t,e){return NQ(e)?QO(e):Ox(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(){this._=void 0}}function iY(t,e,n){return t instanceof rf?function(i,s){const a={fields:{[NO]:{stringValue:PO},[DO]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ax(s)&&(s=ry(s)),s&&(a.fields[kO]=s),{mapValue:a}}(n,e):t instanceof sf?JO(t,e):t instanceof of?ZO(t,e):function(i,s){const a=XO(i,s),l=pR(a)+pR(i.Re);return xE(a)&&xE(i.Re)?QO(l):Ox(i.serializer,l)}(t,e)}function sY(t,e,n){return t instanceof sf?JO(t,e):t instanceof of?ZO(t,e):n}function XO(t,e){return t instanceof af?function(r){return xE(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class rf extends ay{}class sf extends ay{constructor(e){super(),this.elements=e}}function JO(t,e){const n=e2(e);for(const r of t.elements)n.some(i=>hs(i,r))||n.push(r);return{arrayValue:{values:n}}}class of extends ay{constructor(e){super(),this.elements=e}}function ZO(t,e){let n=e2(e);for(const r of t.elements)n=n.filter(i=>!hs(i,r));return{arrayValue:{values:n}}}class af extends ay{constructor(e,n){super(),this.serializer=e,this.Re=n}}function pR(t){return Yt(t.integerValue||t.doubleValue)}function e2(t){return Px(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e,n){this.field=e,this.transform=n}}function oY(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof sf&&i instanceof sf||r instanceof of&&i instanceof of?Dc(r.elements,i.elements,hs):r instanceof af&&i instanceof af?hs(r.Re,i.Re):r instanceof rf&&i instanceof rf}(t.transform,e.transform)}class aY{constructor(e,n){this.version=e,this.transformResults=n}}class Oi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function og(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ly{}function n2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mx(t.key,Oi.none()):new kf(t.key,t.data,Oi.none());{const n=t.data,r=wr.empty();let i=new pn(Pn.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new La(t.key,r,new Vr(i.toArray()),Oi.none())}}function lY(t,e,n){t instanceof kf?function(i,s,a){const l=i.value.clone(),c=gR(i.fieldTransforms,s,a.transformResults);l.setAll(c),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof La?function(i,s,a){if(!og(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=gR(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(r2(i)),c.setAll(l),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Ih(t,e,n,r){return t instanceof kf?function(s,a,l,c){if(!og(s.precondition,a))return l;const h=s.value.clone(),p=vR(s.fieldTransforms,c,a);return h.setAll(p),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof La?function(s,a,l,c){if(!og(s.precondition,a))return l;const h=vR(s.fieldTransforms,c,a),p=a.data;return p.setAll(r2(s)),p.setAll(h),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,a,l){return og(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function uY(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=XO(r.transform,i||null);s!=null&&(n===null&&(n=wr.empty()),n.set(r.field,s))}return n||null}function mR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Dc(r,i,(s,a)=>oY(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class kf extends ly{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class La extends ly{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function r2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function gR(t,e,n){const r=new Map;_t(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,sY(a,l,n[i]))}return r}function vR(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,iY(s,a,e))}return r}class Mx extends ly{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cY extends ly{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dY{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&lY(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ih(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ih(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=qO();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const c=n2(a,l);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Le.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),nt())}isEqual(e){return this.batchId===e.batchId&&Dc(this.mutations,e.mutations,(n,r)=>mR(n,r))&&Dc(this.baseMutations,e.baseMutations,(n,r)=>mR(n,r))}}class Lx{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_t(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return eY}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new Lx(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hY=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fY{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn,at;function pY(t){switch(t){case se.OK:return ke(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return ke(15467,{code:t})}}function i2(t){if(t===void 0)return ro("GRPC error has no .code"),se.UNKNOWN;switch(t){case tn.OK:return se.OK;case tn.CANCELLED:return se.CANCELLED;case tn.UNKNOWN:return se.UNKNOWN;case tn.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case tn.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case tn.INTERNAL:return se.INTERNAL;case tn.UNAVAILABLE:return se.UNAVAILABLE;case tn.UNAUTHENTICATED:return se.UNAUTHENTICATED;case tn.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case tn.NOT_FOUND:return se.NOT_FOUND;case tn.ALREADY_EXISTS:return se.ALREADY_EXISTS;case tn.PERMISSION_DENIED:return se.PERMISSION_DENIED;case tn.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case tn.ABORTED:return se.ABORTED;case tn.OUT_OF_RANGE:return se.OUT_OF_RANGE;case tn.UNIMPLEMENTED:return se.UNIMPLEMENTED;case tn.DATA_LOSS:return se.DATA_LOSS;default:return ke(39323,{code:t})}}(at=tn||(tn={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mY=new ha([4294967295,4294967295],0);function yR(t){const e=IO().encode(t),n=new vO;return n.update(e),new Uint8Array(n.digest())}function _R(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ha([n,r],0),new ha([i,s],0)]}class Fx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ah(`Invalid padding: ${n}`);if(r<0)throw new ah(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ah(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ah(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ha.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(ha.fromNumber(r)));return i.compare(mY)===1&&(i=new ha([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=yR(e),[r,i]=_R(n);for(let s=0;s<this.hashCount;s++){const a=this.we(r,i,s);if(!this.be(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Fx(s,i,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.pe===0)return;const n=yR(e),[r,i]=_R(n);for(let s=0;s<this.hashCount;s++){const a=this.we(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ah extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Df.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new uy(Le.min(),i,new Ut(Ye),io(),nt())}}class Df{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Df(r,n,nt(),nt(),nt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class s2{constructor(e,n){this.targetId=e,this.Ce=n}}class o2{constructor(e,n,r=Mn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class wR{constructor(){this.Fe=0,this.Me=ER(),this.xe=Mn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=nt(),n=nt(),r=nt();return this.Me.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ke(38017,{changeType:s})}}),new Df(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=ER()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,_t(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class gY{constructor(e){this.ze=e,this.je=new Map,this.He=io(),this.Je=Rm(),this.Ye=Rm(),this.Ze=new Ut(Ye)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:ke(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const s=i.target;if(SE(s))if(r===0){const a=new Ie(s.path);this.tt(n,a,qn.newNoDocument(a,Le.min()))}else _t(r===1,20013,{expectedCount:r});else{const a=this.ut(n);if(a!==r){const l=this.ct(e),c=l?this.lt(l,e,a):1;if(c!==0){this.st(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,h)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,l;try{a=Sa(r).toUint8Array()}catch(c){if(c instanceof AO)return kc("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Fx(a,i,s)}catch(c){return kc(c instanceof ah?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.ze.Pt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,s,null),i++)}),i}It(e){const n=new Map;this.je.forEach((s,a)=>{const l=this._t(a);if(l){if(s.current&&SE(l.target)){const c=new Ie(l.target.path);this.Et(c).has(a)||this.dt(a,c)||this.tt(a,c,qn.newNoDocument(c,e))}s.Le&&(n.set(a,s.qe()),s.Qe())}});let r=nt();this.Ye.forEach((s,a)=>{let l=!0;a.forEachWhile(c=>{const h=this._t(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.He.forEach((s,a)=>a.setReadTime(e));const i=new uy(e,n,this.Ze,this.He,r);return this.He=io(),this.Je=Rm(),this.Ye=Rm(),this.Ze=new Ut(Ye),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new wR,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new pn(Ye),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new pn(Ye),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ye("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new wR),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Rm(){return new Ut(Ie.comparator)}function ER(){return new Ut(Ie.comparator)}const vY={asc:"ASCENDING",desc:"DESCENDING"},yY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_Y={and:"AND",or:"OR"};class wY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function CE(t,e){return t.useProto3Json||ny(e)?e:{value:e}}function iv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function a2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function EY(t,e){return iv(t,e.toTimestamp())}function cs(t){return _t(!!t,49232),Le.fromTimestamp(function(n){const r=Ta(n);return new fn(r.seconds,r.nanos)}(t))}function Vx(t,e){return bE(t,e).canonicalString()}function bE(t,e){const n=function(i){return new Mt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function l2(t){const e=Mt.fromString(t);return _t(f2(e),10190,{key:e.toString()}),e}function RE(t,e){return Vx(t.databaseId,e.path)}function P_(t,e){const n=l2(e);if(n.get(1)!==t.databaseId.projectId)throw new Se(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Se(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(c2(n))}function u2(t,e){return Vx(t.databaseId,e)}function xY(t){const e=l2(t);return e.length===4?Mt.emptyPath():c2(e)}function AE(t){return new Mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function c2(t){return _t(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function xR(t,e,n){return{name:RE(t,e),fields:n.value.mapValue.fields}}function TY(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ke(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,p){return h.useProto3Json?(_t(p===void 0||typeof p=="string",58123),Mn.fromBase64String(p||"")):(_t(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Mn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){const p=h.code===void 0?se.UNKNOWN:i2(h.code);return new Se(p,h.message||"")}(a);n=new o2(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=P_(t,r.document.name),s=cs(r.document.updateTime),a=r.document.createTime?cs(r.document.createTime):Le.min(),l=new wr({mapValue:{fields:r.document.fields}}),c=qn.newFoundDocument(i,s,a,l),h=r.targetIds||[],p=r.removedTargetIds||[];n=new ag(h,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=P_(t,r.document),s=r.readTime?cs(r.readTime):Le.min(),a=qn.newNoDocument(i,s),l=r.removedTargetIds||[];n=new ag([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=P_(t,r.document),s=r.removedTargetIds||[];n=new ag([],s,i,null)}else{if(!("filter"in e))return ke(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new fY(i,s),l=r.targetId;n=new s2(l,a)}}return n}function SY(t,e){let n;if(e instanceof kf)n={update:xR(t,e.key,e.value)};else if(e instanceof Mx)n={delete:RE(t,e.key)};else if(e instanceof La)n={update:xR(t,e.key,e.data),updateMask:DY(e.fieldMask)};else{if(!(e instanceof cY))return ke(16599,{ft:e.type});n={verify:RE(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const l=a.transform;if(l instanceof rf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof sf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof of)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof af)return{fieldPath:a.field.canonicalString(),increment:l.Re};throw ke(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:EY(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ke(27497)}(t,e.precondition)),n}function IY(t,e){return t&&t.length>0?(_t(e!==void 0,14353),t.map(n=>function(i,s){let a=i.updateTime?cs(i.updateTime):cs(s);return a.isEqual(Le.min())&&(a=cs(s)),new aY(a,i.transformResults||[])}(n,e))):[]}function CY(t,e){return{documents:[u2(t,e.path)]}}function bY(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=u2(t,i);const s=function(h){if(h.length!==0)return h2(fs.create(h,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(h){if(h.length!==0)return h.map(p=>function(g){return{field:Pu(g.field),direction:PY(g.dir)}}(p))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=CE(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:n,parent:i}}function RY(t){let e=xY(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){_t(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(m){const g=d2(m);return g instanceof fs&&UO(g)?g.getFilters():[g]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(g=>function(I){return new rv(Nu(I.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,ny(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(m){const g=!!m.before,x=m.values||[];return new nv(x,g)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const g=!m.before,x=m.values||[];return new nv(x,g)}(n.endAt)),qQ(e,i,a,s,l,"F",c,h)}function AY(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function d2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Nu(n.unaryFilter.field);return dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Nu(n.unaryFilter.field);return dn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Nu(n.unaryFilter.field);return dn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Nu(n.unaryFilter.field);return dn.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ke(61313);default:return ke(60726)}}(t):t.fieldFilter!==void 0?function(n){return dn.create(Nu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ke(58110);default:return ke(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fs.create(n.compositeFilter.filters.map(r=>d2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ke(1026)}}(n.compositeFilter.op))}(t):ke(30097,{filter:t})}function PY(t){return vY[t]}function NY(t){return yY[t]}function kY(t){return _Y[t]}function Pu(t){return{fieldPath:t.canonicalString()}}function Nu(t){return Pn.fromServerFormat(t.fieldPath)}function h2(t){return t instanceof dn?function(n){if(n.op==="=="){if(uR(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NAN"}};if(lR(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(uR(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NOT_NAN"}};if(lR(n.value))return{unaryFilter:{field:Pu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pu(n.field),op:NY(n.op),value:n.value}}}(t):t instanceof fs?function(n){const r=n.getFilters().map(i=>h2(i));return r.length===1?r[0]:{compositeFilter:{op:kY(n.op),filters:r}}}(t):ke(54877,{filter:t})}function DY(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function f2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n,r,i,s=Le.min(),a=Le.min(),l=Mn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Zo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OY{constructor(e){this.wt=e}}function MY(t){const e=RY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?IE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LY{constructor(){this.yn=new FY}addToCollectionParentIndex(e,n){return this.yn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(xa.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(xa.min())}updateCollectionGroup(e,n,r){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class FY{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pn(Mt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pn(Mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},p2=41943040;class yr{static withCacheSize(e){return new yr(e,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yr.DEFAULT_COLLECTION_PERCENTILE=10,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yr.DEFAULT=new yr(p2,yr.DEFAULT_COLLECTION_PERCENTILE,yr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yr.DISABLED=new yr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new Lc(0)}static ir(){return new Lc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="LruGarbageCollector",VY=1048576;function IR([t,e],[n,r]){const i=Ye(t,n);return i===0?Ye(e,r):i}class jY{constructor(e){this.cr=e,this.buffer=new pn(IR),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();IR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class UY{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){ye(SR,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ed(n)?ye(SR,"Ignoring IndexedDB error during garbage collection: ",n):await Zc(n)}await this.Ir(3e5)})}}class $Y{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return re.resolve(ty.le);const r=new jY(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(TR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TR):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,s,a,l,c,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,l=Date.now(),this.removeTargets(e,r,n))).next(m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(h=Date.now(),Ru()<=tt.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-p}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(h-c)+`ms
Total Duration: ${h-p}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}function BY(t,e){return new $Y(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zY{constructor(){this.changes=new ql(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?re.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HY{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ih(r.mutation,i,Vr.empty(),fn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,nt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=nt()){const i=gl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=oh();return s.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=gl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,nt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,i){let s=io();const a=Sh(),l=function(){return Sh()}();return n.forEach((c,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof La)?s=s.insert(h.key,h):p!==void 0?(a.set(h.key,p.mutation.getFieldMask()),Ih(p.mutation,h,p.mutation.getFieldMask(),fn.now())):a.set(h.key,Vr.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((h,p)=>a.set(h,p)),n.forEach((h,p)=>{var m;return l.set(h,new WY(p,(m=a.get(h))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Sh();let i=new Ut((a,l)=>a-l),s=nt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let p=r.get(c)||Vr.empty();p=l.applyToLocalView(h,p),r.set(c,p);const m=(i.get(l.batchId)||nt()).add(c);i=i.insert(l.batchId,m)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,p=c.value,m=qO();p.forEach(g=>{if(!s.has(g)){const x=n2(n.get(g),r.get(g));x!==null&&m.set(g,x),s=s.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,m))}return re.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return Ie.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QQ(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):re.resolve(gl());let l=Zh,c=s;return a.next(h=>re.forEach(h,(p,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(p)?re.resolve():this.remoteDocumentCache.getEntry(e,p).next(g=>{c=c.insert(p,g)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,c,h,nt())).next(p=>({batchId:l,changes:GO(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next(r=>{let i=oh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=oh();return this.indexManager.getCollectionParents(e,s).next(l=>re.forEach(l,c=>{const h=function(m,g){return new iy(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((m,g)=>{a=a.insert(m,g)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((c,h)=>{const p=h.getKey();a.get(p)===null&&(a=a.insert(p,qn.newInvalidDocument(p)))});let l=oh();return a.forEach((c,h)=>{const p=s.get(c);p!==void 0&&Ih(p.mutation,h,Vr.empty(),fn.now()),oy(n,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KY{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return re.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:cs(i.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:MY(i.bundledQuery),readTime:cs(i.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GY{constructor(){this.overlays=new Ut(Ie.comparator),this.Or=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const r=gl();return re.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),re.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Or.delete(r)),re.resolve()}getOverlaysForCollection(e,n,r){const i=gl(),s=n.length+1,a=new Ie(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return re.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ut((h,p)=>h-p);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=gl(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const l=gl(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,p)=>l.set(h,p)),!(l.size()>=i)););return re.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new hY(n,r));let s=this.Or.get(n);s===void 0&&(s=nt(),this.Or.set(n,s)),this.Or.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY{constructor(){this.sessionToken=Mn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.Nr=new pn(yn.Br),this.Lr=new pn(yn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new yn(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new yn(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new Ie(new Mt([])),r=new yn(n,e),i=new yn(n,e+1),s=[];return this.Lr.forEachInRange([r,i],a=>{this.Qr(a),s.push(a.key)}),s}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new Ie(new Mt([])),r=new yn(n,e),i=new yn(n,e+1);let s=nt();return this.Lr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new yn(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class yn{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return Ie.comparator(e.key,n.key)||Ye(e.Gr,n.Gr)}static kr(e,n){return Ye(e.Gr,n.Gr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new pn(yn.Br)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new dY(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.zr=this.zr.add(new yn(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return re.resolve(a)}lookupMutationBatch(e,n){return re.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Hr(r),s=i<0?0:i;return re.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Rx:this.Jn-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new yn(n,0),i=new yn(n,Number.POSITIVE_INFINITY),s=[];return this.zr.forEachInRange([r,i],a=>{const l=this.jr(a.Gr);s.push(l)}),re.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pn(Ye);return n.forEach(i=>{const s=new yn(i,0),a=new yn(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([s,a],l=>{r=r.add(l.Gr)})}),re.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ie.isDocumentKey(s)||(s=s.child(""));const a=new yn(new Ie(s),0);let l=new pn(Ye);return this.zr.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(c.Gr)),!0)},a),re.resolve(this.Jr(l))}Jr(e){const n=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_t(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return re.forEach(n.mutations,i=>{const s=new yn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new yn(n,0),i=this.zr.firstAfterOrEqual(r);return re.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YY{constructor(e){this.Zr=e,this.docs=function(){return new Ut(Ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return re.resolve(r?r.document.mutableCopy():qn.newInvalidDocument(n))}getEntries(e,n){let r=io();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():qn.newInvalidDocument(i))}),re.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=io();const a=n.path,l=new Ie(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:p}}=c.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||bQ(CQ(p),r)<=0||(i.has(p.key)||oy(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return re.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ke(9500)}Xr(e,n){return re.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new XY(this)}getSize(e){return re.resolve(this.size)}}class XY extends zY{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),re.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JY{constructor(e){this.persistence=e,this.ei=new ql(n=>Nx(n),kx),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.ti=0,this.ni=new jx,this.targetCount=0,this.ri=Lc.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),re.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new Lc(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.ar(n),re.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ei.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ei.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),re.waitFor(s).next(()=>i)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return re.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),re.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),re.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),re.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return re.resolve(r)}containsKey(e,n){return re.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n){this.ii={},this.overlays={},this.si=new ty(0),this.oi=!1,this.oi=!0,this._i=new qY,this.referenceDelegate=e(this),this.ai=new JY(this),this.indexManager=new LY,this.remoteDocumentCache=function(i){return new YY(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new OY(n),this.ci=new KY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new QY(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){ye("MemoryPersistence","Starting transaction:",e);const i=new ZY(this.si.next());return this.referenceDelegate.li(),r(i).next(s=>this.referenceDelegate.hi(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Pi(e,n){return re.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class ZY extends AQ{constructor(e){super(),this.currentSequenceNumber=e}}class Ux{constructor(e){this.persistence=e,this.Ti=new jx,this.Ii=null}static Ei(e){return new Ux(e)}get di(){if(this.Ii)return this.Ii;throw ke(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),re.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.di,r=>{const i=Ie.fromPath(r);return this.Ai(e,i).next(s=>{s||n.removeEntry(i,Le.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return re.or([()=>re.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class sv{constructor(e,n){this.persistence=e,this.Ri=new ql(r=>kQ(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=BY(this,n)}static Ei(e,n){return new sv(e,n)}li(){}hi(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return re.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(s=>s?re.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Xr(e,a=>this.gr(e,a,n).next(l=>{l||(r++,s.removeEntry(a,Le.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),re.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),re.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ig(e.data.value)),n}gr(e,n,r){return re.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.Ri.get(n);return re.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=nt(),i=nt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new $x(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tX{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return M7()?8:PQ(Xn())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Rs(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Vs(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new eX;return this.fs(e,n,a).next(l=>{if(s.result=l,this.Is)return this.gs(e,n,a,l.size)})}).next(()=>s.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(Ru()<=tt.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Au(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),re.resolve()):(Ru()<=tt.DEBUG&&ye("QueryEngine","Query:",Au(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Ru()<=tt.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Au(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,us(n))):re.resolve())}Rs(e,n){if(fR(n))return re.resolve(null);let r=us(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=IE(n,null,"F"),r=us(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=nt(...s);return this.As.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.ps(n,l);return this.ys(n,h,a,c.readTime)?this.Rs(e,IE(n,null,"F")):this.ws(e,h,n,c)}))})))}Vs(e,n,r,i){return fR(n)||i.isEqual(Le.min())?re.resolve(null):this.As.getDocuments(e,r).next(s=>{const a=this.ps(n,s);return this.ys(n,a,r,i)?re.resolve(null):(Ru()<=tt.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Au(n)),this.ws(e,a,n,IQ(i,Zh)).next(l=>l))})}ps(e,n){let r=new pn(HO(e));return n.forEach((i,s)=>{oy(e,s)&&(r=r.add(s))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}fs(e,n,r){return Ru()<=tt.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Au(n)),this.As.getDocumentsMatchingQuery(e,n,xa.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="LocalStore",nX=3e8;class rX{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new Ut(Ye),this.Ds=new ql(s=>Nx(s),kx),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HY(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function iX(t,e,n,r){return new rX(t,e,n,r)}async function g2(t,e){const n=Ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],l=[];let c=nt();for(const h of i){a.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}for(const h of s){l.push(h.batchId);for(const p of h.mutations)c=c.add(p.key)}return n.localDocuments.getDocuments(r,c).next(h=>({Ms:h,removedBatchIds:a,addedBatchIds:l}))})})}function sX(t,e){const n=Ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Cs.newChangeBuffer({trackRemovals:!0});return function(l,c,h,p){const m=h.batch,g=m.keys();let x=re.resolve();return g.forEach(I=>{x=x.next(()=>p.getEntry(c,I)).next(E=>{const b=h.docVersions.get(I);_t(b!==null,48541),E.version.compareTo(b)<0&&(m.applyToRemoteDocument(E,h),E.isValidDocument()&&(E.setReadTime(h.commitVersion),p.addEntry(E)))})}),x.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=nt();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function v2(t){const e=Ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function oX(t,e){const n=Ve(t),r=e.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const l=[];e.targetChanges.forEach((p,m)=>{const g=i.get(m);if(!g)return;l.push(n.ai.removeMatchingKeys(s,p.removedDocuments,m).next(()=>n.ai.addMatchingKeys(s,p.addedDocuments,m)));let x=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?x=x.withResumeToken(Mn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,r)),i=i.insert(m,x),function(E,b,C){return E.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=nX?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(g,x,p)&&l.push(n.ai.updateTargetData(s,x))});let c=io(),h=nt();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(aX(s,a,e.documentUpdates).next(p=>{c=p.xs,h=p.Os})),!r.isEqual(Le.min())){const p=n.ai.getLastRemoteSnapshotVersion(s).next(m=>n.ai.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(p)}return re.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,h)).next(()=>c)}).then(s=>(n.Ss=i,s))}function aX(t,e,n){let r=nt(),i=nt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=io();return n.forEach((l,c)=>{const h=s.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Le.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):ye(Bx,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{xs:a,Os:i}})}function lX(t,e){const n=Ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Rx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function uX(t,e){const n=Ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(s=>s?(i=s,re.resolve(i)):n.ai.allocateTargetId(r).next(a=>(i=new Zo(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function PE(t,e,n){const r=Ve(t),i=r.Ss.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!ed(a))throw a;ye(Bx,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function CR(t,e,n){const r=Ve(t);let i=Le.min(),s=nt();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,h,p){const m=Ve(c),g=m.Ds.get(p);return g!==void 0?re.resolve(m.Ss.get(g)):m.ai.getTargetData(h,p)}(r,a,us(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(a,l.targetId).next(c=>{s=c})}).next(()=>r.bs.getDocumentsMatchingQuery(a,e,n?i:Le.min(),n?s:nt())).next(l=>(cX(r,XQ(e),l),{documents:l,Ns:s})))}function cX(t,e,n){let r=t.vs.get(e)||Le.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.vs.set(e,r)}class bR{constructor(){this.activeTargetIds=rY()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dX{constructor(){this.So=new bR,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new bR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hX{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="ConnectivityMonitor";class AR{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){ye(RR,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){ye(RR,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Am=null;function NE(){return Am===null?Am=function(){return 268435456+Math.round(2147483648*Math.random())}():Am++,"0x"+Am.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="RestConnection",fX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pX{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===ev?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,s){const a=NE(),l=this.$o(e,n.toUriEncodedString());ye(N_,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(c,i,s),this.Ko(e,l,c,r).then(h=>(ye(N_,`Received RPC '${e}' ${a}: `,h),h),h=>{throw kc(N_,`RPC '${e}' ${a} failed with error: `,h,"url: ",l,"request:",r),h})}Wo(e,n,r,i,s,a){return this.Qo(e,n,r,i,s)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}$o(e,n){const r=fX[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mX{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn="WebChannelConnection";class gX extends pX{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i){const s=NE();return new Promise((a,l)=>{const c=new yO;c.setWithCredentials(!0),c.listenOnce(_O.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case rg.NO_ERROR:const p=c.getResponseJson();ye(Wn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case rg.TIMEOUT:ye(Wn,`RPC '${e}' ${s} timed out`),l(new Se(se.DEADLINE_EXCEEDED,"Request time out"));break;case rg.HTTP_ERROR:const m=c.getStatus();if(ye(Wn,`RPC '${e}' ${s} failed with status:`,m,"response text:",c.getResponseText()),m>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const x=g==null?void 0:g.error;if(x&&x.status&&x.message){const I=function(b){const C=b.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(C)>=0?C:se.UNKNOWN}(x.status);l(new Se(I,x.message))}else l(new Se(se.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Se(se.UNAVAILABLE,"Connection failed."));break;default:ke(9055,{s_:e,streamId:s,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{ye(Wn,`RPC '${e}' ${s} completed.`)}});const h=JSON.stringify(i);ye(Wn,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",h,r,15)})}a_(e,n,r){const i=NE(),s=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=xO(),l=EO(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Uo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const p=s.join("");ye(Wn,`Creating RPC '${e}' stream ${i}: ${p}`,c);const m=a.createWebChannel(p,c);let g=!1,x=!1;const I=new mX({Go:b=>{x?ye(Wn,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(g||(ye(Wn,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),ye(Wn,`RPC '${e}' stream ${i} sending:`,b),m.send(b))},zo:()=>m.close()}),E=(b,C,T)=>{b.listen(C,R=>{try{T(R)}catch(V){setTimeout(()=>{throw V},0)}})};return E(m,sh.EventType.OPEN,()=>{x||(ye(Wn,`RPC '${e}' stream ${i} transport opened.`),I.t_())}),E(m,sh.EventType.CLOSE,()=>{x||(x=!0,ye(Wn,`RPC '${e}' stream ${i} transport closed`),I.r_())}),E(m,sh.EventType.ERROR,b=>{x||(x=!0,kc(Wn,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),I.r_(new Se(se.UNAVAILABLE,"The operation could not be completed")))}),E(m,sh.EventType.MESSAGE,b=>{var C;if(!x){const T=b.data[0];_t(!!T,16349);const R=T,V=(R==null?void 0:R.error)||((C=R[0])===null||C===void 0?void 0:C.error);if(V){ye(Wn,`RPC '${e}' stream ${i} received error:`,V);const U=V.status;let z=function(k){const L=tn[k];if(L!==void 0)return i2(L)}(U),N=V.message;z===void 0&&(z=se.INTERNAL,N="Unknown error status: "+U+" with message "+V.message),x=!0,I.r_(new Se(z,N)),m.close()}else ye(Wn,`RPC '${e}' stream ${i} received:`,T),I.i_(T)}}),E(l,wO.STAT_EVENT,b=>{b.stat===_E.PROXY?ye(Wn,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===_E.NOPROXY&&ye(Wn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.n_()},0),I}}function k_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(t){return new wY(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n,r=1e3,i=1.5,s=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=s,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&ye("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="PersistentStream";class _2{constructor(e,n,r,i,s,a,l,c){this.bi=e,this.R_=r,this.V_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new y2(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(ro(n.toString()),ro("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{const i=new Se(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return ye(PR,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(ye(PR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vX extends _2{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=TY(this.serializer,e),r=function(s){if(!("targetChange"in s))return Le.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Le.min():a.readTime?cs(a.readTime):Le.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=AE(this.serializer),n.addTarget=function(s,a){let l;const c=a.target;if(l=SE(c)?{documents:CY(s,c)}:{query:bY(s,c).gt},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=a2(s,a.resumeToken);const h=CE(s,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(Le.min())>0){l.readTime=iv(s,a.snapshotVersion.toTimestamp());const h=CE(s,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=AY(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=AE(this.serializer),n.removeTarget=e,this.F_(n)}}class yX extends _2{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return _t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,_t(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){_t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=IY(e.writeResults,e.commitTime),r=cs(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=AE(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>SY(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _X{}class wX extends _X{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new Se(se.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Qo(e,bE(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Se(se.UNKNOWN,s.toString())})}Wo(e,n,r,i,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Wo(e,bE(n,r),i,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Se(se.UNKNOWN,a.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class EX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(ro(n),this.ea=!1):ye("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl="RemoteStore";class xX{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=s,this.ca.vo(a=>{r.enqueueAndForget(async()=>{Ql(this)&&(ye(jl,"Restarting streams for network reachability change."),await async function(c){const h=Ve(c);h.aa.add(4),await Of(h),h.la.set("Unknown"),h.aa.delete(4),await dy(h)}(this))})}),this.la=new EX(r,i)}}async function dy(t){if(Ql(t))for(const e of t.ua)await e(!0)}async function Of(t){for(const e of t.ua)await e(!1)}function w2(t,e){const n=Ve(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Kx(n)?Hx(n):td(n).b_()&&Wx(n,e))}function zx(t,e){const n=Ve(t),r=td(n);n._a.delete(e),r.b_()&&E2(n,e),n._a.size===0&&(r.b_()?r.v_():Ql(n)&&n.la.set("Unknown"))}function Wx(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}td(t).U_(e)}function E2(t,e){t.ha.Ke(e),td(t).K_(e)}function Hx(t){t.ha=new gY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),td(t).start(),t.la.ta()}function Kx(t){return Ql(t)&&!td(t).w_()&&t._a.size>0}function Ql(t){return Ve(t).aa.size===0}function x2(t){t.ha=void 0}async function TX(t){t.la.set("Online")}async function SX(t){t._a.forEach((e,n)=>{Wx(t,e)})}async function IX(t,e){x2(t),Kx(t)?(t.la.ia(e),Hx(t)):t.la.set("Unknown")}async function CX(t,e,n){if(t.la.set("Online"),e instanceof o2&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const l of s.targetIds)i._a.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i._a.delete(l),i.ha.removeTarget(l))}(t,e)}catch(r){ye(jl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ov(t,r)}else if(e instanceof ag?t.ha.Xe(e):e instanceof s2?t.ha.ot(e):t.ha.nt(e),!n.isEqual(Le.min()))try{const r=await v2(t.localStore);n.compareTo(r)>=0&&await function(s,a){const l=s.ha.It(a);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const p=s._a.get(h);p&&s._a.set(h,p.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,h)=>{const p=s._a.get(c);if(!p)return;s._a.set(c,p.withResumeToken(Mn.EMPTY_BYTE_STRING,p.snapshotVersion)),E2(s,c);const m=new Zo(p.target,c,h,p.sequenceNumber);Wx(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){ye(jl,"Failed to raise snapshot:",r),await ov(t,r)}}async function ov(t,e,n){if(!ed(e))throw e;t.aa.add(1),await Of(t),t.la.set("Offline"),n||(n=()=>v2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ye(jl,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await dy(t)})}function T2(t,e){return e().catch(n=>ov(t,n,e))}async function hy(t){const e=Ve(t),n=Ca(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Rx;for(;bX(e);)try{const i=await lX(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,RX(e,i)}catch(i){await ov(e,i)}S2(e)&&I2(e)}function bX(t){return Ql(t)&&t.oa.length<10}function RX(t,e){t.oa.push(e);const n=Ca(t);n.b_()&&n.W_&&n.G_(e.mutations)}function S2(t){return Ql(t)&&!Ca(t).w_()&&t.oa.length>0}function I2(t){Ca(t).start()}async function AX(t){Ca(t).H_()}async function PX(t){const e=Ca(t);for(const n of t.oa)e.G_(n.mutations)}async function NX(t,e,n){const r=t.oa.shift(),i=Lx.from(r,e,n);await T2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await hy(t)}async function kX(t,e){e&&Ca(t).W_&&await async function(r,i){if(function(a){return pY(a)&&a!==se.ABORTED}(i.code)){const s=r.oa.shift();Ca(r).D_(),await T2(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await hy(r)}}(t,e),S2(t)&&I2(t)}async function NR(t,e){const n=Ve(t);n.asyncQueue.verifyOperationInProgress(),ye(jl,"RemoteStore received new credentials");const r=Ql(n);n.aa.add(3),await Of(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await dy(n)}async function DX(t,e){const n=Ve(t);e?(n.aa.delete(2),await dy(n)):e||(n.aa.add(2),await Of(n),n.la.set("Unknown"))}function td(t){return t.Pa||(t.Pa=function(n,r,i){const s=Ve(n);return s.Y_(),new vX(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{jo:TX.bind(null,t),Jo:SX.bind(null,t),Zo:IX.bind(null,t),Q_:CX.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),Kx(t)?Hx(t):t.la.set("Unknown")):(await t.Pa.stop(),x2(t))})),t.Pa}function Ca(t){return t.Ta||(t.Ta=function(n,r,i){const s=Ve(n);return s.Y_(),new yX(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:AX.bind(null,t),Zo:kX.bind(null,t),z_:PX.bind(null,t),j_:NX.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await hy(t)):(await t.Ta.stop(),t.oa.length>0&&(ye(jl,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new Gx(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qx(t,e){if(ro("AsyncQueue",`${e}: ${t}`),ed(t))return new Se(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{static emptySet(e){return new rc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ie.comparator(n.key,r.key):(n,r)=>Ie.comparator(n.key,r.key),this.keyedMap=oh(),this.sortedSet=new Ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof rc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new rc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.Ia=new Ut(Ie.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):ke(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class Fc{constructor(e,n,r,i,s,a,l,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Fc(e,n,rc.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OX{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class MX{constructor(){this.queries=DR(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const i=Ve(n),s=i.queries;i.queries=DR(),s.forEach((a,l)=>{for(const c of l.Ra)c.onError(r)})})(this,new Se(se.ABORTED,"Firestore shutting down"))}}function DR(){return new ql(t=>WO(t),sy)}async function C2(t,e){const n=Ve(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Va()&&e.ma()&&(r=2):(s=new OX,r=e.ma()?0:1);try{switch(r){case 0:s.Aa=await n.onListen(i,!0);break;case 1:s.Aa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=qx(a,`Initialization of query '${Au(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.Ra.push(e),e.ga(n.onlineState),s.Aa&&e.pa(s.Aa)&&Qx(n)}async function b2(t,e){const n=Ve(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Ra.indexOf(e);a>=0&&(s.Ra.splice(a,1),s.Ra.length===0?i=e.ma()?0:1:!s.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function LX(t,e){const n=Ve(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const l of a.Ra)l.pa(i)&&(r=!0);a.Aa=i}}r&&Qx(n)}function FX(t,e,n){const r=Ve(t),i=r.queries.get(e);if(i)for(const s of i.Ra)s.onError(n);r.queries.delete(e)}function Qx(t){t.fa.forEach(e=>{e.next()})}var kE,OR;(OR=kE||(kE={})).ya="default",OR.Cache="cache";class R2{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Fc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Fc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==kE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.key=e}}class P2{constructor(e){this.key=e}}class VX{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=nt(),this.mutatedKeys=nt(),this.Ua=HO(e),this.Ka=new rc(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new kR,i=n?n.Ka:this.Ka;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,m)=>{const g=i.get(p),x=oy(this.query,m)?m:null,I=!!g&&this.mutatedKeys.has(g.key),E=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let b=!1;g&&x?g.data.isEqual(x.data)?I!==E&&(r.track({type:3,doc:x}),b=!0):this.ja(g,x)||(r.track({type:2,doc:x}),b=!0,(c&&this.Ua(x,c)>0||h&&this.Ua(x,h)<0)&&(l=!0)):!g&&x?(r.track({type:0,doc:x}),b=!0):g&&!x&&(r.track({type:1,doc:g}),b=!0,(c||h)&&(l=!0)),b&&(x?(a=a.add(x),s=E?s.add(p):s.delete(p)):(a=a.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ka:a,za:r,ys:l,mutatedKeys:s}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const a=e.za.da();a.sort((p,m)=>function(x,I){const E=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke(20277,{Vt:b})}};return E(x)-E(I)}(p.type,m.type)||this.Ua(p.doc,m.doc)),this.Ha(r),i=i!=null&&i;const l=n&&!i?this.Ja():[],c=this.$a.size===0&&this.current&&!i?1:0,h=c!==this.Qa;return this.Qa=c,a.length!==0||h?{snapshot:new Fc(this.query,e.Ka,s,a,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:l}:{Ya:l}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new kR,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=nt(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new P2(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new A2(r))}),n}Xa(e){this.qa=e.Ns,this.$a=nt();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Fc.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Yx="SyncEngine";class jX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class UX{constructor(e){this.key=e,this.tu=!1}}class $X{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.nu={},this.ru=new ql(l=>WO(l),sy),this.iu=new Map,this.su=new Set,this.ou=new Ut(Ie.comparator),this._u=new Map,this.au=new jx,this.uu={},this.cu=new Map,this.lu=Lc.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function BX(t,e,n=!0){const r=L2(t);let i;const s=r.ru.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.eu()):i=await N2(r,e,n,!0),i}async function zX(t,e){const n=L2(t);await N2(n,e,!0,!1)}async function N2(t,e,n,r){const i=await uX(t.localStore,us(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await WX(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&w2(t.remoteStore,i),l}async function WX(t,e,n,r,i){t.Pu=(m,g,x)=>async function(E,b,C,T){let R=b.view.Ga(C);R.ys&&(R=await CR(E.localStore,b.query,!1).then(({documents:N})=>b.view.Ga(N,R)));const V=T&&T.targetChanges.get(b.targetId),U=T&&T.targetMismatches.get(b.targetId)!=null,z=b.view.applyChanges(R,E.isPrimaryClient,V,U);return LR(E,b.targetId,z.Ya),z.snapshot}(t,m,g,x);const s=await CR(t.localStore,e,!0),a=new VX(e,s.Ns),l=a.Ga(s.documents),c=Df.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=a.applyChanges(l,t.isPrimaryClient,c);LR(t,n,h.Ya);const p=new jX(e,n,a);return t.ru.set(e,p),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),h.snapshot}async function HX(t,e,n){const r=Ve(t),i=r.ru.get(e),s=r.iu.get(i.targetId);if(s.length>1)return r.iu.set(i.targetId,s.filter(a=>!sy(a,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await PE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&zx(r.remoteStore,i.targetId),DE(r,i.targetId)}).catch(Zc)):(DE(r,i.targetId),await PE(r.localStore,i.targetId,!0))}async function KX(t,e){const n=Ve(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zx(n.remoteStore,r.targetId))}async function GX(t,e,n){const r=eJ(t);try{const i=await function(a,l){const c=Ve(a),h=fn.now(),p=l.reduce((x,I)=>x.add(I.key),nt());let m,g;return c.persistence.runTransaction("Locally write mutations","readwrite",x=>{let I=io(),E=nt();return c.Cs.getEntries(x,p).next(b=>{I=b,I.forEach((C,T)=>{T.isValidDocument()||(E=E.add(C))})}).next(()=>c.localDocuments.getOverlayedDocuments(x,I)).next(b=>{m=b;const C=[];for(const T of l){const R=uY(T,m.get(T.key).overlayedDocument);R!=null&&C.push(new La(T.key,R,FO(R.value.mapValue),Oi.exists(!0)))}return c.mutationQueue.addMutationBatch(x,h,C,l)}).next(b=>{g=b;const C=b.applyToLocalDocumentSet(m,E);return c.documentOverlayCache.saveOverlays(x,b.batchId,C)})}).then(()=>({batchId:g.batchId,changes:GO(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,c){let h=a.uu[a.currentUser.toKey()];h||(h=new Ut(Ye)),h=h.insert(l,c),a.uu[a.currentUser.toKey()]=h}(r,i.batchId,n),await Mf(r,i.changes),await hy(r.remoteStore)}catch(i){const s=qx(i,"Failed to persist write");n.reject(s)}}async function k2(t,e){const n=Ve(t);try{const r=await oX(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n._u.get(s);a&&(_t(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.tu=!0:i.modifiedDocuments.size>0?_t(a.tu,14607):i.removedDocuments.size>0&&(_t(a.tu,42227),a.tu=!1))}),await Mf(n,r,e)}catch(r){await Zc(r)}}function MR(t,e,n){const r=Ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ru.forEach((s,a)=>{const l=a.view.ga(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const c=Ve(a);c.onlineState=l;let h=!1;c.queries.forEach((p,m)=>{for(const g of m.Ra)g.ga(l)&&(h=!0)}),h&&Qx(c)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qX(t,e,n){const r=Ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r._u.get(e),s=i&&i.key;if(s){let a=new Ut(Ie.comparator);a=a.insert(s,qn.newNoDocument(s,Le.min()));const l=nt().add(s),c=new uy(Le.min(),new Map,new Ut(Ye),a,l);await k2(r,c),r.ou=r.ou.remove(s),r._u.delete(e),Xx(r)}else await PE(r.localStore,e,!1).then(()=>DE(r,e,n)).catch(Zc)}async function QX(t,e){const n=Ve(t),r=e.batch.batchId;try{const i=await sX(n.localStore,e);O2(n,r,null),D2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mf(n,i)}catch(i){await Zc(i)}}async function YX(t,e,n){const r=Ve(t);try{const i=await function(a,l){const c=Ve(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return c.mutationQueue.lookupMutationBatch(h,l).next(m=>(_t(m!==null,37113),p=m.keys(),c.mutationQueue.removeMutationBatch(h,m))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,p,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>c.localDocuments.getDocuments(h,p))})}(r.localStore,e);O2(r,e,n),D2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mf(r,i)}catch(i){await Zc(i)}}function D2(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function O2(t,e,n){const r=Ve(t);let i=r.uu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function DE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||M2(t,r)})}function M2(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(zx(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),Xx(t))}function LR(t,e,n){for(const r of n)r instanceof A2?(t.au.addReference(r.key,e),XX(t,r)):r instanceof P2?(ye(Yx,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||M2(t,r.key)):ke(19791,{Iu:r})}function XX(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(ye(Yx,"New document in limbo: "+n),t.su.add(r),Xx(t))}function Xx(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new Ie(Mt.fromString(e)),r=t.lu.next();t._u.set(r,new UX(n)),t.ou=t.ou.insert(n,r),w2(t.remoteStore,new Zo(us(Dx(n.path)),r,"TargetPurposeLimboResolution",ty.le))}}async function Mf(t,e,n){const r=Ve(t),i=[],s=[],a=[];r.ru.isEmpty()||(r.ru.forEach((l,c)=>{a.push(r.Pu(c,e,n).then(h=>{var p;if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(h){i.push(h);const m=$x.Ps(c.targetId,h);s.push(m)}}))}),await Promise.all(a),r.nu.Q_(i),await async function(c,h){const p=Ve(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>re.forEach(h,g=>re.forEach(g.ls,x=>p.persistence.referenceDelegate.addReference(m,g.targetId,x)).next(()=>re.forEach(g.hs,x=>p.persistence.referenceDelegate.removeReference(m,g.targetId,x)))))}catch(m){if(!ed(m))throw m;ye(Bx,"Failed to update sequence numbers: "+m)}for(const m of h){const g=m.targetId;if(!m.fromCache){const x=p.Ss.get(g),I=x.snapshotVersion,E=x.withLastLimboFreeSnapshotVersion(I);p.Ss=p.Ss.insert(g,E)}}}(r.localStore,s))}async function JX(t,e){const n=Ve(t);if(!n.currentUser.isEqual(e)){ye(Yx,"User change. New user:",e.toKey());const r=await g2(n.localStore,e);n.currentUser=e,function(s,a){s.cu.forEach(l=>{l.forEach(c=>{c.reject(new Se(se.CANCELLED,a))})}),s.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mf(n,r.Ms)}}function ZX(t,e){const n=Ve(t),r=n._u.get(e);if(r&&r.tu)return nt().add(r.key);{let i=nt();const s=n.iu.get(e);if(!s)return i;for(const a of s){const l=n.ru.get(a);i=i.unionWith(l.view.Wa)}return i}}function L2(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=k2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qX.bind(null,e),e.nu.Q_=LX.bind(null,e.eventManager),e.nu.Tu=FX.bind(null,e.eventManager),e}function eJ(t){const e=Ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=QX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YX.bind(null,e),e}class av{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cy(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return iX(this.persistence,new tX,e.initialUser,this.serializer)}Ru(e){return new m2(Ux.Ei,this.serializer)}Au(e){return new dX}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}av.provider={build:()=>new av};class tJ extends av{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){_t(this.persistence.referenceDelegate instanceof sv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new UY(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?yr.withCacheSize(this.cacheSizeBytes):yr.DEFAULT;return new m2(r=>sv.Ei(r,n),this.serializer)}}class OE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>MR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=JX.bind(null,this.syncEngine),await DX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new MX}()}createDatastore(e){const n=cy(e.databaseInfo.databaseId),r=function(s){return new gX(s)}(e.databaseInfo);return function(s,a,l,c){return new wX(s,a,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,l){return new xX(r,i,s,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>MR(this.syncEngine,n,0),function(){return AR.C()?new AR:new hX}())}createSyncEngine(e,n){return function(i,s,a,l,c,h,p){const m=new $X(i,s,a,l,c,h);return p&&(m.hu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ve(i);ye(jl,"RemoteStore shutting down."),s.aa.add(5),await Of(s),s.ca.shutdown(),s.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}OE.provider={build:()=>new OE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):ro("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="FirestoreClient";class nJ{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Kn.UNAUTHENTICATED,this.clientId=CO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{ye(ba,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ye(ba,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=qx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function D_(t,e){t.asyncQueue.verifyOperationInProgress(),ye(ba,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await g2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function FR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rJ(t);ye(ba,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>NR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>NR(e.remoteStore,i)),t._onlineComponents=e}async function rJ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ye(ba,"Using user provided OfflineComponentProvider");try{await D_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===se.FAILED_PRECONDITION||i.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;kc("Error using user provided cache. Falling back to memory cache: "+n),await D_(t,new av)}}else ye(ba,"Using default OfflineComponentProvider"),await D_(t,new tJ(void 0));return t._offlineComponents}async function V2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ye(ba,"Using user provided OnlineComponentProvider"),await FR(t,t._uninitializedComponentsProvider._online)):(ye(ba,"Using default OnlineComponentProvider"),await FR(t,new OE))),t._onlineComponents}function iJ(t){return V2(t).then(e=>e.syncEngine)}async function j2(t){const e=await V2(t),n=e.eventManager;return n.onListen=BX.bind(null,e.syncEngine),n.onUnlisten=HX.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=zX.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=KX.bind(null,e.syncEngine),n}function sJ(t,e,n={}){const r=new Gs;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,c,h){const p=new F2({next:g=>{p.yu(),a.enqueueAndForget(()=>b2(s,m));const x=g.docs.has(l);!x&&g.fromCache?h.reject(new Se(se.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&g.fromCache&&c&&c.source==="server"?h.reject(new Se(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new R2(Dx(l.path),p,{includeMetadataChanges:!0,Fa:!0});return C2(s,m)}(await j2(t),t.asyncQueue,e,n,r)),r.promise}function oJ(t,e,n={}){const r=new Gs;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,l,c,h){const p=new F2({next:g=>{p.yu(),a.enqueueAndForget(()=>b2(s,m)),g.fromCache&&c.source==="server"?h.reject(new Se(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),m=new R2(l,p,{includeMetadataChanges:!0,Fa:!0});return C2(s,m)}(await j2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(t,e,n){if(!n)throw new Se(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aJ(t,e,n,r){if(e===!0&&r===!0)throw new Se(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jR(t){if(!Ie.isDocumentKey(t))throw new Se(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UR(t){if(Ie.isDocumentKey(t))throw new Se(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ke(12329,{type:typeof t})}function ps(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Se(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jx(t);throw new Se(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="firestore.googleapis.com",$R=!0;class BR{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=B2,this.ssl=$R}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:$R;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=p2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VY)throw new Se(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aJ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=U2((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Se(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Se(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Se(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new gQ;switch(r.type){case"firstParty":return new wQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Se(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=VR.get(n);r&&(ye("ComponentProvider","Removing Datastore"),VR.delete(n),r.terminate())}(this),Promise.resolve()}}function lJ(t,e,n,r={}){var i;const s=(t=ps(t,fy))._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s.host!==B2&&s.host!==l&&kc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:!1,emulatorOptions:r});if(!Ml(c,a)&&(t._setSettings(c),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Kn.MOCK_USER;else{h=kD(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Se(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Kn(m)}t._authCredentials=new vQ(new SO(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new py(this.firestore,e,this._query)}}class Ir{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ir(this.firestore,e,this._key)}}class fa extends py{constructor(e,n,r){super(e,n,Dx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ir(this.firestore,null,new Ie(e))}withConverter(e){return new fa(this.firestore,e,this._path)}}function Yl(t,e,...n){if(t=On(t),$2("collection","path",e),t instanceof fy){const r=Mt.fromString(e,...n);return UR(r),new fa(t,null,r)}{if(!(t instanceof Ir||t instanceof fa))throw new Se(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Mt.fromString(e,...n));return UR(r),new fa(t.firestore,null,r)}}function ao(t,e,...n){if(t=On(t),arguments.length===1&&(e=CO.newId()),$2("doc","path",e),t instanceof fy){const r=Mt.fromString(e,...n);return jR(r),new Ir(t,null,new Ie(r))}{if(!(t instanceof Ir||t instanceof fa))throw new Se(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Mt.fromString(e,...n));return jR(r),new Ir(t.firestore,t instanceof fa?t.converter:null,new Ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="AsyncQueue";class WR{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new y2(this,"async_queue_retry"),this.ju=()=>{const r=k_();r&&ye(zR,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=k_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=k_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Gs;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!ed(e))throw e;ye(zR,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,ro("INTERNAL UNHANDLED ERROR: ",HR(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const i=Gx.createAndSchedule(this,e,n,r,s=>this.Xu(s));return this.Uu.push(i),i}Ju(){this.Ku&&ke(47125,{ec:HR(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function HR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class nd extends fy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new WR,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new WR(e),this._firestoreClient=void 0,await e}}}function uJ(t,e){const n=typeof t=="object"?t:Yv(),r=typeof t=="string"?t:ev,i=Qv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=AD("firestore");s&&lJ(i,...s)}return i}function Zx(t){if(t._terminated)throw new Se(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||cJ(t),t._firestoreClient}function cJ(t){var e,n,r;const i=t._freezeSettings(),s=function(l,c,h,p){return new MQ(l,c,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,U2(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new nJ(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vc(Mn.fromBase64String(e))}catch(n){throw new Se(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Vc(Mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Se(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Se(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Se(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ye(this._lat,e._lat)||Ye(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dJ=/^__.*__$/;class hJ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new La(e,this.data,this.fieldMask,n,this.fieldTransforms):new kf(e,this.data,n,this.fieldTransforms)}}class z2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new La(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function W2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke(40011,{oc:t})}}class nT{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this._c(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new nT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return lv(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(W2(this.oc)&&dJ.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class fJ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cy(e)}dc(e,n,r,i=!1){return new nT({oc:e,methodName:n,Ec:r,path:Pn.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function H2(t){const e=t._freezeSettings(),n=cy(t._databaseId);return new fJ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pJ(t,e,n,r,i,s={}){const a=t.dc(s.merge||s.mergeFields?2:0,e,n,i);sT("Data must be an object, but it was:",a,r);const l=K2(r,a);let c,h;if(s.merge)c=new Vr(a.fieldMask),h=a.fieldTransforms;else if(s.mergeFields){const p=[];for(const m of s.mergeFields){const g=ME(e,m,n);if(!a.contains(g))throw new Se(se.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);q2(p,g)||p.push(g)}c=new Vr(p),h=a.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,h=a.fieldTransforms;return new hJ(new wr(l),c,h)}class gy extends Lf{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gy}}class rT extends Lf{_toFieldTransform(e){return new t2(e.path,new rf)}isEqual(e){return e instanceof rT}}class iT extends Lf{constructor(e,n){super(e),this.Rc=n}_toFieldTransform(e){const n=new af(e.serializer,YO(e.serializer,this.Rc));return new t2(e.path,n)}isEqual(e){return e instanceof iT&&this.Rc===e.Rc}}function mJ(t,e,n,r){const i=t.dc(1,e,n);sT("Data must be an object, but it was:",i,r);const s=[],a=wr.empty();Ma(r,(c,h)=>{const p=oT(e,c,n);h=On(h);const m=i.hc(p);if(h instanceof gy)s.push(p);else{const g=vy(h,m);g!=null&&(s.push(p),a.set(p,g))}});const l=new Vr(s);return new z2(a,l,i.fieldTransforms)}function gJ(t,e,n,r,i,s){const a=t.dc(1,e,n),l=[ME(e,r,n)],c=[i];if(s.length%2!=0)throw new Se(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)l.push(ME(e,s[g])),c.push(s[g+1]);const h=[],p=wr.empty();for(let g=l.length-1;g>=0;--g)if(!q2(h,l[g])){const x=l[g];let I=c[g];I=On(I);const E=a.hc(x);if(I instanceof gy)h.push(x);else{const b=vy(I,E);b!=null&&(h.push(x),p.set(x,b))}}const m=new Vr(h);return new z2(p,m,a.fieldTransforms)}function vy(t,e){if(G2(t=On(t)))return sT("Unsupported field value:",e,t),K2(t,e);if(t instanceof Lf)return function(r,i){if(!W2(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const l of r){let c=vy(l,i.Pc(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=On(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return YO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=fn.fromDate(r);return{timestampValue:iv(i.serializer,s)}}if(r instanceof fn){const s=new fn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:iv(i.serializer,s)}}if(r instanceof eT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vc)return{bytesValue:a2(i.serializer,r._byteString)};if(r instanceof Ir){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Tc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Vx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof tT)return function(a,l){return{mapValue:{fields:{[OO]:{stringValue:LO},[tv]:{arrayValue:{values:a.toArray().map(h=>{if(typeof h!="number")throw l.Tc("VectorValues must only contain numeric values.");return Ox(l.serializer,h)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${Jx(r)}`)}(t,e)}function K2(t,e){const n={};return RO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ma(t,(r,i)=>{const s=vy(i,e.uc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function G2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof fn||t instanceof eT||t instanceof Vc||t instanceof Ir||t instanceof Lf||t instanceof tT)}function sT(t,e,n){if(!G2(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Jx(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function ME(t,e,n){if((e=On(e))instanceof my)return e._internalPath;if(typeof e=="string")return oT(t,e);throw lv("Field path arguments must be of type string or ",t,!1,void 0,n)}const vJ=new RegExp("[~\\*/\\[\\]]");function oT(t,e,n){if(e.search(vJ)>=0)throw lv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new my(...e.split("."))._internalPath}catch{throw lv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lv(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new Se(se.INVALID_ARGUMENT,l+t+c)}function q2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ir(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Y2("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yJ extends Q2{data(){return super.data()}}function Y2(t,e){return typeof e=="string"?oT(t,e):e instanceof my?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _J(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Se(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wJ{convertValue(e,n="none"){switch(Ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Sa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ke(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ma(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[tv].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Yt(a.doubleValue));return new tT(s)}convertGeoPoint(e){return new eT(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ry(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ef(e));default:return null}}convertTimestamp(e){const n=Ta(e);return new fn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Mt.fromString(e);_t(f2(r),9688,{name:e});const i=new tf(r.get(1),r.get(3)),s=new Ie(r.popFirst(5));return i.isEqual(n)||ro(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EJ(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class X2 extends Q2{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Y2("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class lg extends X2{data(e={}){return super.data(e)}}class xJ{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new lh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new lg(this._firestore,this._userDataWriter,r.key,r,new lh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Se(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const c=new lg(i._firestore,i._userDataWriter,l.doc.key,l.doc,new lh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const c=new lg(i._firestore,i._userDataWriter,l.doc.key,l.doc,new lh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),p=a.indexOf(l.doc.key)),{type:TJ(l.type),doc:c,oldIndex:h,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function TJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(t){t=ps(t,Ir);const e=ps(t.firestore,nd);return sJ(Zx(e),t._key).then(n=>SJ(e,t,n))}class J2 extends wJ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ir(this.firestore,null,n)}}function Vf(t){t=ps(t,py);const e=ps(t.firestore,nd),n=Zx(e),r=new J2(e);return _J(t._query),oJ(n,t._query).then(i=>new xJ(e,r,t,i))}function aT(t,e,n){t=ps(t,Ir);const r=ps(t.firestore,nd),i=EJ(t.converter,e);return uT(r,[pJ(H2(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Oi.none())])}function yy(t,e,n,...r){t=ps(t,Ir);const i=ps(t.firestore,nd),s=H2(i);let a;return a=typeof(e=On(e))=="string"||e instanceof my?gJ(s,"updateDoc",t._key,e,n,r):mJ(s,"updateDoc",t._key,e),uT(i,[a.toMutation(t._key,Oi.exists(!0))])}function lT(t){return uT(ps(t.firestore,nd),[new Mx(t._key,Oi.none())])}function uT(t,e){return function(r,i){const s=new Gs;return r.asyncQueue.enqueueAndForget(async()=>GX(await iJ(r),i,s)),s.promise}(Zx(t),e)}function SJ(t,e,n){const r=n.docs.get(e._key),i=new J2(t);return new X2(t,i,e._key,r,new lh(n.hasPendingWrites,n.fromCache),e.converter)}function jf(){return new rT("serverTimestamp")}function Z2(t){return new iT("increment",t)}(function(e,n=!0){(function(i){Jc=i})(Kl),Ll(new Ea("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new nd(new yQ(r.getProvider("auth-internal")),new EQ(a,r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Se(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tf(h.options.projectId,p)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),os(Yb,Xb,e),os(Yb,Xb,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="firebasestorage.googleapis.com",IJ="storageBucket",CJ=2*60*1e3,bJ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends vs{constructor(e,n,r=0){super(O_(e),`Firebase Storage: ${n} (${O_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ys.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return O_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ms;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ms||(ms={}));function O_(t){return"storage/"+t}function RJ(){const t="An unknown error occurred, please check the error payload for server response.";return new ys(ms.UNKNOWN,t)}function AJ(){return new ys(ms.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function PJ(){return new ys(ms.CANCELED,"User canceled the upload/download.")}function NJ(t){return new ys(ms.INVALID_URL,"Invalid URL '"+t+"'.")}function kJ(t){return new ys(ms.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function KR(t){return new ys(ms.INVALID_ARGUMENT,t)}function tM(){return new ys(ms.APP_DELETED,"The Firebase app was deleted.")}function DJ(t){return new ys(ms.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ni.makeFromUrl(e,n)}catch{return new Ni(e,"")}if(r.path==="")return r;throw kJ(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function h(V){V.path_=decodeURIComponent(V.path)}const p="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",x=new RegExp(`^https?://${m}/${p}/b/${i}/o${g}`,"i"),I={bucket:1,path:3},E=n===eM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",C=new RegExp(`^https?://${E}/${i}/${b}`,"i"),R=[{regex:l,indices:c,postModify:s},{regex:x,indices:I,postModify:h},{regex:C,indices:{bucket:1,path:2},postModify:h}];for(let V=0;V<R.length;V++){const U=R[V],z=U.regex.exec(e);if(z){const N=z[U.indices.bucket];let A=z[U.indices.path];A||(A=""),r=new Ni(N,A),U.postModify(r);break}}if(r==null)throw NJ(e);return r}}class OJ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MJ(t,e,n){let r=1,i=null,s=null,a=!1,l=0;function c(){return l===2}let h=!1;function p(...b){h||(h=!0,e.apply(null,b))}function m(b){i=setTimeout(()=>{i=null,t(x,c())},b)}function g(){s&&clearTimeout(s)}function x(b,...C){if(h){g();return}if(b){g(),p.call(null,b,...C);return}if(c()||a){g(),p.call(null,b,...C);return}r<64&&(r*=2);let R;l===1?(l=2,R=0):R=(r+Math.random())*1e3,m(R)}let I=!1;function E(b){I||(I=!0,g(),!h&&(i!==null?(b||(l=2),clearTimeout(i),m(0)):b||(l=1)))}return m(0),s=setTimeout(()=>{a=!0,E(!0)},n),E}function LJ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FJ(t){return t!==void 0}function GR(t,e,n,r){if(r<e)throw KR(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw KR(`Invalid value for '${t}'. Expected ${n} or less.`)}function VJ(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var uv;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(uv||(uv={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jJ(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UJ{constructor(e,n,r,i,s,a,l,c,h,p,m,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=m,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,I)=>{this.resolve_=x,this.reject_=I,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Pm(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=l=>{const c=l.loaded,h=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,h)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const l=s.getErrorCode()===uv.NO_ERROR,c=s.getStatus();if(!l||jJ(c,this.additionalRetryCodes_)&&this.retry){const p=s.getErrorCode()===uv.ABORT;r(!1,new Pm(!1,null,p));return}const h=this.successCodes_.indexOf(c)!==-1;r(!0,new Pm(h,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());FJ(c)?s(c):s()}catch(c){a(c)}else if(l!==null){const c=RJ();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(i.canceled){const c=this.appDelete_?tM():PJ();a(c)}else{const c=AJ();a(c)}};this.canceled_?n(!1,new Pm(!1,null,!0)):this.backoffId_=MJ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&LJ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Pm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function $J(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function BJ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function zJ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function WJ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function HJ(t,e,n,r,i,s,a=!0){const l=VJ(t.urlParams),c=t.url+l,h=Object.assign({},t.headers);return zJ(h,e),$J(h,n),BJ(h,s),WJ(h,r),new UJ(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KJ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function GJ(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,n){this._service=e,n instanceof Ni?this._location=n:this._location=Ni.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new cv(e,n)}get root(){const e=new Ni(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return GJ(this._location.path)}get storage(){return this._service}get parent(){const e=KJ(this._location.path);if(e===null)return null;const n=new Ni(this._location.bucket,e);return new cv(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw DJ(e)}}function qR(t,e){const n=e==null?void 0:e[IJ];return n==null?null:Ni.makeFromBucketSpec(n,t)}function qJ(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:kD(i,t.app.options.projectId))}class QJ{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=eM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=CJ,this._maxUploadRetryTime=bJ,this._requests=new Set,i!=null?this._bucket=Ni.makeFromBucketSpec(i,this._host):this._bucket=qR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ni.makeFromBucketSpec(this._url,e):this._bucket=qR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){GR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){GR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cv(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new OJ(tM());{const a=HJ(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const QR="@firebase/storage",YR="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM="storage";function YJ(t=Yv(),e){t=On(t);const r=Qv(t,nM).getImmediate({identifier:e}),i=AD("storage");return i&&XJ(r,...i),r}function XJ(t,e,n,r={}){qJ(t,e,n,r)}function JJ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new QJ(n,r,i,e,Kl)}function ZJ(){Ll(new Ea(nM,JJ,"PUBLIC").setMultipleInstances(!0)),os(QR,YR,""),os(QR,YR,"esm2017")}ZJ();const Fs={apiKey:"AIzaSyA1DC-1OJ36uJ7BJDbfisH9r0EuDxSfpCQ",authDomain:"doctracker-4f1da.firebaseapp.com",projectId:"doctracker-4f1da",storageBucket:"doctracker-4f1da.appspot.com",messagingSenderId:"852669042127",appId:"1:852669042127:web:2ff1811ac22f2ad5fdd6ba"};let qd,dv,kt,eZ;try{!Fs.apiKey||!Fs.projectId||!Fs.appId?console.error("Firebase configuration is incomplete. Please ensure VITE_FIREBASE_API_KEY, VITE_FIREBASE_PROJECT_ID, and VITE_FIREBASE_APP_ID are set in your .env.local file."):(zK().length?(qd=Yv(),console.log("Using existing Firebase app instance.")):(qd=MD(Fs),console.log("Firebase app initialized from environment variables.")),dv=pQ(qd),kt=uJ(qd),eZ=YJ(qd),console.log("Firebase services initialized successfully."))}catch(t){console.error("Error initializing Firebase:",t),console.error("Config used:",{projectId:Fs.projectId,apiKey:Fs.apiKey?"******":"Missing",authDomain:Fs.authDomain,storageBucket:Fs.storageBucket,appId:Fs.appId})}const cT=async()=>{if(!kt)return console.error("Firestore not initialized. Cannot fetch doctors."),[];try{const t=Yl(kt,"doctors"),e=await Vf(t);return console.log("Raw doctors data from Firestore:",e.docs.map(n=>({id:n.id,...n.data()}))),e.docs.map(n=>{var i,s,a,l,c;const r=n.data();return{id:n.id,name:r.name||"Unknown",email:r.email||"",phone:r.phone||"",specialty:r.specialty||"",status:r.status||"active",rating:r.rating||0,joinedDate:r.joinedDate||new Date().toISOString(),location:{address:((i=r.location)==null?void 0:i.address)||"",coordinates:{lat:((a=(s=r.location)==null?void 0:s.coordinates)==null?void 0:a.lat)||0,lng:((c=(l=r.location)==null?void 0:l.coordinates)==null?void 0:c.lng)||0}},image:r.image||""}})}catch(t){return console.error("Error fetching doctors:",t),[]}},_y=async()=>{if(!kt)return console.error("Firestore not initialized. Cannot fetch specialties."),[];try{console.log("Starting to fetch specialties from Firestore");const t=Yl(kt,"specialty"),e=await Vf(t);console.log("Raw specialties data:",e.docs.map(r=>({id:r.id,...r.data()})));const n=e.docs.map(r=>{const i=r.data(),s=typeof i.name=="string"&&i.name.trim()!==""?i.name.trim():"Unknown Specialty";return{id:r.id,name:s,doctorCount:i.doctorCount||0,description:i.description||""}});return console.log("Processed specialties data:",n),n}catch(t){return console.error("Error fetching specialties:",t),[]}},tZ=async t=>{if(!kt)throw console.error("Firestore not initialized. Cannot get or create specialty."),new Error("Firestore not initialized.");try{const e=Yl(kt,"specialty"),r=(await Vf(e)).docs.find(a=>{var l;return((l=a.data().name)==null?void 0:l.toLowerCase())===t.toLowerCase()});if(r)return console.log(`Found existing specialty: ${r.id}`),r.id;const i=ao(e),s={name:t,doctorCount:1,description:"",createdAt:jf()};return await aT(i,s),console.log(`Created new specialty: ${i.id}`),i.id}catch(e){throw console.error("Error in getOrCreateSpecialty:",e),e}},rM=async t=>{if(!kt)throw console.error("Firestore not initialized. Cannot increment specialty count."),new Error("Firestore not initialized.");try{const e=Yl(kt,"specialty"),r=(await Vf(e)).docs.find(i=>{var s;return((s=i.data().name)==null?void 0:s.toLowerCase())===t.toLowerCase()});if(r){const i=ao(kt,"specialty",r.id);await yy(i,{doctorCount:Z2(1)}),console.log(`Incremented count for specialty: ${t}`)}else console.log(`Specialty not found, creating and setting count to 1: ${t}`),await tZ(t)}catch(e){throw console.error("Error incrementing specialty count:",e),e}},iM=async t=>{if(!kt)throw console.error("Firestore not initialized. Cannot decrement specialty count."),new Error("Firestore not initialized.");try{const e=Yl(kt,"specialty"),r=(await Vf(e)).docs.find(i=>{var s;return((s=i.data().name)==null?void 0:s.toLowerCase())===t.toLowerCase()});if(r){const i=ao(kt,"specialty",r.id),a=(await Ff(i)).data();a&&typeof a.doctorCount=="number"&&a.doctorCount>1?(await yy(i,{doctorCount:Z2(-1)}),console.log(`Decremented count for specialty: ${t}`)):(await lT(i),console.log(`Deleted specialty (count <= 1 or invalid): ${t}`))}else console.warn(`Attempted to decrement count for non-existent specialty: ${t}`)}catch(e){throw console.error("Error decrementing specialty count:",e),e}},nZ=async t=>{var e,n,r,i,s;if(!kt)throw console.error("Firestore not initialized. Cannot add doctor."),new Error("Firestore not initialized.");try{const a=Yl(kt,"doctors"),l=ao(a),c={...t,location:{address:((e=t.location)==null?void 0:e.address)||"",coordinates:{lat:typeof((r=(n=t.location)==null?void 0:n.coordinates)==null?void 0:r.lat)=="number"?t.location.coordinates.lat:0,lng:typeof((s=(i=t.location)==null?void 0:i.coordinates)==null?void 0:s.lng)=="number"?t.location.coordinates.lng:0}},status:t.status||"active",rating:0,joinedDate:new Date().toISOString(),createdAt:jf()};return await aT(l,c),console.log("Added new doctor with ID:",l.id),t.specialty&&await rM(t.specialty),l.id}catch(a){throw console.error("Error adding doctor:",a),a}},rZ=async(t,e)=>{var n,r,i,s,a;if(!kt)throw console.error("Firestore not initialized. Cannot update doctor."),new Error("Firestore not initialized.");try{const l=ao(kt,"doctors",t),c=await Ff(l);if(!c.exists())throw console.error(`Doctor with ID ${t} not found for update.`),new Error("Doctor not found.");const h=c.data();e.specialty&&h&&h.specialty!==e.specialty&&(h.specialty&&await iM(h.specialty),await rM(e.specialty),console.log(`Specialty changed from ${h.specialty} to ${e.specialty} for doctor ${t}`));const p=e.location?{location:{...h==null?void 0:h.location,...e.location,coordinates:{...(n=h==null?void 0:h.location)==null?void 0:n.coordinates,...e.location.coordinates?{lat:typeof e.location.coordinates.lat=="number"?e.location.coordinates.lat:((i=(r=h==null?void 0:h.location)==null?void 0:r.coordinates)==null?void 0:i.lat)||0,lng:typeof e.location.coordinates.lng=="number"?e.location.coordinates.lng:((a=(s=h==null?void 0:h.location)==null?void 0:s.coordinates)==null?void 0:a.lng)||0}:{}}}}:{},m={...e,...p,updatedAt:jf()};await yy(l,m),console.log("Updated doctor with ID:",t)}catch(l){throw console.error("Error updating doctor:",l),l}},iZ=async t=>{if(!kt)throw console.error("Firestore not initialized. Cannot delete doctor."),new Error("Firestore not initialized.");try{const e=ao(kt,"doctors",t),n=await Ff(e);if(n.exists()){const r=n.data();await lT(e),console.log("Deleted doctor with ID:",t),r.specialty&&await iM(r.specialty)}else console.warn(`Attempted to delete non-existent doctor with ID: ${t}`)}catch(e){throw console.error("Error deleting doctor:",e),e}},sM=async t=>{if(!kt)throw console.error("Firestore not initialized. Cannot add specialty."),new Error("Firestore not initialized.");try{const e=Yl(kt,"specialty"),n=ao(e),r={...t,name:t.name||"New Specialty",description:t.description||"",doctorCount:0,createdAt:jf()};return await aT(n,r),console.log("Added new specialty with ID:",n.id),n.id}catch(e){throw console.error("Error adding specialty:",e),e}},sZ=async(t,e)=>{if(!kt)throw console.error("Firestore not initialized. Cannot update specialty."),new Error("Firestore not initialized.");try{const n=ao(kt,"specialty",t);if(!(await Ff(n)).exists())throw console.error(`Specialty with ID ${t} not found for update.`),new Error("Specialty not found.");const i={...e,updatedAt:jf()};await yy(n,i),console.log("Updated specialty with ID:",t)}catch(n){throw console.error("Error updating specialty:",n),n}},oZ=async t=>{if(!kt)throw console.error("Firestore not initialized. Cannot delete specialty."),new Error("Firestore not initialized.");try{const e=ao(kt,"specialty",t);if(!(await Ff(e)).exists()){console.warn(`Attempted to delete non-existent specialty with ID: ${t}`);return}await lT(e),console.log("Deleted specialty with ID:",t)}catch(e){throw console.error("Error deleting specialty:",e),e}};var hv={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */hv.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",h=500,p="__lodash_placeholder__",m=1,g=2,x=4,I=1,E=2,b=1,C=2,T=4,R=8,V=16,U=32,z=64,N=128,A=256,k=512,L=30,$="...",j=800,F=16,ee=1,ge=2,le=3,he=1/0,q=9007199254740991,Y=17976931348623157e292,ue=NaN,oe=4294967295,me=oe-1,xe=oe>>>1,Xe=[["ary",N],["bind",b],["bindKey",C],["curry",R],["curryRight",V],["flip",k],["partial",U],["partialRight",z],["rearg",A]],ot="[object Arguments]",De="[object Array]",_e="[object AsyncFunction]",Ue="[object Boolean]",He="[object Date]",$e="[object DOMException]",Ke="[object Error]",Be="[object Function]",$t="[object GeneratorFunction]",wt="[object Map]",mn="[object Number]",Tn="[object Null]",rn="[object Object]",lo="[object Promise]",Bt="[object Proxy]",Ln="[object RegExp]",Fn="[object Set]",_s="[object String]",Cr="[object Symbol]",ja="[object Undefined]",fi="[object WeakMap]",zt="[object WeakSet]",St="[object ArrayBuffer]",ur="[object DataView]",br="[object Float32Array]",ws="[object Float64Array]",Ua="[object Int8Array]",Wr="[object Int16Array]",Es="[object Int32Array]",uo="[object Uint8Array]",pi="[object Uint8ClampedArray]",cr="[object Uint16Array]",$a="[object Uint32Array]",Me=/\b__p \+= '';/g,mt=/\b(__p \+=) '' \+/g,ct=/(__e\(.*?\)|\b__t\)) \+\n'';/g,sn=/&(?:amp|lt|gt|quot|#39);/g,Sn=/[&<>"']/g,$i=RegExp(sn.source),mi=RegExp(Sn.source),zf=/<%-([\s\S]+?)%>/g,Zl=/<%([\s\S]+?)%>/g,id=/<%=([\s\S]+?)%>/g,Ba=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wf=/^\w*$/,In=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eu=/[\\^$.*+?()[\]{}|]/g,za=RegExp(eu.source),xs=/^\s+/,ky=/\s/,Dy=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,co=/\{\n\/\* \[wrapped with (.+)\] \*/,Oy=/,? & /,My=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,tu=/[()=,{}\[\]\/\s]/,Hf=/\\(\\)?/g,sd=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wa=/\w*$/,Bi=/^[-+]0x[0-9a-f]+$/i,Kf=/^0b[01]+$/i,Gf=/^\[object .+?Constructor\]$/,od=/^0o[0-7]+$/i,ad=/^(?:0|[1-9]\d*)$/,qf=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ha=/($^)/,Ly=/['\n\r\u2028\u2029\\]/g,Ts="\\ud800-\\udfff",Qf="\\u0300-\\u036f",ld="\\ufe20-\\ufe2f",Ka="\\u20d0-\\u20ff",zi=Qf+ld+Ka,nu="\\u2700-\\u27bf",Yf="a-z\\xdf-\\xf6\\xf8-\\xff",Xf="\\xac\\xb1\\xd7\\xf7",Jf="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Zf="\\u2000-\\u206f",ud=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ru="A-Z\\xc0-\\xd6\\xd8-\\xde",cd="\\ufe0e\\ufe0f",dd=Xf+Jf+Zf+ud,hd="['’]",Fy="["+Ts+"]",fd="["+dd+"]",Ga="["+zi+"]",ep="\\d+",Ss="["+nu+"]",Hr="["+Yf+"]",qa="[^"+Ts+dd+ep+nu+Yf+ru+"]",ho="\\ud83c[\\udffb-\\udfff]",tp="(?:"+Ga+"|"+ho+")",It="[^"+Ts+"]",fo="(?:\\ud83c[\\udde6-\\uddff]){2}",Is="[\\ud800-\\udbff][\\udc00-\\udfff]",Kr="["+ru+"]",np="\\u200d",pd="(?:"+Hr+"|"+qa+")",Vy="(?:"+Kr+"|"+qa+")",rp="(?:"+hd+"(?:d|ll|m|re|s|t|ve))?",ip="(?:"+hd+"(?:D|LL|M|RE|S|T|VE))?",sp=tp+"?",po="["+cd+"]?",Wi="(?:"+np+"(?:"+[It,fo,Is].join("|")+")"+po+sp+")*",op="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ap="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",md=po+sp+Wi,mo="(?:"+[Ss,fo,Is].join("|")+")"+md,jy="(?:"+[It+Ga+"?",Ga,fo,Is,Fy].join("|")+")",Uy=RegExp(hd,"g"),$y=RegExp(Ga,"g"),Gr=RegExp(ho+"(?="+ho+")|"+jy+md,"g"),By=RegExp([Kr+"?"+Hr+"+"+rp+"(?="+[fd,Kr,"$"].join("|")+")",Vy+"+"+ip+"(?="+[fd,Kr+pd,"$"].join("|")+")",Kr+"?"+pd+"+"+rp,Kr+"+"+ip,ap,op,ep,mo].join("|"),"g"),zy=RegExp("["+np+Ts+zi+cd+"]"),iu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,su=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],lp=-1,dt={};dt[br]=dt[ws]=dt[Ua]=dt[Wr]=dt[Es]=dt[uo]=dt[pi]=dt[cr]=dt[$a]=!0,dt[ot]=dt[De]=dt[St]=dt[Ue]=dt[ur]=dt[He]=dt[Ke]=dt[Be]=dt[wt]=dt[mn]=dt[rn]=dt[Ln]=dt[Fn]=dt[_s]=dt[fi]=!1;var ut={};ut[ot]=ut[De]=ut[St]=ut[ur]=ut[Ue]=ut[He]=ut[br]=ut[ws]=ut[Ua]=ut[Wr]=ut[Es]=ut[wt]=ut[mn]=ut[rn]=ut[Ln]=ut[Fn]=ut[_s]=ut[Cr]=ut[uo]=ut[pi]=ut[cr]=ut[$a]=!0,ut[Ke]=ut[Be]=ut[fi]=!1;var up={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},gd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Dt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Wy={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Hy=parseFloat,cp=parseInt,vd=typeof Fd=="object"&&Fd&&Fd.Object===Object&&Fd,dp=typeof self=="object"&&self&&self.Object===Object&&self,Wt=vd||dp||Function("return this")(),ou=e&&!e.nodeType&&e,Cn=ou&&!0&&t&&!t.nodeType&&t,yd=Cn&&Cn.exports===ou,_d=yd&&vd.process,gn=function(){try{var K=Cn&&Cn.require&&Cn.require("util").types;return K||_d&&_d.binding&&_d.binding("util")}catch{}}(),wd=gn&&gn.isArrayBuffer,au=gn&&gn.isDate,Qa=gn&&gn.isMap,Ed=gn&&gn.isRegExp,Ya=gn&&gn.isSet,hp=gn&&gn.isTypedArray;function Vn(K,Z,X){switch(X.length){case 0:return K.call(Z);case 1:return K.call(Z,X[0]);case 2:return K.call(Z,X[0],X[1]);case 3:return K.call(Z,X[0],X[1],X[2])}return K.apply(Z,X)}function Xa(K,Z,X,we){for(var Fe=-1,ft=K==null?0:K.length;++Fe<ft;){var an=K[Fe];Z(we,an,X(an),K)}return we}function Jn(K,Z){for(var X=-1,we=K==null?0:K.length;++X<we&&Z(K[X],X,K)!==!1;);return K}function fp(K,Z){for(var X=K==null?0:K.length;X--&&Z(K[X],X,K)!==!1;);return K}function lu(K,Z){for(var X=-1,we=K==null?0:K.length;++X<we;)if(!Z(K[X],X,K))return!1;return!0}function qr(K,Z){for(var X=-1,we=K==null?0:K.length,Fe=0,ft=[];++X<we;){var an=K[X];Z(an,X,K)&&(ft[Fe++]=an)}return ft}function Ja(K,Z){var X=K==null?0:K.length;return!!X&&Cs(K,Z,0)>-1}function go(K,Z,X){for(var we=-1,Fe=K==null?0:K.length;++we<Fe;)if(X(Z,K[we]))return!0;return!1}function Ct(K,Z){for(var X=-1,we=K==null?0:K.length,Fe=Array(we);++X<we;)Fe[X]=Z(K[X],X,K);return Fe}function gi(K,Z){for(var X=-1,we=Z.length,Fe=K.length;++X<we;)K[Fe+X]=Z[X];return K}function vi(K,Z,X,we){var Fe=-1,ft=K==null?0:K.length;for(we&&ft&&(X=K[++Fe]);++Fe<ft;)X=Z(X,K[Fe],Fe,K);return X}function pp(K,Z,X,we){var Fe=K==null?0:K.length;for(we&&Fe&&(X=K[--Fe]);Fe--;)X=Z(X,K[Fe],Fe,K);return X}function uu(K,Z){for(var X=-1,we=K==null?0:K.length;++X<we;)if(Z(K[X],X,K))return!0;return!1}var mp=S("length");function gp(K){return K.split("")}function cu(K){return K.match(My)||[]}function jn(K,Z,X){var we;return X(K,function(Fe,ft,an){if(Z(Fe,ft,an))return we=ft,!1}),we}function Za(K,Z,X,we){for(var Fe=K.length,ft=X+(we?1:-1);we?ft--:++ft<Fe;)if(Z(K[ft],ft,K))return ft;return-1}function Cs(K,Z,X){return Z===Z?lV(K,Z,X):Za(K,d,X)}function vo(K,Z,X,we){for(var Fe=X-1,ft=K.length;++Fe<ft;)if(we(K[Fe],Z))return Fe;return-1}function d(K){return K!==K}function y(K,Z){var X=K==null?0:K.length;return X?ce(K,Z)/X:ue}function S(K){return function(Z){return Z==null?n:Z[K]}}function O(K){return function(Z){return K==null?n:K[Z]}}function Q(K,Z,X,we,Fe){return Fe(K,function(ft,an,bt){X=we?(we=!1,ft):Z(X,ft,an,bt)}),X}function J(K,Z){var X=K.length;for(K.sort(Z);X--;)K[X]=K[X].value;return K}function ce(K,Z){for(var X,we=-1,Fe=K.length;++we<Fe;){var ft=Z(K[we]);ft!==n&&(X=X===n?ft:X+ft)}return X}function ht(K,Z){for(var X=-1,we=Array(K);++X<K;)we[X]=Z(X);return we}function on(K,Z){return Ct(Z,function(X){return[X,K[X]]})}function rt(K){return K&&K.slice(0,OT(K)+1).replace(xs,"")}function gt(K){return function(Z){return K(Z)}}function en(K,Z){return Ct(Z,function(X){return K[X]})}function Qr(K,Z){return K.has(Z)}function dr(K,Z){for(var X=-1,we=K.length;++X<we&&Cs(Z,K[X],0)>-1;);return X}function el(K,Z){for(var X=K.length;X--&&Cs(Z,K[X],0)>-1;);return X}function xd(K,Z){for(var X=K.length,we=0;X--;)K[X]===Z&&++we;return we}var tV=O(up),nV=O(gd);function rV(K){return"\\"+Wy[K]}function iV(K,Z){return K==null?n:K[Z]}function du(K){return zy.test(K)}function sV(K){return iu.test(K)}function oV(K){for(var Z,X=[];!(Z=K.next()).done;)X.push(Z.value);return X}function Ky(K){var Z=-1,X=Array(K.size);return K.forEach(function(we,Fe){X[++Z]=[Fe,we]}),X}function DT(K,Z){return function(X){return K(Z(X))}}function yo(K,Z){for(var X=-1,we=K.length,Fe=0,ft=[];++X<we;){var an=K[X];(an===Z||an===p)&&(K[X]=p,ft[Fe++]=X)}return ft}function vp(K){var Z=-1,X=Array(K.size);return K.forEach(function(we){X[++Z]=we}),X}function aV(K){var Z=-1,X=Array(K.size);return K.forEach(function(we){X[++Z]=[we,we]}),X}function lV(K,Z,X){for(var we=X-1,Fe=K.length;++we<Fe;)if(K[we]===Z)return we;return-1}function uV(K,Z,X){for(var we=X+1;we--;)if(K[we]===Z)return we;return we}function hu(K){return du(K)?dV(K):mp(K)}function yi(K){return du(K)?hV(K):gp(K)}function OT(K){for(var Z=K.length;Z--&&ky.test(K.charAt(Z)););return Z}var cV=O(Dt);function dV(K){for(var Z=Gr.lastIndex=0;Gr.test(K);)++Z;return Z}function hV(K){return K.match(Gr)||[]}function fV(K){return K.match(By)||[]}var pV=function K(Z){Z=Z==null?Wt:fu.defaults(Wt.Object(),Z,fu.pick(Wt,su));var X=Z.Array,we=Z.Date,Fe=Z.Error,ft=Z.Function,an=Z.Math,bt=Z.Object,Gy=Z.RegExp,mV=Z.String,Yr=Z.TypeError,yp=X.prototype,gV=ft.prototype,pu=bt.prototype,_p=Z["__core-js_shared__"],wp=gV.toString,Et=pu.hasOwnProperty,vV=0,MT=function(){var o=/[^.]+$/.exec(_p&&_p.keys&&_p.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),Ep=pu.toString,yV=wp.call(bt),_V=Wt._,wV=Gy("^"+wp.call(Et).replace(eu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xp=yd?Z.Buffer:n,_o=Z.Symbol,Tp=Z.Uint8Array,LT=xp?xp.allocUnsafe:n,Sp=DT(bt.getPrototypeOf,bt),FT=bt.create,VT=pu.propertyIsEnumerable,Ip=yp.splice,jT=_o?_o.isConcatSpreadable:n,Td=_o?_o.iterator:n,tl=_o?_o.toStringTag:n,Cp=function(){try{var o=ol(bt,"defineProperty");return o({},"",{}),o}catch{}}(),EV=Z.clearTimeout!==Wt.clearTimeout&&Z.clearTimeout,xV=we&&we.now!==Wt.Date.now&&we.now,TV=Z.setTimeout!==Wt.setTimeout&&Z.setTimeout,bp=an.ceil,Rp=an.floor,qy=bt.getOwnPropertySymbols,SV=xp?xp.isBuffer:n,UT=Z.isFinite,IV=yp.join,CV=DT(bt.keys,bt),ln=an.max,Un=an.min,bV=we.now,RV=Z.parseInt,$T=an.random,AV=yp.reverse,Qy=ol(Z,"DataView"),Sd=ol(Z,"Map"),Yy=ol(Z,"Promise"),mu=ol(Z,"Set"),Id=ol(Z,"WeakMap"),Cd=ol(bt,"create"),Ap=Id&&new Id,gu={},PV=al(Qy),NV=al(Sd),kV=al(Yy),DV=al(mu),OV=al(Id),Pp=_o?_o.prototype:n,bd=Pp?Pp.valueOf:n,BT=Pp?Pp.toString:n;function D(o){if(Ht(o)&&!je(o)&&!(o instanceof et)){if(o instanceof Xr)return o;if(Et.call(o,"__wrapped__"))return zS(o)}return new Xr(o)}var vu=function(){function o(){}return function(u){if(!Lt(u))return{};if(FT)return FT(u);o.prototype=u;var f=new o;return o.prototype=n,f}}();function Np(){}function Xr(o,u){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}D.templateSettings={escape:zf,evaluate:Zl,interpolate:id,variable:"",imports:{_:D}},D.prototype=Np.prototype,D.prototype.constructor=D,Xr.prototype=vu(Np.prototype),Xr.prototype.constructor=Xr;function et(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=oe,this.__views__=[]}function MV(){var o=new et(this.__wrapped__);return o.__actions__=hr(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=hr(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=hr(this.__views__),o}function LV(){if(this.__filtered__){var o=new et(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function FV(){var o=this.__wrapped__.value(),u=this.__dir__,f=je(o),_=u<0,P=f?o.length:0,M=Q4(0,P,this.__views__),B=M.start,W=M.end,G=W-B,te=_?W:B-1,ne=this.__iteratees__,ie=ne.length,fe=0,Te=Un(G,this.__takeCount__);if(!f||!_&&P==G&&Te==G)return hS(o,this.__actions__);var Ae=[];e:for(;G--&&fe<Te;){te+=u;for(var Ge=-1,Pe=o[te];++Ge<ie;){var Je=ne[Ge],it=Je.iteratee,Pr=Je.type,tr=it(Pe);if(Pr==ge)Pe=tr;else if(!tr){if(Pr==ee)continue e;break e}}Ae[fe++]=Pe}return Ae}et.prototype=vu(Np.prototype),et.prototype.constructor=et;function nl(o){var u=-1,f=o==null?0:o.length;for(this.clear();++u<f;){var _=o[u];this.set(_[0],_[1])}}function VV(){this.__data__=Cd?Cd(null):{},this.size=0}function jV(o){var u=this.has(o)&&delete this.__data__[o];return this.size-=u?1:0,u}function UV(o){var u=this.__data__;if(Cd){var f=u[o];return f===c?n:f}return Et.call(u,o)?u[o]:n}function $V(o){var u=this.__data__;return Cd?u[o]!==n:Et.call(u,o)}function BV(o,u){var f=this.__data__;return this.size+=this.has(o)?0:1,f[o]=Cd&&u===n?c:u,this}nl.prototype.clear=VV,nl.prototype.delete=jV,nl.prototype.get=UV,nl.prototype.has=$V,nl.prototype.set=BV;function bs(o){var u=-1,f=o==null?0:o.length;for(this.clear();++u<f;){var _=o[u];this.set(_[0],_[1])}}function zV(){this.__data__=[],this.size=0}function WV(o){var u=this.__data__,f=kp(u,o);if(f<0)return!1;var _=u.length-1;return f==_?u.pop():Ip.call(u,f,1),--this.size,!0}function HV(o){var u=this.__data__,f=kp(u,o);return f<0?n:u[f][1]}function KV(o){return kp(this.__data__,o)>-1}function GV(o,u){var f=this.__data__,_=kp(f,o);return _<0?(++this.size,f.push([o,u])):f[_][1]=u,this}bs.prototype.clear=zV,bs.prototype.delete=WV,bs.prototype.get=HV,bs.prototype.has=KV,bs.prototype.set=GV;function Rs(o){var u=-1,f=o==null?0:o.length;for(this.clear();++u<f;){var _=o[u];this.set(_[0],_[1])}}function qV(){this.size=0,this.__data__={hash:new nl,map:new(Sd||bs),string:new nl}}function QV(o){var u=Wp(this,o).delete(o);return this.size-=u?1:0,u}function YV(o){return Wp(this,o).get(o)}function XV(o){return Wp(this,o).has(o)}function JV(o,u){var f=Wp(this,o),_=f.size;return f.set(o,u),this.size+=f.size==_?0:1,this}Rs.prototype.clear=qV,Rs.prototype.delete=QV,Rs.prototype.get=YV,Rs.prototype.has=XV,Rs.prototype.set=JV;function rl(o){var u=-1,f=o==null?0:o.length;for(this.__data__=new Rs;++u<f;)this.add(o[u])}function ZV(o){return this.__data__.set(o,c),this}function e4(o){return this.__data__.has(o)}rl.prototype.add=rl.prototype.push=ZV,rl.prototype.has=e4;function _i(o){var u=this.__data__=new bs(o);this.size=u.size}function t4(){this.__data__=new bs,this.size=0}function n4(o){var u=this.__data__,f=u.delete(o);return this.size=u.size,f}function r4(o){return this.__data__.get(o)}function i4(o){return this.__data__.has(o)}function s4(o,u){var f=this.__data__;if(f instanceof bs){var _=f.__data__;if(!Sd||_.length<i-1)return _.push([o,u]),this.size=++f.size,this;f=this.__data__=new Rs(_)}return f.set(o,u),this.size=f.size,this}_i.prototype.clear=t4,_i.prototype.delete=n4,_i.prototype.get=r4,_i.prototype.has=i4,_i.prototype.set=s4;function zT(o,u){var f=je(o),_=!f&&ll(o),P=!f&&!_&&So(o),M=!f&&!_&&!P&&Eu(o),B=f||_||P||M,W=B?ht(o.length,mV):[],G=W.length;for(var te in o)(u||Et.call(o,te))&&!(B&&(te=="length"||P&&(te=="offset"||te=="parent")||M&&(te=="buffer"||te=="byteLength"||te=="byteOffset")||ks(te,G)))&&W.push(te);return W}function WT(o){var u=o.length;return u?o[a0(0,u-1)]:n}function o4(o,u){return Hp(hr(o),il(u,0,o.length))}function a4(o){return Hp(hr(o))}function Xy(o,u,f){(f!==n&&!wi(o[u],f)||f===n&&!(u in o))&&As(o,u,f)}function Rd(o,u,f){var _=o[u];(!(Et.call(o,u)&&wi(_,f))||f===n&&!(u in o))&&As(o,u,f)}function kp(o,u){for(var f=o.length;f--;)if(wi(o[f][0],u))return f;return-1}function l4(o,u,f,_){return wo(o,function(P,M,B){u(_,P,f(P),B)}),_}function HT(o,u){return o&&Ki(u,vn(u),o)}function u4(o,u){return o&&Ki(u,pr(u),o)}function As(o,u,f){u=="__proto__"&&Cp?Cp(o,u,{configurable:!0,enumerable:!0,value:f,writable:!0}):o[u]=f}function Jy(o,u){for(var f=-1,_=u.length,P=X(_),M=o==null;++f<_;)P[f]=M?n:k0(o,u[f]);return P}function il(o,u,f){return o===o&&(f!==n&&(o=o<=f?o:f),u!==n&&(o=o>=u?o:u)),o}function Jr(o,u,f,_,P,M){var B,W=u&m,G=u&g,te=u&x;if(f&&(B=P?f(o,_,P,M):f(o)),B!==n)return B;if(!Lt(o))return o;var ne=je(o);if(ne){if(B=X4(o),!W)return hr(o,B)}else{var ie=$n(o),fe=ie==Be||ie==$t;if(So(o))return mS(o,W);if(ie==rn||ie==ot||fe&&!P){if(B=G||fe?{}:OS(o),!W)return G?U4(o,u4(B,o)):j4(o,HT(B,o))}else{if(!ut[ie])return P?o:{};B=J4(o,ie,W)}}M||(M=new _i);var Te=M.get(o);if(Te)return Te;M.set(o,B),uI(o)?o.forEach(function(Pe){B.add(Jr(Pe,u,f,Pe,o,M))}):aI(o)&&o.forEach(function(Pe,Je){B.set(Je,Jr(Pe,u,f,Je,o,M))});var Ae=te?G?y0:v0:G?pr:vn,Ge=ne?n:Ae(o);return Jn(Ge||o,function(Pe,Je){Ge&&(Je=Pe,Pe=o[Je]),Rd(B,Je,Jr(Pe,u,f,Je,o,M))}),B}function c4(o){var u=vn(o);return function(f){return KT(f,o,u)}}function KT(o,u,f){var _=f.length;if(o==null)return!_;for(o=bt(o);_--;){var P=f[_],M=u[P],B=o[P];if(B===n&&!(P in o)||!M(B))return!1}return!0}function GT(o,u,f){if(typeof o!="function")throw new Yr(a);return Md(function(){o.apply(n,f)},u)}function Ad(o,u,f,_){var P=-1,M=Ja,B=!0,W=o.length,G=[],te=u.length;if(!W)return G;f&&(u=Ct(u,gt(f))),_?(M=go,B=!1):u.length>=i&&(M=Qr,B=!1,u=new rl(u));e:for(;++P<W;){var ne=o[P],ie=f==null?ne:f(ne);if(ne=_||ne!==0?ne:0,B&&ie===ie){for(var fe=te;fe--;)if(u[fe]===ie)continue e;G.push(ne)}else M(u,ie,_)||G.push(ne)}return G}var wo=wS(Hi),qT=wS(e0,!0);function d4(o,u){var f=!0;return wo(o,function(_,P,M){return f=!!u(_,P,M),f}),f}function Dp(o,u,f){for(var _=-1,P=o.length;++_<P;){var M=o[_],B=u(M);if(B!=null&&(W===n?B===B&&!Ar(B):f(B,W)))var W=B,G=M}return G}function h4(o,u,f,_){var P=o.length;for(f=ze(f),f<0&&(f=-f>P?0:P+f),_=_===n||_>P?P:ze(_),_<0&&(_+=P),_=f>_?0:dI(_);f<_;)o[f++]=u;return o}function QT(o,u){var f=[];return wo(o,function(_,P,M){u(_,P,M)&&f.push(_)}),f}function bn(o,u,f,_,P){var M=-1,B=o.length;for(f||(f=ej),P||(P=[]);++M<B;){var W=o[M];u>0&&f(W)?u>1?bn(W,u-1,f,_,P):gi(P,W):_||(P[P.length]=W)}return P}var Zy=ES(),YT=ES(!0);function Hi(o,u){return o&&Zy(o,u,vn)}function e0(o,u){return o&&YT(o,u,vn)}function Op(o,u){return qr(u,function(f){return Ds(o[f])})}function sl(o,u){u=xo(u,o);for(var f=0,_=u.length;o!=null&&f<_;)o=o[Gi(u[f++])];return f&&f==_?o:n}function XT(o,u,f){var _=u(o);return je(o)?_:gi(_,f(o))}function Zn(o){return o==null?o===n?ja:Tn:tl&&tl in bt(o)?q4(o):aj(o)}function t0(o,u){return o>u}function f4(o,u){return o!=null&&Et.call(o,u)}function p4(o,u){return o!=null&&u in bt(o)}function m4(o,u,f){return o>=Un(u,f)&&o<ln(u,f)}function n0(o,u,f){for(var _=f?go:Ja,P=o[0].length,M=o.length,B=M,W=X(M),G=1/0,te=[];B--;){var ne=o[B];B&&u&&(ne=Ct(ne,gt(u))),G=Un(ne.length,G),W[B]=!f&&(u||P>=120&&ne.length>=120)?new rl(B&&ne):n}ne=o[0];var ie=-1,fe=W[0];e:for(;++ie<P&&te.length<G;){var Te=ne[ie],Ae=u?u(Te):Te;if(Te=f||Te!==0?Te:0,!(fe?Qr(fe,Ae):_(te,Ae,f))){for(B=M;--B;){var Ge=W[B];if(!(Ge?Qr(Ge,Ae):_(o[B],Ae,f)))continue e}fe&&fe.push(Ae),te.push(Te)}}return te}function g4(o,u,f,_){return Hi(o,function(P,M,B){u(_,f(P),M,B)}),_}function Pd(o,u,f){u=xo(u,o),o=VS(o,u);var _=o==null?o:o[Gi(ei(u))];return _==null?n:Vn(_,o,f)}function JT(o){return Ht(o)&&Zn(o)==ot}function v4(o){return Ht(o)&&Zn(o)==St}function y4(o){return Ht(o)&&Zn(o)==He}function Nd(o,u,f,_,P){return o===u?!0:o==null||u==null||!Ht(o)&&!Ht(u)?o!==o&&u!==u:_4(o,u,f,_,Nd,P)}function _4(o,u,f,_,P,M){var B=je(o),W=je(u),G=B?De:$n(o),te=W?De:$n(u);G=G==ot?rn:G,te=te==ot?rn:te;var ne=G==rn,ie=te==rn,fe=G==te;if(fe&&So(o)){if(!So(u))return!1;B=!0,ne=!1}if(fe&&!ne)return M||(M=new _i),B||Eu(o)?NS(o,u,f,_,P,M):K4(o,u,G,f,_,P,M);if(!(f&I)){var Te=ne&&Et.call(o,"__wrapped__"),Ae=ie&&Et.call(u,"__wrapped__");if(Te||Ae){var Ge=Te?o.value():o,Pe=Ae?u.value():u;return M||(M=new _i),P(Ge,Pe,f,_,M)}}return fe?(M||(M=new _i),G4(o,u,f,_,P,M)):!1}function w4(o){return Ht(o)&&$n(o)==wt}function r0(o,u,f,_){var P=f.length,M=P,B=!_;if(o==null)return!M;for(o=bt(o);P--;){var W=f[P];if(B&&W[2]?W[1]!==o[W[0]]:!(W[0]in o))return!1}for(;++P<M;){W=f[P];var G=W[0],te=o[G],ne=W[1];if(B&&W[2]){if(te===n&&!(G in o))return!1}else{var ie=new _i;if(_)var fe=_(te,ne,G,o,u,ie);if(!(fe===n?Nd(ne,te,I|E,_,ie):fe))return!1}}return!0}function ZT(o){if(!Lt(o)||nj(o))return!1;var u=Ds(o)?wV:Gf;return u.test(al(o))}function E4(o){return Ht(o)&&Zn(o)==Ln}function x4(o){return Ht(o)&&$n(o)==Fn}function T4(o){return Ht(o)&&Xp(o.length)&&!!dt[Zn(o)]}function eS(o){return typeof o=="function"?o:o==null?mr:typeof o=="object"?je(o)?rS(o[0],o[1]):nS(o):xI(o)}function i0(o){if(!Od(o))return CV(o);var u=[];for(var f in bt(o))Et.call(o,f)&&f!="constructor"&&u.push(f);return u}function S4(o){if(!Lt(o))return oj(o);var u=Od(o),f=[];for(var _ in o)_=="constructor"&&(u||!Et.call(o,_))||f.push(_);return f}function s0(o,u){return o<u}function tS(o,u){var f=-1,_=fr(o)?X(o.length):[];return wo(o,function(P,M,B){_[++f]=u(P,M,B)}),_}function nS(o){var u=w0(o);return u.length==1&&u[0][2]?LS(u[0][0],u[0][1]):function(f){return f===o||r0(f,o,u)}}function rS(o,u){return x0(o)&&MS(u)?LS(Gi(o),u):function(f){var _=k0(f,o);return _===n&&_===u?D0(f,o):Nd(u,_,I|E)}}function Mp(o,u,f,_,P){o!==u&&Zy(u,function(M,B){if(P||(P=new _i),Lt(M))I4(o,u,B,f,Mp,_,P);else{var W=_?_(S0(o,B),M,B+"",o,u,P):n;W===n&&(W=M),Xy(o,B,W)}},pr)}function I4(o,u,f,_,P,M,B){var W=S0(o,f),G=S0(u,f),te=B.get(G);if(te){Xy(o,f,te);return}var ne=M?M(W,G,f+"",o,u,B):n,ie=ne===n;if(ie){var fe=je(G),Te=!fe&&So(G),Ae=!fe&&!Te&&Eu(G);ne=G,fe||Te||Ae?je(W)?ne=W:qt(W)?ne=hr(W):Te?(ie=!1,ne=mS(G,!0)):Ae?(ie=!1,ne=gS(G,!0)):ne=[]:Ld(G)||ll(G)?(ne=W,ll(W)?ne=hI(W):(!Lt(W)||Ds(W))&&(ne=OS(G))):ie=!1}ie&&(B.set(G,ne),P(ne,G,_,M,B),B.delete(G)),Xy(o,f,ne)}function iS(o,u){var f=o.length;if(f)return u+=u<0?f:0,ks(u,f)?o[u]:n}function sS(o,u,f){u.length?u=Ct(u,function(M){return je(M)?function(B){return sl(B,M.length===1?M[0]:M)}:M}):u=[mr];var _=-1;u=Ct(u,gt(Ce()));var P=tS(o,function(M,B,W){var G=Ct(u,function(te){return te(M)});return{criteria:G,index:++_,value:M}});return J(P,function(M,B){return V4(M,B,f)})}function C4(o,u){return oS(o,u,function(f,_){return D0(o,_)})}function oS(o,u,f){for(var _=-1,P=u.length,M={};++_<P;){var B=u[_],W=sl(o,B);f(W,B)&&kd(M,xo(B,o),W)}return M}function b4(o){return function(u){return sl(u,o)}}function o0(o,u,f,_){var P=_?vo:Cs,M=-1,B=u.length,W=o;for(o===u&&(u=hr(u)),f&&(W=Ct(o,gt(f)));++M<B;)for(var G=0,te=u[M],ne=f?f(te):te;(G=P(W,ne,G,_))>-1;)W!==o&&Ip.call(W,G,1),Ip.call(o,G,1);return o}function aS(o,u){for(var f=o?u.length:0,_=f-1;f--;){var P=u[f];if(f==_||P!==M){var M=P;ks(P)?Ip.call(o,P,1):c0(o,P)}}return o}function a0(o,u){return o+Rp($T()*(u-o+1))}function R4(o,u,f,_){for(var P=-1,M=ln(bp((u-o)/(f||1)),0),B=X(M);M--;)B[_?M:++P]=o,o+=f;return B}function l0(o,u){var f="";if(!o||u<1||u>q)return f;do u%2&&(f+=o),u=Rp(u/2),u&&(o+=o);while(u);return f}function Qe(o,u){return I0(FS(o,u,mr),o+"")}function A4(o){return WT(xu(o))}function P4(o,u){var f=xu(o);return Hp(f,il(u,0,f.length))}function kd(o,u,f,_){if(!Lt(o))return o;u=xo(u,o);for(var P=-1,M=u.length,B=M-1,W=o;W!=null&&++P<M;){var G=Gi(u[P]),te=f;if(G==="__proto__"||G==="constructor"||G==="prototype")return o;if(P!=B){var ne=W[G];te=_?_(ne,G,W):n,te===n&&(te=Lt(ne)?ne:ks(u[P+1])?[]:{})}Rd(W,G,te),W=W[G]}return o}var lS=Ap?function(o,u){return Ap.set(o,u),o}:mr,N4=Cp?function(o,u){return Cp(o,"toString",{configurable:!0,enumerable:!1,value:M0(u),writable:!0})}:mr;function k4(o){return Hp(xu(o))}function Zr(o,u,f){var _=-1,P=o.length;u<0&&(u=-u>P?0:P+u),f=f>P?P:f,f<0&&(f+=P),P=u>f?0:f-u>>>0,u>>>=0;for(var M=X(P);++_<P;)M[_]=o[_+u];return M}function D4(o,u){var f;return wo(o,function(_,P,M){return f=u(_,P,M),!f}),!!f}function Lp(o,u,f){var _=0,P=o==null?_:o.length;if(typeof u=="number"&&u===u&&P<=xe){for(;_<P;){var M=_+P>>>1,B=o[M];B!==null&&!Ar(B)&&(f?B<=u:B<u)?_=M+1:P=M}return P}return u0(o,u,mr,f)}function u0(o,u,f,_){var P=0,M=o==null?0:o.length;if(M===0)return 0;u=f(u);for(var B=u!==u,W=u===null,G=Ar(u),te=u===n;P<M;){var ne=Rp((P+M)/2),ie=f(o[ne]),fe=ie!==n,Te=ie===null,Ae=ie===ie,Ge=Ar(ie);if(B)var Pe=_||Ae;else te?Pe=Ae&&(_||fe):W?Pe=Ae&&fe&&(_||!Te):G?Pe=Ae&&fe&&!Te&&(_||!Ge):Te||Ge?Pe=!1:Pe=_?ie<=u:ie<u;Pe?P=ne+1:M=ne}return Un(M,me)}function uS(o,u){for(var f=-1,_=o.length,P=0,M=[];++f<_;){var B=o[f],W=u?u(B):B;if(!f||!wi(W,G)){var G=W;M[P++]=B===0?0:B}}return M}function cS(o){return typeof o=="number"?o:Ar(o)?ue:+o}function Rr(o){if(typeof o=="string")return o;if(je(o))return Ct(o,Rr)+"";if(Ar(o))return BT?BT.call(o):"";var u=o+"";return u=="0"&&1/o==-he?"-0":u}function Eo(o,u,f){var _=-1,P=Ja,M=o.length,B=!0,W=[],G=W;if(f)B=!1,P=go;else if(M>=i){var te=u?null:W4(o);if(te)return vp(te);B=!1,P=Qr,G=new rl}else G=u?[]:W;e:for(;++_<M;){var ne=o[_],ie=u?u(ne):ne;if(ne=f||ne!==0?ne:0,B&&ie===ie){for(var fe=G.length;fe--;)if(G[fe]===ie)continue e;u&&G.push(ie),W.push(ne)}else P(G,ie,f)||(G!==W&&G.push(ie),W.push(ne))}return W}function c0(o,u){return u=xo(u,o),o=VS(o,u),o==null||delete o[Gi(ei(u))]}function dS(o,u,f,_){return kd(o,u,f(sl(o,u)),_)}function Fp(o,u,f,_){for(var P=o.length,M=_?P:-1;(_?M--:++M<P)&&u(o[M],M,o););return f?Zr(o,_?0:M,_?M+1:P):Zr(o,_?M+1:0,_?P:M)}function hS(o,u){var f=o;return f instanceof et&&(f=f.value()),vi(u,function(_,P){return P.func.apply(P.thisArg,gi([_],P.args))},f)}function d0(o,u,f){var _=o.length;if(_<2)return _?Eo(o[0]):[];for(var P=-1,M=X(_);++P<_;)for(var B=o[P],W=-1;++W<_;)W!=P&&(M[P]=Ad(M[P]||B,o[W],u,f));return Eo(bn(M,1),u,f)}function fS(o,u,f){for(var _=-1,P=o.length,M=u.length,B={};++_<P;){var W=_<M?u[_]:n;f(B,o[_],W)}return B}function h0(o){return qt(o)?o:[]}function f0(o){return typeof o=="function"?o:mr}function xo(o,u){return je(o)?o:x0(o,u)?[o]:BS(vt(o))}var O4=Qe;function To(o,u,f){var _=o.length;return f=f===n?_:f,!u&&f>=_?o:Zr(o,u,f)}var pS=EV||function(o){return Wt.clearTimeout(o)};function mS(o,u){if(u)return o.slice();var f=o.length,_=LT?LT(f):new o.constructor(f);return o.copy(_),_}function p0(o){var u=new o.constructor(o.byteLength);return new Tp(u).set(new Tp(o)),u}function M4(o,u){var f=u?p0(o.buffer):o.buffer;return new o.constructor(f,o.byteOffset,o.byteLength)}function L4(o){var u=new o.constructor(o.source,Wa.exec(o));return u.lastIndex=o.lastIndex,u}function F4(o){return bd?bt(bd.call(o)):{}}function gS(o,u){var f=u?p0(o.buffer):o.buffer;return new o.constructor(f,o.byteOffset,o.length)}function vS(o,u){if(o!==u){var f=o!==n,_=o===null,P=o===o,M=Ar(o),B=u!==n,W=u===null,G=u===u,te=Ar(u);if(!W&&!te&&!M&&o>u||M&&B&&G&&!W&&!te||_&&B&&G||!f&&G||!P)return 1;if(!_&&!M&&!te&&o<u||te&&f&&P&&!_&&!M||W&&f&&P||!B&&P||!G)return-1}return 0}function V4(o,u,f){for(var _=-1,P=o.criteria,M=u.criteria,B=P.length,W=f.length;++_<B;){var G=vS(P[_],M[_]);if(G){if(_>=W)return G;var te=f[_];return G*(te=="desc"?-1:1)}}return o.index-u.index}function yS(o,u,f,_){for(var P=-1,M=o.length,B=f.length,W=-1,G=u.length,te=ln(M-B,0),ne=X(G+te),ie=!_;++W<G;)ne[W]=u[W];for(;++P<B;)(ie||P<M)&&(ne[f[P]]=o[P]);for(;te--;)ne[W++]=o[P++];return ne}function _S(o,u,f,_){for(var P=-1,M=o.length,B=-1,W=f.length,G=-1,te=u.length,ne=ln(M-W,0),ie=X(ne+te),fe=!_;++P<ne;)ie[P]=o[P];for(var Te=P;++G<te;)ie[Te+G]=u[G];for(;++B<W;)(fe||P<M)&&(ie[Te+f[B]]=o[P++]);return ie}function hr(o,u){var f=-1,_=o.length;for(u||(u=X(_));++f<_;)u[f]=o[f];return u}function Ki(o,u,f,_){var P=!f;f||(f={});for(var M=-1,B=u.length;++M<B;){var W=u[M],G=_?_(f[W],o[W],W,f,o):n;G===n&&(G=o[W]),P?As(f,W,G):Rd(f,W,G)}return f}function j4(o,u){return Ki(o,E0(o),u)}function U4(o,u){return Ki(o,kS(o),u)}function Vp(o,u){return function(f,_){var P=je(f)?Xa:l4,M=u?u():{};return P(f,o,Ce(_,2),M)}}function yu(o){return Qe(function(u,f){var _=-1,P=f.length,M=P>1?f[P-1]:n,B=P>2?f[2]:n;for(M=o.length>3&&typeof M=="function"?(P--,M):n,B&&er(f[0],f[1],B)&&(M=P<3?n:M,P=1),u=bt(u);++_<P;){var W=f[_];W&&o(u,W,_,M)}return u})}function wS(o,u){return function(f,_){if(f==null)return f;if(!fr(f))return o(f,_);for(var P=f.length,M=u?P:-1,B=bt(f);(u?M--:++M<P)&&_(B[M],M,B)!==!1;);return f}}function ES(o){return function(u,f,_){for(var P=-1,M=bt(u),B=_(u),W=B.length;W--;){var G=B[o?W:++P];if(f(M[G],G,M)===!1)break}return u}}function $4(o,u,f){var _=u&b,P=Dd(o);function M(){var B=this&&this!==Wt&&this instanceof M?P:o;return B.apply(_?f:this,arguments)}return M}function xS(o){return function(u){u=vt(u);var f=du(u)?yi(u):n,_=f?f[0]:u.charAt(0),P=f?To(f,1).join(""):u.slice(1);return _[o]()+P}}function _u(o){return function(u){return vi(wI(_I(u).replace(Uy,"")),o,"")}}function Dd(o){return function(){var u=arguments;switch(u.length){case 0:return new o;case 1:return new o(u[0]);case 2:return new o(u[0],u[1]);case 3:return new o(u[0],u[1],u[2]);case 4:return new o(u[0],u[1],u[2],u[3]);case 5:return new o(u[0],u[1],u[2],u[3],u[4]);case 6:return new o(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new o(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var f=vu(o.prototype),_=o.apply(f,u);return Lt(_)?_:f}}function B4(o,u,f){var _=Dd(o);function P(){for(var M=arguments.length,B=X(M),W=M,G=wu(P);W--;)B[W]=arguments[W];var te=M<3&&B[0]!==G&&B[M-1]!==G?[]:yo(B,G);if(M-=te.length,M<f)return bS(o,u,jp,P.placeholder,n,B,te,n,n,f-M);var ne=this&&this!==Wt&&this instanceof P?_:o;return Vn(ne,this,B)}return P}function TS(o){return function(u,f,_){var P=bt(u);if(!fr(u)){var M=Ce(f,3);u=vn(u),f=function(W){return M(P[W],W,P)}}var B=o(u,f,_);return B>-1?P[M?u[B]:B]:n}}function SS(o){return Ns(function(u){var f=u.length,_=f,P=Xr.prototype.thru;for(o&&u.reverse();_--;){var M=u[_];if(typeof M!="function")throw new Yr(a);if(P&&!B&&zp(M)=="wrapper")var B=new Xr([],!0)}for(_=B?_:f;++_<f;){M=u[_];var W=zp(M),G=W=="wrapper"?_0(M):n;G&&T0(G[0])&&G[1]==(N|R|U|A)&&!G[4].length&&G[9]==1?B=B[zp(G[0])].apply(B,G[3]):B=M.length==1&&T0(M)?B[W]():B.thru(M)}return function(){var te=arguments,ne=te[0];if(B&&te.length==1&&je(ne))return B.plant(ne).value();for(var ie=0,fe=f?u[ie].apply(this,te):ne;++ie<f;)fe=u[ie].call(this,fe);return fe}})}function jp(o,u,f,_,P,M,B,W,G,te){var ne=u&N,ie=u&b,fe=u&C,Te=u&(R|V),Ae=u&k,Ge=fe?n:Dd(o);function Pe(){for(var Je=arguments.length,it=X(Je),Pr=Je;Pr--;)it[Pr]=arguments[Pr];if(Te)var tr=wu(Pe),Nr=xd(it,tr);if(_&&(it=yS(it,_,P,Te)),M&&(it=_S(it,M,B,Te)),Je-=Nr,Te&&Je<te){var Qt=yo(it,tr);return bS(o,u,jp,Pe.placeholder,f,it,Qt,W,G,te-Je)}var Ei=ie?f:this,Ms=fe?Ei[o]:o;return Je=it.length,W?it=lj(it,W):Ae&&Je>1&&it.reverse(),ne&&G<Je&&(it.length=G),this&&this!==Wt&&this instanceof Pe&&(Ms=Ge||Dd(Ms)),Ms.apply(Ei,it)}return Pe}function IS(o,u){return function(f,_){return g4(f,o,u(_),{})}}function Up(o,u){return function(f,_){var P;if(f===n&&_===n)return u;if(f!==n&&(P=f),_!==n){if(P===n)return _;typeof f=="string"||typeof _=="string"?(f=Rr(f),_=Rr(_)):(f=cS(f),_=cS(_)),P=o(f,_)}return P}}function m0(o){return Ns(function(u){return u=Ct(u,gt(Ce())),Qe(function(f){var _=this;return o(u,function(P){return Vn(P,_,f)})})})}function $p(o,u){u=u===n?" ":Rr(u);var f=u.length;if(f<2)return f?l0(u,o):u;var _=l0(u,bp(o/hu(u)));return du(u)?To(yi(_),0,o).join(""):_.slice(0,o)}function z4(o,u,f,_){var P=u&b,M=Dd(o);function B(){for(var W=-1,G=arguments.length,te=-1,ne=_.length,ie=X(ne+G),fe=this&&this!==Wt&&this instanceof B?M:o;++te<ne;)ie[te]=_[te];for(;G--;)ie[te++]=arguments[++W];return Vn(fe,P?f:this,ie)}return B}function CS(o){return function(u,f,_){return _&&typeof _!="number"&&er(u,f,_)&&(f=_=n),u=Os(u),f===n?(f=u,u=0):f=Os(f),_=_===n?u<f?1:-1:Os(_),R4(u,f,_,o)}}function Bp(o){return function(u,f){return typeof u=="string"&&typeof f=="string"||(u=ti(u),f=ti(f)),o(u,f)}}function bS(o,u,f,_,P,M,B,W,G,te){var ne=u&R,ie=ne?B:n,fe=ne?n:B,Te=ne?M:n,Ae=ne?n:M;u|=ne?U:z,u&=~(ne?z:U),u&T||(u&=~(b|C));var Ge=[o,u,P,Te,ie,Ae,fe,W,G,te],Pe=f.apply(n,Ge);return T0(o)&&jS(Pe,Ge),Pe.placeholder=_,US(Pe,o,u)}function g0(o){var u=an[o];return function(f,_){if(f=ti(f),_=_==null?0:Un(ze(_),292),_&&UT(f)){var P=(vt(f)+"e").split("e"),M=u(P[0]+"e"+(+P[1]+_));return P=(vt(M)+"e").split("e"),+(P[0]+"e"+(+P[1]-_))}return u(f)}}var W4=mu&&1/vp(new mu([,-0]))[1]==he?function(o){return new mu(o)}:V0;function RS(o){return function(u){var f=$n(u);return f==wt?Ky(u):f==Fn?aV(u):on(u,o(u))}}function Ps(o,u,f,_,P,M,B,W){var G=u&C;if(!G&&typeof o!="function")throw new Yr(a);var te=_?_.length:0;if(te||(u&=~(U|z),_=P=n),B=B===n?B:ln(ze(B),0),W=W===n?W:ze(W),te-=P?P.length:0,u&z){var ne=_,ie=P;_=P=n}var fe=G?n:_0(o),Te=[o,u,f,_,P,ne,ie,M,B,W];if(fe&&sj(Te,fe),o=Te[0],u=Te[1],f=Te[2],_=Te[3],P=Te[4],W=Te[9]=Te[9]===n?G?0:o.length:ln(Te[9]-te,0),!W&&u&(R|V)&&(u&=~(R|V)),!u||u==b)var Ae=$4(o,u,f);else u==R||u==V?Ae=B4(o,u,W):(u==U||u==(b|U))&&!P.length?Ae=z4(o,u,f,_):Ae=jp.apply(n,Te);var Ge=fe?lS:jS;return US(Ge(Ae,Te),o,u)}function AS(o,u,f,_){return o===n||wi(o,pu[f])&&!Et.call(_,f)?u:o}function PS(o,u,f,_,P,M){return Lt(o)&&Lt(u)&&(M.set(u,o),Mp(o,u,n,PS,M),M.delete(u)),o}function H4(o){return Ld(o)?n:o}function NS(o,u,f,_,P,M){var B=f&I,W=o.length,G=u.length;if(W!=G&&!(B&&G>W))return!1;var te=M.get(o),ne=M.get(u);if(te&&ne)return te==u&&ne==o;var ie=-1,fe=!0,Te=f&E?new rl:n;for(M.set(o,u),M.set(u,o);++ie<W;){var Ae=o[ie],Ge=u[ie];if(_)var Pe=B?_(Ge,Ae,ie,u,o,M):_(Ae,Ge,ie,o,u,M);if(Pe!==n){if(Pe)continue;fe=!1;break}if(Te){if(!uu(u,function(Je,it){if(!Qr(Te,it)&&(Ae===Je||P(Ae,Je,f,_,M)))return Te.push(it)})){fe=!1;break}}else if(!(Ae===Ge||P(Ae,Ge,f,_,M))){fe=!1;break}}return M.delete(o),M.delete(u),fe}function K4(o,u,f,_,P,M,B){switch(f){case ur:if(o.byteLength!=u.byteLength||o.byteOffset!=u.byteOffset)return!1;o=o.buffer,u=u.buffer;case St:return!(o.byteLength!=u.byteLength||!M(new Tp(o),new Tp(u)));case Ue:case He:case mn:return wi(+o,+u);case Ke:return o.name==u.name&&o.message==u.message;case Ln:case _s:return o==u+"";case wt:var W=Ky;case Fn:var G=_&I;if(W||(W=vp),o.size!=u.size&&!G)return!1;var te=B.get(o);if(te)return te==u;_|=E,B.set(o,u);var ne=NS(W(o),W(u),_,P,M,B);return B.delete(o),ne;case Cr:if(bd)return bd.call(o)==bd.call(u)}return!1}function G4(o,u,f,_,P,M){var B=f&I,W=v0(o),G=W.length,te=v0(u),ne=te.length;if(G!=ne&&!B)return!1;for(var ie=G;ie--;){var fe=W[ie];if(!(B?fe in u:Et.call(u,fe)))return!1}var Te=M.get(o),Ae=M.get(u);if(Te&&Ae)return Te==u&&Ae==o;var Ge=!0;M.set(o,u),M.set(u,o);for(var Pe=B;++ie<G;){fe=W[ie];var Je=o[fe],it=u[fe];if(_)var Pr=B?_(it,Je,fe,u,o,M):_(Je,it,fe,o,u,M);if(!(Pr===n?Je===it||P(Je,it,f,_,M):Pr)){Ge=!1;break}Pe||(Pe=fe=="constructor")}if(Ge&&!Pe){var tr=o.constructor,Nr=u.constructor;tr!=Nr&&"constructor"in o&&"constructor"in u&&!(typeof tr=="function"&&tr instanceof tr&&typeof Nr=="function"&&Nr instanceof Nr)&&(Ge=!1)}return M.delete(o),M.delete(u),Ge}function Ns(o){return I0(FS(o,n,KS),o+"")}function v0(o){return XT(o,vn,E0)}function y0(o){return XT(o,pr,kS)}var _0=Ap?function(o){return Ap.get(o)}:V0;function zp(o){for(var u=o.name+"",f=gu[u],_=Et.call(gu,u)?f.length:0;_--;){var P=f[_],M=P.func;if(M==null||M==o)return P.name}return u}function wu(o){var u=Et.call(D,"placeholder")?D:o;return u.placeholder}function Ce(){var o=D.iteratee||L0;return o=o===L0?eS:o,arguments.length?o(arguments[0],arguments[1]):o}function Wp(o,u){var f=o.__data__;return tj(u)?f[typeof u=="string"?"string":"hash"]:f.map}function w0(o){for(var u=vn(o),f=u.length;f--;){var _=u[f],P=o[_];u[f]=[_,P,MS(P)]}return u}function ol(o,u){var f=iV(o,u);return ZT(f)?f:n}function q4(o){var u=Et.call(o,tl),f=o[tl];try{o[tl]=n;var _=!0}catch{}var P=Ep.call(o);return _&&(u?o[tl]=f:delete o[tl]),P}var E0=qy?function(o){return o==null?[]:(o=bt(o),qr(qy(o),function(u){return VT.call(o,u)}))}:j0,kS=qy?function(o){for(var u=[];o;)gi(u,E0(o)),o=Sp(o);return u}:j0,$n=Zn;(Qy&&$n(new Qy(new ArrayBuffer(1)))!=ur||Sd&&$n(new Sd)!=wt||Yy&&$n(Yy.resolve())!=lo||mu&&$n(new mu)!=Fn||Id&&$n(new Id)!=fi)&&($n=function(o){var u=Zn(o),f=u==rn?o.constructor:n,_=f?al(f):"";if(_)switch(_){case PV:return ur;case NV:return wt;case kV:return lo;case DV:return Fn;case OV:return fi}return u});function Q4(o,u,f){for(var _=-1,P=f.length;++_<P;){var M=f[_],B=M.size;switch(M.type){case"drop":o+=B;break;case"dropRight":u-=B;break;case"take":u=Un(u,o+B);break;case"takeRight":o=ln(o,u-B);break}}return{start:o,end:u}}function Y4(o){var u=o.match(co);return u?u[1].split(Oy):[]}function DS(o,u,f){u=xo(u,o);for(var _=-1,P=u.length,M=!1;++_<P;){var B=Gi(u[_]);if(!(M=o!=null&&f(o,B)))break;o=o[B]}return M||++_!=P?M:(P=o==null?0:o.length,!!P&&Xp(P)&&ks(B,P)&&(je(o)||ll(o)))}function X4(o){var u=o.length,f=new o.constructor(u);return u&&typeof o[0]=="string"&&Et.call(o,"index")&&(f.index=o.index,f.input=o.input),f}function OS(o){return typeof o.constructor=="function"&&!Od(o)?vu(Sp(o)):{}}function J4(o,u,f){var _=o.constructor;switch(u){case St:return p0(o);case Ue:case He:return new _(+o);case ur:return M4(o,f);case br:case ws:case Ua:case Wr:case Es:case uo:case pi:case cr:case $a:return gS(o,f);case wt:return new _;case mn:case _s:return new _(o);case Ln:return L4(o);case Fn:return new _;case Cr:return F4(o)}}function Z4(o,u){var f=u.length;if(!f)return o;var _=f-1;return u[_]=(f>1?"& ":"")+u[_],u=u.join(f>2?", ":" "),o.replace(Dy,`{
/* [wrapped with `+u+`] */
`)}function ej(o){return je(o)||ll(o)||!!(jT&&o&&o[jT])}function ks(o,u){var f=typeof o;return u=u??q,!!u&&(f=="number"||f!="symbol"&&ad.test(o))&&o>-1&&o%1==0&&o<u}function er(o,u,f){if(!Lt(f))return!1;var _=typeof u;return(_=="number"?fr(f)&&ks(u,f.length):_=="string"&&u in f)?wi(f[u],o):!1}function x0(o,u){if(je(o))return!1;var f=typeof o;return f=="number"||f=="symbol"||f=="boolean"||o==null||Ar(o)?!0:Wf.test(o)||!Ba.test(o)||u!=null&&o in bt(u)}function tj(o){var u=typeof o;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?o!=="__proto__":o===null}function T0(o){var u=zp(o),f=D[u];if(typeof f!="function"||!(u in et.prototype))return!1;if(o===f)return!0;var _=_0(f);return!!_&&o===_[0]}function nj(o){return!!MT&&MT in o}var rj=_p?Ds:U0;function Od(o){var u=o&&o.constructor,f=typeof u=="function"&&u.prototype||pu;return o===f}function MS(o){return o===o&&!Lt(o)}function LS(o,u){return function(f){return f==null?!1:f[o]===u&&(u!==n||o in bt(f))}}function ij(o){var u=Qp(o,function(_){return f.size===h&&f.clear(),_}),f=u.cache;return u}function sj(o,u){var f=o[1],_=u[1],P=f|_,M=P<(b|C|N),B=_==N&&f==R||_==N&&f==A&&o[7].length<=u[8]||_==(N|A)&&u[7].length<=u[8]&&f==R;if(!(M||B))return o;_&b&&(o[2]=u[2],P|=f&b?0:T);var W=u[3];if(W){var G=o[3];o[3]=G?yS(G,W,u[4]):W,o[4]=G?yo(o[3],p):u[4]}return W=u[5],W&&(G=o[5],o[5]=G?_S(G,W,u[6]):W,o[6]=G?yo(o[5],p):u[6]),W=u[7],W&&(o[7]=W),_&N&&(o[8]=o[8]==null?u[8]:Un(o[8],u[8])),o[9]==null&&(o[9]=u[9]),o[0]=u[0],o[1]=P,o}function oj(o){var u=[];if(o!=null)for(var f in bt(o))u.push(f);return u}function aj(o){return Ep.call(o)}function FS(o,u,f){return u=ln(u===n?o.length-1:u,0),function(){for(var _=arguments,P=-1,M=ln(_.length-u,0),B=X(M);++P<M;)B[P]=_[u+P];P=-1;for(var W=X(u+1);++P<u;)W[P]=_[P];return W[u]=f(B),Vn(o,this,W)}}function VS(o,u){return u.length<2?o:sl(o,Zr(u,0,-1))}function lj(o,u){for(var f=o.length,_=Un(u.length,f),P=hr(o);_--;){var M=u[_];o[_]=ks(M,f)?P[M]:n}return o}function S0(o,u){if(!(u==="constructor"&&typeof o[u]=="function")&&u!="__proto__")return o[u]}var jS=$S(lS),Md=TV||function(o,u){return Wt.setTimeout(o,u)},I0=$S(N4);function US(o,u,f){var _=u+"";return I0(o,Z4(_,uj(Y4(_),f)))}function $S(o){var u=0,f=0;return function(){var _=bV(),P=F-(_-f);if(f=_,P>0){if(++u>=j)return arguments[0]}else u=0;return o.apply(n,arguments)}}function Hp(o,u){var f=-1,_=o.length,P=_-1;for(u=u===n?_:u;++f<u;){var M=a0(f,P),B=o[M];o[M]=o[f],o[f]=B}return o.length=u,o}var BS=ij(function(o){var u=[];return o.charCodeAt(0)===46&&u.push(""),o.replace(In,function(f,_,P,M){u.push(P?M.replace(Hf,"$1"):_||f)}),u});function Gi(o){if(typeof o=="string"||Ar(o))return o;var u=o+"";return u=="0"&&1/o==-he?"-0":u}function al(o){if(o!=null){try{return wp.call(o)}catch{}try{return o+""}catch{}}return""}function uj(o,u){return Jn(Xe,function(f){var _="_."+f[0];u&f[1]&&!Ja(o,_)&&o.push(_)}),o.sort()}function zS(o){if(o instanceof et)return o.clone();var u=new Xr(o.__wrapped__,o.__chain__);return u.__actions__=hr(o.__actions__),u.__index__=o.__index__,u.__values__=o.__values__,u}function cj(o,u,f){(f?er(o,u,f):u===n)?u=1:u=ln(ze(u),0);var _=o==null?0:o.length;if(!_||u<1)return[];for(var P=0,M=0,B=X(bp(_/u));P<_;)B[M++]=Zr(o,P,P+=u);return B}function dj(o){for(var u=-1,f=o==null?0:o.length,_=0,P=[];++u<f;){var M=o[u];M&&(P[_++]=M)}return P}function hj(){var o=arguments.length;if(!o)return[];for(var u=X(o-1),f=arguments[0],_=o;_--;)u[_-1]=arguments[_];return gi(je(f)?hr(f):[f],bn(u,1))}var fj=Qe(function(o,u){return qt(o)?Ad(o,bn(u,1,qt,!0)):[]}),pj=Qe(function(o,u){var f=ei(u);return qt(f)&&(f=n),qt(o)?Ad(o,bn(u,1,qt,!0),Ce(f,2)):[]}),mj=Qe(function(o,u){var f=ei(u);return qt(f)&&(f=n),qt(o)?Ad(o,bn(u,1,qt,!0),n,f):[]});function gj(o,u,f){var _=o==null?0:o.length;return _?(u=f||u===n?1:ze(u),Zr(o,u<0?0:u,_)):[]}function vj(o,u,f){var _=o==null?0:o.length;return _?(u=f||u===n?1:ze(u),u=_-u,Zr(o,0,u<0?0:u)):[]}function yj(o,u){return o&&o.length?Fp(o,Ce(u,3),!0,!0):[]}function _j(o,u){return o&&o.length?Fp(o,Ce(u,3),!0):[]}function wj(o,u,f,_){var P=o==null?0:o.length;return P?(f&&typeof f!="number"&&er(o,u,f)&&(f=0,_=P),h4(o,u,f,_)):[]}function WS(o,u,f){var _=o==null?0:o.length;if(!_)return-1;var P=f==null?0:ze(f);return P<0&&(P=ln(_+P,0)),Za(o,Ce(u,3),P)}function HS(o,u,f){var _=o==null?0:o.length;if(!_)return-1;var P=_-1;return f!==n&&(P=ze(f),P=f<0?ln(_+P,0):Un(P,_-1)),Za(o,Ce(u,3),P,!0)}function KS(o){var u=o==null?0:o.length;return u?bn(o,1):[]}function Ej(o){var u=o==null?0:o.length;return u?bn(o,he):[]}function xj(o,u){var f=o==null?0:o.length;return f?(u=u===n?1:ze(u),bn(o,u)):[]}function Tj(o){for(var u=-1,f=o==null?0:o.length,_={};++u<f;){var P=o[u];_[P[0]]=P[1]}return _}function GS(o){return o&&o.length?o[0]:n}function Sj(o,u,f){var _=o==null?0:o.length;if(!_)return-1;var P=f==null?0:ze(f);return P<0&&(P=ln(_+P,0)),Cs(o,u,P)}function Ij(o){var u=o==null?0:o.length;return u?Zr(o,0,-1):[]}var Cj=Qe(function(o){var u=Ct(o,h0);return u.length&&u[0]===o[0]?n0(u):[]}),bj=Qe(function(o){var u=ei(o),f=Ct(o,h0);return u===ei(f)?u=n:f.pop(),f.length&&f[0]===o[0]?n0(f,Ce(u,2)):[]}),Rj=Qe(function(o){var u=ei(o),f=Ct(o,h0);return u=typeof u=="function"?u:n,u&&f.pop(),f.length&&f[0]===o[0]?n0(f,n,u):[]});function Aj(o,u){return o==null?"":IV.call(o,u)}function ei(o){var u=o==null?0:o.length;return u?o[u-1]:n}function Pj(o,u,f){var _=o==null?0:o.length;if(!_)return-1;var P=_;return f!==n&&(P=ze(f),P=P<0?ln(_+P,0):Un(P,_-1)),u===u?uV(o,u,P):Za(o,d,P,!0)}function Nj(o,u){return o&&o.length?iS(o,ze(u)):n}var kj=Qe(qS);function qS(o,u){return o&&o.length&&u&&u.length?o0(o,u):o}function Dj(o,u,f){return o&&o.length&&u&&u.length?o0(o,u,Ce(f,2)):o}function Oj(o,u,f){return o&&o.length&&u&&u.length?o0(o,u,n,f):o}var Mj=Ns(function(o,u){var f=o==null?0:o.length,_=Jy(o,u);return aS(o,Ct(u,function(P){return ks(P,f)?+P:P}).sort(vS)),_});function Lj(o,u){var f=[];if(!(o&&o.length))return f;var _=-1,P=[],M=o.length;for(u=Ce(u,3);++_<M;){var B=o[_];u(B,_,o)&&(f.push(B),P.push(_))}return aS(o,P),f}function C0(o){return o==null?o:AV.call(o)}function Fj(o,u,f){var _=o==null?0:o.length;return _?(f&&typeof f!="number"&&er(o,u,f)?(u=0,f=_):(u=u==null?0:ze(u),f=f===n?_:ze(f)),Zr(o,u,f)):[]}function Vj(o,u){return Lp(o,u)}function jj(o,u,f){return u0(o,u,Ce(f,2))}function Uj(o,u){var f=o==null?0:o.length;if(f){var _=Lp(o,u);if(_<f&&wi(o[_],u))return _}return-1}function $j(o,u){return Lp(o,u,!0)}function Bj(o,u,f){return u0(o,u,Ce(f,2),!0)}function zj(o,u){var f=o==null?0:o.length;if(f){var _=Lp(o,u,!0)-1;if(wi(o[_],u))return _}return-1}function Wj(o){return o&&o.length?uS(o):[]}function Hj(o,u){return o&&o.length?uS(o,Ce(u,2)):[]}function Kj(o){var u=o==null?0:o.length;return u?Zr(o,1,u):[]}function Gj(o,u,f){return o&&o.length?(u=f||u===n?1:ze(u),Zr(o,0,u<0?0:u)):[]}function qj(o,u,f){var _=o==null?0:o.length;return _?(u=f||u===n?1:ze(u),u=_-u,Zr(o,u<0?0:u,_)):[]}function Qj(o,u){return o&&o.length?Fp(o,Ce(u,3),!1,!0):[]}function Yj(o,u){return o&&o.length?Fp(o,Ce(u,3)):[]}var Xj=Qe(function(o){return Eo(bn(o,1,qt,!0))}),Jj=Qe(function(o){var u=ei(o);return qt(u)&&(u=n),Eo(bn(o,1,qt,!0),Ce(u,2))}),Zj=Qe(function(o){var u=ei(o);return u=typeof u=="function"?u:n,Eo(bn(o,1,qt,!0),n,u)});function eU(o){return o&&o.length?Eo(o):[]}function tU(o,u){return o&&o.length?Eo(o,Ce(u,2)):[]}function nU(o,u){return u=typeof u=="function"?u:n,o&&o.length?Eo(o,n,u):[]}function b0(o){if(!(o&&o.length))return[];var u=0;return o=qr(o,function(f){if(qt(f))return u=ln(f.length,u),!0}),ht(u,function(f){return Ct(o,S(f))})}function QS(o,u){if(!(o&&o.length))return[];var f=b0(o);return u==null?f:Ct(f,function(_){return Vn(u,n,_)})}var rU=Qe(function(o,u){return qt(o)?Ad(o,u):[]}),iU=Qe(function(o){return d0(qr(o,qt))}),sU=Qe(function(o){var u=ei(o);return qt(u)&&(u=n),d0(qr(o,qt),Ce(u,2))}),oU=Qe(function(o){var u=ei(o);return u=typeof u=="function"?u:n,d0(qr(o,qt),n,u)}),aU=Qe(b0);function lU(o,u){return fS(o||[],u||[],Rd)}function uU(o,u){return fS(o||[],u||[],kd)}var cU=Qe(function(o){var u=o.length,f=u>1?o[u-1]:n;return f=typeof f=="function"?(o.pop(),f):n,QS(o,f)});function YS(o){var u=D(o);return u.__chain__=!0,u}function dU(o,u){return u(o),o}function Kp(o,u){return u(o)}var hU=Ns(function(o){var u=o.length,f=u?o[0]:0,_=this.__wrapped__,P=function(M){return Jy(M,o)};return u>1||this.__actions__.length||!(_ instanceof et)||!ks(f)?this.thru(P):(_=_.slice(f,+f+(u?1:0)),_.__actions__.push({func:Kp,args:[P],thisArg:n}),new Xr(_,this.__chain__).thru(function(M){return u&&!M.length&&M.push(n),M}))});function fU(){return YS(this)}function pU(){return new Xr(this.value(),this.__chain__)}function mU(){this.__values__===n&&(this.__values__=cI(this.value()));var o=this.__index__>=this.__values__.length,u=o?n:this.__values__[this.__index__++];return{done:o,value:u}}function gU(){return this}function vU(o){for(var u,f=this;f instanceof Np;){var _=zS(f);_.__index__=0,_.__values__=n,u?P.__wrapped__=_:u=_;var P=_;f=f.__wrapped__}return P.__wrapped__=o,u}function yU(){var o=this.__wrapped__;if(o instanceof et){var u=o;return this.__actions__.length&&(u=new et(this)),u=u.reverse(),u.__actions__.push({func:Kp,args:[C0],thisArg:n}),new Xr(u,this.__chain__)}return this.thru(C0)}function _U(){return hS(this.__wrapped__,this.__actions__)}var wU=Vp(function(o,u,f){Et.call(o,f)?++o[f]:As(o,f,1)});function EU(o,u,f){var _=je(o)?lu:d4;return f&&er(o,u,f)&&(u=n),_(o,Ce(u,3))}function xU(o,u){var f=je(o)?qr:QT;return f(o,Ce(u,3))}var TU=TS(WS),SU=TS(HS);function IU(o,u){return bn(Gp(o,u),1)}function CU(o,u){return bn(Gp(o,u),he)}function bU(o,u,f){return f=f===n?1:ze(f),bn(Gp(o,u),f)}function XS(o,u){var f=je(o)?Jn:wo;return f(o,Ce(u,3))}function JS(o,u){var f=je(o)?fp:qT;return f(o,Ce(u,3))}var RU=Vp(function(o,u,f){Et.call(o,f)?o[f].push(u):As(o,f,[u])});function AU(o,u,f,_){o=fr(o)?o:xu(o),f=f&&!_?ze(f):0;var P=o.length;return f<0&&(f=ln(P+f,0)),Jp(o)?f<=P&&o.indexOf(u,f)>-1:!!P&&Cs(o,u,f)>-1}var PU=Qe(function(o,u,f){var _=-1,P=typeof u=="function",M=fr(o)?X(o.length):[];return wo(o,function(B){M[++_]=P?Vn(u,B,f):Pd(B,u,f)}),M}),NU=Vp(function(o,u,f){As(o,f,u)});function Gp(o,u){var f=je(o)?Ct:tS;return f(o,Ce(u,3))}function kU(o,u,f,_){return o==null?[]:(je(u)||(u=u==null?[]:[u]),f=_?n:f,je(f)||(f=f==null?[]:[f]),sS(o,u,f))}var DU=Vp(function(o,u,f){o[f?0:1].push(u)},function(){return[[],[]]});function OU(o,u,f){var _=je(o)?vi:Q,P=arguments.length<3;return _(o,Ce(u,4),f,P,wo)}function MU(o,u,f){var _=je(o)?pp:Q,P=arguments.length<3;return _(o,Ce(u,4),f,P,qT)}function LU(o,u){var f=je(o)?qr:QT;return f(o,Yp(Ce(u,3)))}function FU(o){var u=je(o)?WT:A4;return u(o)}function VU(o,u,f){(f?er(o,u,f):u===n)?u=1:u=ze(u);var _=je(o)?o4:P4;return _(o,u)}function jU(o){var u=je(o)?a4:k4;return u(o)}function UU(o){if(o==null)return 0;if(fr(o))return Jp(o)?hu(o):o.length;var u=$n(o);return u==wt||u==Fn?o.size:i0(o).length}function $U(o,u,f){var _=je(o)?uu:D4;return f&&er(o,u,f)&&(u=n),_(o,Ce(u,3))}var BU=Qe(function(o,u){if(o==null)return[];var f=u.length;return f>1&&er(o,u[0],u[1])?u=[]:f>2&&er(u[0],u[1],u[2])&&(u=[u[0]]),sS(o,bn(u,1),[])}),qp=xV||function(){return Wt.Date.now()};function zU(o,u){if(typeof u!="function")throw new Yr(a);return o=ze(o),function(){if(--o<1)return u.apply(this,arguments)}}function ZS(o,u,f){return u=f?n:u,u=o&&u==null?o.length:u,Ps(o,N,n,n,n,n,u)}function eI(o,u){var f;if(typeof u!="function")throw new Yr(a);return o=ze(o),function(){return--o>0&&(f=u.apply(this,arguments)),o<=1&&(u=n),f}}var R0=Qe(function(o,u,f){var _=b;if(f.length){var P=yo(f,wu(R0));_|=U}return Ps(o,_,u,f,P)}),tI=Qe(function(o,u,f){var _=b|C;if(f.length){var P=yo(f,wu(tI));_|=U}return Ps(u,_,o,f,P)});function nI(o,u,f){u=f?n:u;var _=Ps(o,R,n,n,n,n,n,u);return _.placeholder=nI.placeholder,_}function rI(o,u,f){u=f?n:u;var _=Ps(o,V,n,n,n,n,n,u);return _.placeholder=rI.placeholder,_}function iI(o,u,f){var _,P,M,B,W,G,te=0,ne=!1,ie=!1,fe=!0;if(typeof o!="function")throw new Yr(a);u=ti(u)||0,Lt(f)&&(ne=!!f.leading,ie="maxWait"in f,M=ie?ln(ti(f.maxWait)||0,u):M,fe="trailing"in f?!!f.trailing:fe);function Te(Qt){var Ei=_,Ms=P;return _=P=n,te=Qt,B=o.apply(Ms,Ei),B}function Ae(Qt){return te=Qt,W=Md(Je,u),ne?Te(Qt):B}function Ge(Qt){var Ei=Qt-G,Ms=Qt-te,TI=u-Ei;return ie?Un(TI,M-Ms):TI}function Pe(Qt){var Ei=Qt-G,Ms=Qt-te;return G===n||Ei>=u||Ei<0||ie&&Ms>=M}function Je(){var Qt=qp();if(Pe(Qt))return it(Qt);W=Md(Je,Ge(Qt))}function it(Qt){return W=n,fe&&_?Te(Qt):(_=P=n,B)}function Pr(){W!==n&&pS(W),te=0,_=G=P=W=n}function tr(){return W===n?B:it(qp())}function Nr(){var Qt=qp(),Ei=Pe(Qt);if(_=arguments,P=this,G=Qt,Ei){if(W===n)return Ae(G);if(ie)return pS(W),W=Md(Je,u),Te(G)}return W===n&&(W=Md(Je,u)),B}return Nr.cancel=Pr,Nr.flush=tr,Nr}var WU=Qe(function(o,u){return GT(o,1,u)}),HU=Qe(function(o,u,f){return GT(o,ti(u)||0,f)});function KU(o){return Ps(o,k)}function Qp(o,u){if(typeof o!="function"||u!=null&&typeof u!="function")throw new Yr(a);var f=function(){var _=arguments,P=u?u.apply(this,_):_[0],M=f.cache;if(M.has(P))return M.get(P);var B=o.apply(this,_);return f.cache=M.set(P,B)||M,B};return f.cache=new(Qp.Cache||Rs),f}Qp.Cache=Rs;function Yp(o){if(typeof o!="function")throw new Yr(a);return function(){var u=arguments;switch(u.length){case 0:return!o.call(this);case 1:return!o.call(this,u[0]);case 2:return!o.call(this,u[0],u[1]);case 3:return!o.call(this,u[0],u[1],u[2])}return!o.apply(this,u)}}function GU(o){return eI(2,o)}var qU=O4(function(o,u){u=u.length==1&&je(u[0])?Ct(u[0],gt(Ce())):Ct(bn(u,1),gt(Ce()));var f=u.length;return Qe(function(_){for(var P=-1,M=Un(_.length,f);++P<M;)_[P]=u[P].call(this,_[P]);return Vn(o,this,_)})}),A0=Qe(function(o,u){var f=yo(u,wu(A0));return Ps(o,U,n,u,f)}),sI=Qe(function(o,u){var f=yo(u,wu(sI));return Ps(o,z,n,u,f)}),QU=Ns(function(o,u){return Ps(o,A,n,n,n,u)});function YU(o,u){if(typeof o!="function")throw new Yr(a);return u=u===n?u:ze(u),Qe(o,u)}function XU(o,u){if(typeof o!="function")throw new Yr(a);return u=u==null?0:ln(ze(u),0),Qe(function(f){var _=f[u],P=To(f,0,u);return _&&gi(P,_),Vn(o,this,P)})}function JU(o,u,f){var _=!0,P=!0;if(typeof o!="function")throw new Yr(a);return Lt(f)&&(_="leading"in f?!!f.leading:_,P="trailing"in f?!!f.trailing:P),iI(o,u,{leading:_,maxWait:u,trailing:P})}function ZU(o){return ZS(o,1)}function e3(o,u){return A0(f0(u),o)}function t3(){if(!arguments.length)return[];var o=arguments[0];return je(o)?o:[o]}function n3(o){return Jr(o,x)}function r3(o,u){return u=typeof u=="function"?u:n,Jr(o,x,u)}function i3(o){return Jr(o,m|x)}function s3(o,u){return u=typeof u=="function"?u:n,Jr(o,m|x,u)}function o3(o,u){return u==null||KT(o,u,vn(u))}function wi(o,u){return o===u||o!==o&&u!==u}var a3=Bp(t0),l3=Bp(function(o,u){return o>=u}),ll=JT(function(){return arguments}())?JT:function(o){return Ht(o)&&Et.call(o,"callee")&&!VT.call(o,"callee")},je=X.isArray,u3=wd?gt(wd):v4;function fr(o){return o!=null&&Xp(o.length)&&!Ds(o)}function qt(o){return Ht(o)&&fr(o)}function c3(o){return o===!0||o===!1||Ht(o)&&Zn(o)==Ue}var So=SV||U0,d3=au?gt(au):y4;function h3(o){return Ht(o)&&o.nodeType===1&&!Ld(o)}function f3(o){if(o==null)return!0;if(fr(o)&&(je(o)||typeof o=="string"||typeof o.splice=="function"||So(o)||Eu(o)||ll(o)))return!o.length;var u=$n(o);if(u==wt||u==Fn)return!o.size;if(Od(o))return!i0(o).length;for(var f in o)if(Et.call(o,f))return!1;return!0}function p3(o,u){return Nd(o,u)}function m3(o,u,f){f=typeof f=="function"?f:n;var _=f?f(o,u):n;return _===n?Nd(o,u,n,f):!!_}function P0(o){if(!Ht(o))return!1;var u=Zn(o);return u==Ke||u==$e||typeof o.message=="string"&&typeof o.name=="string"&&!Ld(o)}function g3(o){return typeof o=="number"&&UT(o)}function Ds(o){if(!Lt(o))return!1;var u=Zn(o);return u==Be||u==$t||u==_e||u==Bt}function oI(o){return typeof o=="number"&&o==ze(o)}function Xp(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=q}function Lt(o){var u=typeof o;return o!=null&&(u=="object"||u=="function")}function Ht(o){return o!=null&&typeof o=="object"}var aI=Qa?gt(Qa):w4;function v3(o,u){return o===u||r0(o,u,w0(u))}function y3(o,u,f){return f=typeof f=="function"?f:n,r0(o,u,w0(u),f)}function _3(o){return lI(o)&&o!=+o}function w3(o){if(rj(o))throw new Fe(s);return ZT(o)}function E3(o){return o===null}function x3(o){return o==null}function lI(o){return typeof o=="number"||Ht(o)&&Zn(o)==mn}function Ld(o){if(!Ht(o)||Zn(o)!=rn)return!1;var u=Sp(o);if(u===null)return!0;var f=Et.call(u,"constructor")&&u.constructor;return typeof f=="function"&&f instanceof f&&wp.call(f)==yV}var N0=Ed?gt(Ed):E4;function T3(o){return oI(o)&&o>=-q&&o<=q}var uI=Ya?gt(Ya):x4;function Jp(o){return typeof o=="string"||!je(o)&&Ht(o)&&Zn(o)==_s}function Ar(o){return typeof o=="symbol"||Ht(o)&&Zn(o)==Cr}var Eu=hp?gt(hp):T4;function S3(o){return o===n}function I3(o){return Ht(o)&&$n(o)==fi}function C3(o){return Ht(o)&&Zn(o)==zt}var b3=Bp(s0),R3=Bp(function(o,u){return o<=u});function cI(o){if(!o)return[];if(fr(o))return Jp(o)?yi(o):hr(o);if(Td&&o[Td])return oV(o[Td]());var u=$n(o),f=u==wt?Ky:u==Fn?vp:xu;return f(o)}function Os(o){if(!o)return o===0?o:0;if(o=ti(o),o===he||o===-he){var u=o<0?-1:1;return u*Y}return o===o?o:0}function ze(o){var u=Os(o),f=u%1;return u===u?f?u-f:u:0}function dI(o){return o?il(ze(o),0,oe):0}function ti(o){if(typeof o=="number")return o;if(Ar(o))return ue;if(Lt(o)){var u=typeof o.valueOf=="function"?o.valueOf():o;o=Lt(u)?u+"":u}if(typeof o!="string")return o===0?o:+o;o=rt(o);var f=Kf.test(o);return f||od.test(o)?cp(o.slice(2),f?2:8):Bi.test(o)?ue:+o}function hI(o){return Ki(o,pr(o))}function A3(o){return o?il(ze(o),-q,q):o===0?o:0}function vt(o){return o==null?"":Rr(o)}var P3=yu(function(o,u){if(Od(u)||fr(u)){Ki(u,vn(u),o);return}for(var f in u)Et.call(u,f)&&Rd(o,f,u[f])}),fI=yu(function(o,u){Ki(u,pr(u),o)}),Zp=yu(function(o,u,f,_){Ki(u,pr(u),o,_)}),N3=yu(function(o,u,f,_){Ki(u,vn(u),o,_)}),k3=Ns(Jy);function D3(o,u){var f=vu(o);return u==null?f:HT(f,u)}var O3=Qe(function(o,u){o=bt(o);var f=-1,_=u.length,P=_>2?u[2]:n;for(P&&er(u[0],u[1],P)&&(_=1);++f<_;)for(var M=u[f],B=pr(M),W=-1,G=B.length;++W<G;){var te=B[W],ne=o[te];(ne===n||wi(ne,pu[te])&&!Et.call(o,te))&&(o[te]=M[te])}return o}),M3=Qe(function(o){return o.push(n,PS),Vn(pI,n,o)});function L3(o,u){return jn(o,Ce(u,3),Hi)}function F3(o,u){return jn(o,Ce(u,3),e0)}function V3(o,u){return o==null?o:Zy(o,Ce(u,3),pr)}function j3(o,u){return o==null?o:YT(o,Ce(u,3),pr)}function U3(o,u){return o&&Hi(o,Ce(u,3))}function $3(o,u){return o&&e0(o,Ce(u,3))}function B3(o){return o==null?[]:Op(o,vn(o))}function z3(o){return o==null?[]:Op(o,pr(o))}function k0(o,u,f){var _=o==null?n:sl(o,u);return _===n?f:_}function W3(o,u){return o!=null&&DS(o,u,f4)}function D0(o,u){return o!=null&&DS(o,u,p4)}var H3=IS(function(o,u,f){u!=null&&typeof u.toString!="function"&&(u=Ep.call(u)),o[u]=f},M0(mr)),K3=IS(function(o,u,f){u!=null&&typeof u.toString!="function"&&(u=Ep.call(u)),Et.call(o,u)?o[u].push(f):o[u]=[f]},Ce),G3=Qe(Pd);function vn(o){return fr(o)?zT(o):i0(o)}function pr(o){return fr(o)?zT(o,!0):S4(o)}function q3(o,u){var f={};return u=Ce(u,3),Hi(o,function(_,P,M){As(f,u(_,P,M),_)}),f}function Q3(o,u){var f={};return u=Ce(u,3),Hi(o,function(_,P,M){As(f,P,u(_,P,M))}),f}var Y3=yu(function(o,u,f){Mp(o,u,f)}),pI=yu(function(o,u,f,_){Mp(o,u,f,_)}),X3=Ns(function(o,u){var f={};if(o==null)return f;var _=!1;u=Ct(u,function(M){return M=xo(M,o),_||(_=M.length>1),M}),Ki(o,y0(o),f),_&&(f=Jr(f,m|g|x,H4));for(var P=u.length;P--;)c0(f,u[P]);return f});function J3(o,u){return mI(o,Yp(Ce(u)))}var Z3=Ns(function(o,u){return o==null?{}:C4(o,u)});function mI(o,u){if(o==null)return{};var f=Ct(y0(o),function(_){return[_]});return u=Ce(u),oS(o,f,function(_,P){return u(_,P[0])})}function e5(o,u,f){u=xo(u,o);var _=-1,P=u.length;for(P||(P=1,o=n);++_<P;){var M=o==null?n:o[Gi(u[_])];M===n&&(_=P,M=f),o=Ds(M)?M.call(o):M}return o}function t5(o,u,f){return o==null?o:kd(o,u,f)}function n5(o,u,f,_){return _=typeof _=="function"?_:n,o==null?o:kd(o,u,f,_)}var gI=RS(vn),vI=RS(pr);function r5(o,u,f){var _=je(o),P=_||So(o)||Eu(o);if(u=Ce(u,4),f==null){var M=o&&o.constructor;P?f=_?new M:[]:Lt(o)?f=Ds(M)?vu(Sp(o)):{}:f={}}return(P?Jn:Hi)(o,function(B,W,G){return u(f,B,W,G)}),f}function i5(o,u){return o==null?!0:c0(o,u)}function s5(o,u,f){return o==null?o:dS(o,u,f0(f))}function o5(o,u,f,_){return _=typeof _=="function"?_:n,o==null?o:dS(o,u,f0(f),_)}function xu(o){return o==null?[]:en(o,vn(o))}function a5(o){return o==null?[]:en(o,pr(o))}function l5(o,u,f){return f===n&&(f=u,u=n),f!==n&&(f=ti(f),f=f===f?f:0),u!==n&&(u=ti(u),u=u===u?u:0),il(ti(o),u,f)}function u5(o,u,f){return u=Os(u),f===n?(f=u,u=0):f=Os(f),o=ti(o),m4(o,u,f)}function c5(o,u,f){if(f&&typeof f!="boolean"&&er(o,u,f)&&(u=f=n),f===n&&(typeof u=="boolean"?(f=u,u=n):typeof o=="boolean"&&(f=o,o=n)),o===n&&u===n?(o=0,u=1):(o=Os(o),u===n?(u=o,o=0):u=Os(u)),o>u){var _=o;o=u,u=_}if(f||o%1||u%1){var P=$T();return Un(o+P*(u-o+Hy("1e-"+((P+"").length-1))),u)}return a0(o,u)}var d5=_u(function(o,u,f){return u=u.toLowerCase(),o+(f?yI(u):u)});function yI(o){return O0(vt(o).toLowerCase())}function _I(o){return o=vt(o),o&&o.replace(qf,tV).replace($y,"")}function h5(o,u,f){o=vt(o),u=Rr(u);var _=o.length;f=f===n?_:il(ze(f),0,_);var P=f;return f-=u.length,f>=0&&o.slice(f,P)==u}function f5(o){return o=vt(o),o&&mi.test(o)?o.replace(Sn,nV):o}function p5(o){return o=vt(o),o&&za.test(o)?o.replace(eu,"\\$&"):o}var m5=_u(function(o,u,f){return o+(f?"-":"")+u.toLowerCase()}),g5=_u(function(o,u,f){return o+(f?" ":"")+u.toLowerCase()}),v5=xS("toLowerCase");function y5(o,u,f){o=vt(o),u=ze(u);var _=u?hu(o):0;if(!u||_>=u)return o;var P=(u-_)/2;return $p(Rp(P),f)+o+$p(bp(P),f)}function _5(o,u,f){o=vt(o),u=ze(u);var _=u?hu(o):0;return u&&_<u?o+$p(u-_,f):o}function w5(o,u,f){o=vt(o),u=ze(u);var _=u?hu(o):0;return u&&_<u?$p(u-_,f)+o:o}function E5(o,u,f){return f||u==null?u=0:u&&(u=+u),RV(vt(o).replace(xs,""),u||0)}function x5(o,u,f){return(f?er(o,u,f):u===n)?u=1:u=ze(u),l0(vt(o),u)}function T5(){var o=arguments,u=vt(o[0]);return o.length<3?u:u.replace(o[1],o[2])}var S5=_u(function(o,u,f){return o+(f?"_":"")+u.toLowerCase()});function I5(o,u,f){return f&&typeof f!="number"&&er(o,u,f)&&(u=f=n),f=f===n?oe:f>>>0,f?(o=vt(o),o&&(typeof u=="string"||u!=null&&!N0(u))&&(u=Rr(u),!u&&du(o))?To(yi(o),0,f):o.split(u,f)):[]}var C5=_u(function(o,u,f){return o+(f?" ":"")+O0(u)});function b5(o,u,f){return o=vt(o),f=f==null?0:il(ze(f),0,o.length),u=Rr(u),o.slice(f,f+u.length)==u}function R5(o,u,f){var _=D.templateSettings;f&&er(o,u,f)&&(u=n),o=vt(o),u=Zp({},u,_,AS);var P=Zp({},u.imports,_.imports,AS),M=vn(P),B=en(P,M),W,G,te=0,ne=u.interpolate||Ha,ie="__p += '",fe=Gy((u.escape||Ha).source+"|"+ne.source+"|"+(ne===id?sd:Ha).source+"|"+(u.evaluate||Ha).source+"|$","g"),Te="//# sourceURL="+(Et.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++lp+"]")+`
`;o.replace(fe,function(Pe,Je,it,Pr,tr,Nr){return it||(it=Pr),ie+=o.slice(te,Nr).replace(Ly,rV),Je&&(W=!0,ie+=`' +
__e(`+Je+`) +
'`),tr&&(G=!0,ie+=`';
`+tr+`;
__p += '`),it&&(ie+=`' +
((__t = (`+it+`)) == null ? '' : __t) +
'`),te=Nr+Pe.length,Pe}),ie+=`';
`;var Ae=Et.call(u,"variable")&&u.variable;if(!Ae)ie=`with (obj) {
`+ie+`
}
`;else if(tu.test(Ae))throw new Fe(l);ie=(G?ie.replace(Me,""):ie).replace(mt,"$1").replace(ct,"$1;"),ie="function("+(Ae||"obj")+`) {
`+(Ae?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(W?", __e = _.escape":"")+(G?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ie+`return __p
}`;var Ge=EI(function(){return ft(M,Te+"return "+ie).apply(n,B)});if(Ge.source=ie,P0(Ge))throw Ge;return Ge}function A5(o){return vt(o).toLowerCase()}function P5(o){return vt(o).toUpperCase()}function N5(o,u,f){if(o=vt(o),o&&(f||u===n))return rt(o);if(!o||!(u=Rr(u)))return o;var _=yi(o),P=yi(u),M=dr(_,P),B=el(_,P)+1;return To(_,M,B).join("")}function k5(o,u,f){if(o=vt(o),o&&(f||u===n))return o.slice(0,OT(o)+1);if(!o||!(u=Rr(u)))return o;var _=yi(o),P=el(_,yi(u))+1;return To(_,0,P).join("")}function D5(o,u,f){if(o=vt(o),o&&(f||u===n))return o.replace(xs,"");if(!o||!(u=Rr(u)))return o;var _=yi(o),P=dr(_,yi(u));return To(_,P).join("")}function O5(o,u){var f=L,_=$;if(Lt(u)){var P="separator"in u?u.separator:P;f="length"in u?ze(u.length):f,_="omission"in u?Rr(u.omission):_}o=vt(o);var M=o.length;if(du(o)){var B=yi(o);M=B.length}if(f>=M)return o;var W=f-hu(_);if(W<1)return _;var G=B?To(B,0,W).join(""):o.slice(0,W);if(P===n)return G+_;if(B&&(W+=G.length-W),N0(P)){if(o.slice(W).search(P)){var te,ne=G;for(P.global||(P=Gy(P.source,vt(Wa.exec(P))+"g")),P.lastIndex=0;te=P.exec(ne);)var ie=te.index;G=G.slice(0,ie===n?W:ie)}}else if(o.indexOf(Rr(P),W)!=W){var fe=G.lastIndexOf(P);fe>-1&&(G=G.slice(0,fe))}return G+_}function M5(o){return o=vt(o),o&&$i.test(o)?o.replace(sn,cV):o}var L5=_u(function(o,u,f){return o+(f?" ":"")+u.toUpperCase()}),O0=xS("toUpperCase");function wI(o,u,f){return o=vt(o),u=f?n:u,u===n?sV(o)?fV(o):cu(o):o.match(u)||[]}var EI=Qe(function(o,u){try{return Vn(o,n,u)}catch(f){return P0(f)?f:new Fe(f)}}),F5=Ns(function(o,u){return Jn(u,function(f){f=Gi(f),As(o,f,R0(o[f],o))}),o});function V5(o){var u=o==null?0:o.length,f=Ce();return o=u?Ct(o,function(_){if(typeof _[1]!="function")throw new Yr(a);return[f(_[0]),_[1]]}):[],Qe(function(_){for(var P=-1;++P<u;){var M=o[P];if(Vn(M[0],this,_))return Vn(M[1],this,_)}})}function j5(o){return c4(Jr(o,m))}function M0(o){return function(){return o}}function U5(o,u){return o==null||o!==o?u:o}var $5=SS(),B5=SS(!0);function mr(o){return o}function L0(o){return eS(typeof o=="function"?o:Jr(o,m))}function z5(o){return nS(Jr(o,m))}function W5(o,u){return rS(o,Jr(u,m))}var H5=Qe(function(o,u){return function(f){return Pd(f,o,u)}}),K5=Qe(function(o,u){return function(f){return Pd(o,f,u)}});function F0(o,u,f){var _=vn(u),P=Op(u,_);f==null&&!(Lt(u)&&(P.length||!_.length))&&(f=u,u=o,o=this,P=Op(u,vn(u)));var M=!(Lt(f)&&"chain"in f)||!!f.chain,B=Ds(o);return Jn(P,function(W){var G=u[W];o[W]=G,B&&(o.prototype[W]=function(){var te=this.__chain__;if(M||te){var ne=o(this.__wrapped__),ie=ne.__actions__=hr(this.__actions__);return ie.push({func:G,args:arguments,thisArg:o}),ne.__chain__=te,ne}return G.apply(o,gi([this.value()],arguments))})}),o}function G5(){return Wt._===this&&(Wt._=_V),this}function V0(){}function q5(o){return o=ze(o),Qe(function(u){return iS(u,o)})}var Q5=m0(Ct),Y5=m0(lu),X5=m0(uu);function xI(o){return x0(o)?S(Gi(o)):b4(o)}function J5(o){return function(u){return o==null?n:sl(o,u)}}var Z5=CS(),e6=CS(!0);function j0(){return[]}function U0(){return!1}function t6(){return{}}function n6(){return""}function r6(){return!0}function i6(o,u){if(o=ze(o),o<1||o>q)return[];var f=oe,_=Un(o,oe);u=Ce(u),o-=oe;for(var P=ht(_,u);++f<o;)u(f);return P}function s6(o){return je(o)?Ct(o,Gi):Ar(o)?[o]:hr(BS(vt(o)))}function o6(o){var u=++vV;return vt(o)+u}var a6=Up(function(o,u){return o+u},0),l6=g0("ceil"),u6=Up(function(o,u){return o/u},1),c6=g0("floor");function d6(o){return o&&o.length?Dp(o,mr,t0):n}function h6(o,u){return o&&o.length?Dp(o,Ce(u,2),t0):n}function f6(o){return y(o,mr)}function p6(o,u){return y(o,Ce(u,2))}function m6(o){return o&&o.length?Dp(o,mr,s0):n}function g6(o,u){return o&&o.length?Dp(o,Ce(u,2),s0):n}var v6=Up(function(o,u){return o*u},1),y6=g0("round"),_6=Up(function(o,u){return o-u},0);function w6(o){return o&&o.length?ce(o,mr):0}function E6(o,u){return o&&o.length?ce(o,Ce(u,2)):0}return D.after=zU,D.ary=ZS,D.assign=P3,D.assignIn=fI,D.assignInWith=Zp,D.assignWith=N3,D.at=k3,D.before=eI,D.bind=R0,D.bindAll=F5,D.bindKey=tI,D.castArray=t3,D.chain=YS,D.chunk=cj,D.compact=dj,D.concat=hj,D.cond=V5,D.conforms=j5,D.constant=M0,D.countBy=wU,D.create=D3,D.curry=nI,D.curryRight=rI,D.debounce=iI,D.defaults=O3,D.defaultsDeep=M3,D.defer=WU,D.delay=HU,D.difference=fj,D.differenceBy=pj,D.differenceWith=mj,D.drop=gj,D.dropRight=vj,D.dropRightWhile=yj,D.dropWhile=_j,D.fill=wj,D.filter=xU,D.flatMap=IU,D.flatMapDeep=CU,D.flatMapDepth=bU,D.flatten=KS,D.flattenDeep=Ej,D.flattenDepth=xj,D.flip=KU,D.flow=$5,D.flowRight=B5,D.fromPairs=Tj,D.functions=B3,D.functionsIn=z3,D.groupBy=RU,D.initial=Ij,D.intersection=Cj,D.intersectionBy=bj,D.intersectionWith=Rj,D.invert=H3,D.invertBy=K3,D.invokeMap=PU,D.iteratee=L0,D.keyBy=NU,D.keys=vn,D.keysIn=pr,D.map=Gp,D.mapKeys=q3,D.mapValues=Q3,D.matches=z5,D.matchesProperty=W5,D.memoize=Qp,D.merge=Y3,D.mergeWith=pI,D.method=H5,D.methodOf=K5,D.mixin=F0,D.negate=Yp,D.nthArg=q5,D.omit=X3,D.omitBy=J3,D.once=GU,D.orderBy=kU,D.over=Q5,D.overArgs=qU,D.overEvery=Y5,D.overSome=X5,D.partial=A0,D.partialRight=sI,D.partition=DU,D.pick=Z3,D.pickBy=mI,D.property=xI,D.propertyOf=J5,D.pull=kj,D.pullAll=qS,D.pullAllBy=Dj,D.pullAllWith=Oj,D.pullAt=Mj,D.range=Z5,D.rangeRight=e6,D.rearg=QU,D.reject=LU,D.remove=Lj,D.rest=YU,D.reverse=C0,D.sampleSize=VU,D.set=t5,D.setWith=n5,D.shuffle=jU,D.slice=Fj,D.sortBy=BU,D.sortedUniq=Wj,D.sortedUniqBy=Hj,D.split=I5,D.spread=XU,D.tail=Kj,D.take=Gj,D.takeRight=qj,D.takeRightWhile=Qj,D.takeWhile=Yj,D.tap=dU,D.throttle=JU,D.thru=Kp,D.toArray=cI,D.toPairs=gI,D.toPairsIn=vI,D.toPath=s6,D.toPlainObject=hI,D.transform=r5,D.unary=ZU,D.union=Xj,D.unionBy=Jj,D.unionWith=Zj,D.uniq=eU,D.uniqBy=tU,D.uniqWith=nU,D.unset=i5,D.unzip=b0,D.unzipWith=QS,D.update=s5,D.updateWith=o5,D.values=xu,D.valuesIn=a5,D.without=rU,D.words=wI,D.wrap=e3,D.xor=iU,D.xorBy=sU,D.xorWith=oU,D.zip=aU,D.zipObject=lU,D.zipObjectDeep=uU,D.zipWith=cU,D.entries=gI,D.entriesIn=vI,D.extend=fI,D.extendWith=Zp,F0(D,D),D.add=a6,D.attempt=EI,D.camelCase=d5,D.capitalize=yI,D.ceil=l6,D.clamp=l5,D.clone=n3,D.cloneDeep=i3,D.cloneDeepWith=s3,D.cloneWith=r3,D.conformsTo=o3,D.deburr=_I,D.defaultTo=U5,D.divide=u6,D.endsWith=h5,D.eq=wi,D.escape=f5,D.escapeRegExp=p5,D.every=EU,D.find=TU,D.findIndex=WS,D.findKey=L3,D.findLast=SU,D.findLastIndex=HS,D.findLastKey=F3,D.floor=c6,D.forEach=XS,D.forEachRight=JS,D.forIn=V3,D.forInRight=j3,D.forOwn=U3,D.forOwnRight=$3,D.get=k0,D.gt=a3,D.gte=l3,D.has=W3,D.hasIn=D0,D.head=GS,D.identity=mr,D.includes=AU,D.indexOf=Sj,D.inRange=u5,D.invoke=G3,D.isArguments=ll,D.isArray=je,D.isArrayBuffer=u3,D.isArrayLike=fr,D.isArrayLikeObject=qt,D.isBoolean=c3,D.isBuffer=So,D.isDate=d3,D.isElement=h3,D.isEmpty=f3,D.isEqual=p3,D.isEqualWith=m3,D.isError=P0,D.isFinite=g3,D.isFunction=Ds,D.isInteger=oI,D.isLength=Xp,D.isMap=aI,D.isMatch=v3,D.isMatchWith=y3,D.isNaN=_3,D.isNative=w3,D.isNil=x3,D.isNull=E3,D.isNumber=lI,D.isObject=Lt,D.isObjectLike=Ht,D.isPlainObject=Ld,D.isRegExp=N0,D.isSafeInteger=T3,D.isSet=uI,D.isString=Jp,D.isSymbol=Ar,D.isTypedArray=Eu,D.isUndefined=S3,D.isWeakMap=I3,D.isWeakSet=C3,D.join=Aj,D.kebabCase=m5,D.last=ei,D.lastIndexOf=Pj,D.lowerCase=g5,D.lowerFirst=v5,D.lt=b3,D.lte=R3,D.max=d6,D.maxBy=h6,D.mean=f6,D.meanBy=p6,D.min=m6,D.minBy=g6,D.stubArray=j0,D.stubFalse=U0,D.stubObject=t6,D.stubString=n6,D.stubTrue=r6,D.multiply=v6,D.nth=Nj,D.noConflict=G5,D.noop=V0,D.now=qp,D.pad=y5,D.padEnd=_5,D.padStart=w5,D.parseInt=E5,D.random=c5,D.reduce=OU,D.reduceRight=MU,D.repeat=x5,D.replace=T5,D.result=e5,D.round=y6,D.runInContext=K,D.sample=FU,D.size=UU,D.snakeCase=S5,D.some=$U,D.sortedIndex=Vj,D.sortedIndexBy=jj,D.sortedIndexOf=Uj,D.sortedLastIndex=$j,D.sortedLastIndexBy=Bj,D.sortedLastIndexOf=zj,D.startCase=C5,D.startsWith=b5,D.subtract=_6,D.sum=w6,D.sumBy=E6,D.template=R5,D.times=i6,D.toFinite=Os,D.toInteger=ze,D.toLength=dI,D.toLower=A5,D.toNumber=ti,D.toSafeInteger=A3,D.toString=vt,D.toUpper=P5,D.trim=N5,D.trimEnd=k5,D.trimStart=D5,D.truncate=O5,D.unescape=M5,D.uniqueId=o6,D.upperCase=L5,D.upperFirst=O0,D.each=XS,D.eachRight=JS,D.first=GS,F0(D,function(){var o={};return Hi(D,function(u,f){Et.call(D.prototype,f)||(o[f]=u)}),o}(),{chain:!1}),D.VERSION=r,Jn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){D[o].placeholder=D}),Jn(["drop","take"],function(o,u){et.prototype[o]=function(f){f=f===n?1:ln(ze(f),0);var _=this.__filtered__&&!u?new et(this):this.clone();return _.__filtered__?_.__takeCount__=Un(f,_.__takeCount__):_.__views__.push({size:Un(f,oe),type:o+(_.__dir__<0?"Right":"")}),_},et.prototype[o+"Right"]=function(f){return this.reverse()[o](f).reverse()}}),Jn(["filter","map","takeWhile"],function(o,u){var f=u+1,_=f==ee||f==le;et.prototype[o]=function(P){var M=this.clone();return M.__iteratees__.push({iteratee:Ce(P,3),type:f}),M.__filtered__=M.__filtered__||_,M}}),Jn(["head","last"],function(o,u){var f="take"+(u?"Right":"");et.prototype[o]=function(){return this[f](1).value()[0]}}),Jn(["initial","tail"],function(o,u){var f="drop"+(u?"":"Right");et.prototype[o]=function(){return this.__filtered__?new et(this):this[f](1)}}),et.prototype.compact=function(){return this.filter(mr)},et.prototype.find=function(o){return this.filter(o).head()},et.prototype.findLast=function(o){return this.reverse().find(o)},et.prototype.invokeMap=Qe(function(o,u){return typeof o=="function"?new et(this):this.map(function(f){return Pd(f,o,u)})}),et.prototype.reject=function(o){return this.filter(Yp(Ce(o)))},et.prototype.slice=function(o,u){o=ze(o);var f=this;return f.__filtered__&&(o>0||u<0)?new et(f):(o<0?f=f.takeRight(-o):o&&(f=f.drop(o)),u!==n&&(u=ze(u),f=u<0?f.dropRight(-u):f.take(u-o)),f)},et.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},et.prototype.toArray=function(){return this.take(oe)},Hi(et.prototype,function(o,u){var f=/^(?:filter|find|map|reject)|While$/.test(u),_=/^(?:head|last)$/.test(u),P=D[_?"take"+(u=="last"?"Right":""):u],M=_||/^find/.test(u);P&&(D.prototype[u]=function(){var B=this.__wrapped__,W=_?[1]:arguments,G=B instanceof et,te=W[0],ne=G||je(B),ie=function(Je){var it=P.apply(D,gi([Je],W));return _&&fe?it[0]:it};ne&&f&&typeof te=="function"&&te.length!=1&&(G=ne=!1);var fe=this.__chain__,Te=!!this.__actions__.length,Ae=M&&!fe,Ge=G&&!Te;if(!M&&ne){B=Ge?B:new et(this);var Pe=o.apply(B,W);return Pe.__actions__.push({func:Kp,args:[ie],thisArg:n}),new Xr(Pe,fe)}return Ae&&Ge?o.apply(this,W):(Pe=this.thru(ie),Ae?_?Pe.value()[0]:Pe.value():Pe)})}),Jn(["pop","push","shift","sort","splice","unshift"],function(o){var u=yp[o],f=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",_=/^(?:pop|shift)$/.test(o);D.prototype[o]=function(){var P=arguments;if(_&&!this.__chain__){var M=this.value();return u.apply(je(M)?M:[],P)}return this[f](function(B){return u.apply(je(B)?B:[],P)})}}),Hi(et.prototype,function(o,u){var f=D[u];if(f){var _=f.name+"";Et.call(gu,_)||(gu[_]=[]),gu[_].push({name:u,func:f})}}),gu[jp(n,C).name]=[{name:"wrapper",func:n}],et.prototype.clone=MV,et.prototype.reverse=LV,et.prototype.value=FV,D.prototype.at=hU,D.prototype.chain=fU,D.prototype.commit=pU,D.prototype.next=mU,D.prototype.plant=vU,D.prototype.reverse=yU,D.prototype.toJSON=D.prototype.valueOf=D.prototype.value=_U,D.prototype.first=D.prototype.head,Td&&(D.prototype[Td]=gU),D},fu=pV();Cn?((Cn.exports=fu)._=fu,ou._=fu):Wt._=fu}).call(Fd)})(hv,hv.exports);var aZ=hv.exports;function hi(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function so(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function lZ(t,e){const n=hi(t);if(isNaN(e))return so(t,NaN);if(!e)return n;const r=n.getDate(),i=so(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const oM=6048e5,uZ=864e5,aM=6e4,lM=36e5;let cZ={};function wy(){return cZ}function lf(t,e){var l,c,h,p;const n=wy(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,i=hi(t),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function fv(t){return lf(t,{weekStartsOn:1})}function uM(t){const e=hi(t),n=e.getFullYear(),r=so(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=fv(r),s=so(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=fv(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function XR(t){const e=hi(t);return e.setHours(0,0,0,0),e}function JR(t){const e=hi(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function dZ(t,e){const n=XR(t),r=XR(e),i=+n-JR(n),s=+r-JR(r);return Math.round((i-s)/uZ)}function hZ(t){const e=uM(t),n=so(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),fv(n)}function fZ(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function pv(t){if(!fZ(t)&&typeof t!="number")return!1;const e=hi(t);return!isNaN(Number(e))}function pZ(t){const e=hi(t),n=so(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const mZ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},gZ=(t,e,n)=>{let r;const i=mZ[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function M_(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const vZ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},yZ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_Z={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wZ={date:M_({formats:vZ,defaultWidth:"full"}),time:M_({formats:yZ,defaultWidth:"full"}),dateTime:M_({formats:_Z,defaultWidth:"full"})},EZ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xZ=(t,e,n,r)=>EZ[t];function Qd(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):a;i=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const TZ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},SZ={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},IZ={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},CZ={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},bZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},RZ={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},AZ=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},PZ={ordinalNumber:AZ,era:Qd({values:TZ,defaultWidth:"wide"}),quarter:Qd({values:SZ,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Qd({values:IZ,defaultWidth:"wide"}),day:Qd({values:CZ,defaultWidth:"wide"}),dayPeriod:Qd({values:bZ,defaultWidth:"wide",formattingValues:RZ,defaultFormattingWidth:"wide"})};function Yd(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?kZ(l,m=>m.test(a)):NZ(l,m=>m.test(a));let h;h=t.valueCallback?t.valueCallback(c):c,h=n.valueCallback?n.valueCallback(h):h;const p=e.slice(a.length);return{value:h,rest:p}}}function NZ(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function kZ(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function DZ(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const OZ=/^(\d+)(th|st|nd|rd)?/i,MZ=/\d+/i,LZ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},FZ={any:[/^b/i,/^(a|c)/i]},VZ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jZ={any:[/1/i,/2/i,/3/i,/4/i]},UZ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$Z={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},BZ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zZ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},WZ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},HZ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},KZ={ordinalNumber:DZ({matchPattern:OZ,parsePattern:MZ,valueCallback:t=>parseInt(t,10)}),era:Yd({matchPatterns:LZ,defaultMatchWidth:"wide",parsePatterns:FZ,defaultParseWidth:"any"}),quarter:Yd({matchPatterns:VZ,defaultMatchWidth:"wide",parsePatterns:jZ,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Yd({matchPatterns:UZ,defaultMatchWidth:"wide",parsePatterns:$Z,defaultParseWidth:"any"}),day:Yd({matchPatterns:BZ,defaultMatchWidth:"wide",parsePatterns:zZ,defaultParseWidth:"any"}),dayPeriod:Yd({matchPatterns:WZ,defaultMatchWidth:"any",parsePatterns:HZ,defaultParseWidth:"any"})},GZ={code:"en-US",formatDistance:gZ,formatLong:wZ,formatRelative:xZ,localize:PZ,match:KZ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qZ(t){const e=hi(t);return dZ(e,pZ(e))+1}function QZ(t){const e=hi(t),n=+fv(e)-+hZ(e);return Math.round(n/oM)+1}function cM(t,e){var p,m,g,x;const n=hi(t),r=n.getFullYear(),i=wy(),s=(e==null?void 0:e.firstWeekContainsDate)??((m=(p=e==null?void 0:e.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((x=(g=i.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??1,a=so(t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const l=lf(a,e),c=so(t,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const h=lf(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=h.getTime()?r:r-1}function YZ(t,e){var l,c,h,p;const n=wy(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,i=cM(t,e),s=so(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),lf(s,e)}function XZ(t,e){const n=hi(t),r=+lf(n,e)-+YZ(n,e);return Math.round(r/oM)+1}function xt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ao={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return xt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):xt(n+1,2)},d(t,e){return xt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return xt(t.getHours()%12||12,e.length)},H(t,e){return xt(t.getHours(),e.length)},m(t,e){return xt(t.getMinutes(),e.length)},s(t,e){return xt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return xt(i,e.length)}},Su={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ZR={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ao.y(t,e)},Y:function(t,e,n,r){const i=cM(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return xt(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):xt(s,e.length)},R:function(t,e){const n=uM(t);return xt(n,e.length)},u:function(t,e){const n=t.getFullYear();return xt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return xt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return xt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ao.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return xt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=XZ(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):xt(i,e.length)},I:function(t,e,n){const r=QZ(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):xt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ao.d(t,e)},D:function(t,e,n){const r=qZ(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):xt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return xt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return xt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return xt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Su.noon:r===0?i=Su.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Su.evening:r>=12?i=Su.afternoon:r>=4?i=Su.morning:i=Su.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ao.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ao.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):xt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):xt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ao.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ao.s(t,e)},S:function(t,e){return Ao.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return tA(r);case"XXXX":case"XX":return hl(r);case"XXXXX":case"XXX":default:return hl(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return tA(r);case"xxxx":case"xx":return hl(r);case"xxxxx":case"xxx":default:return hl(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+eA(r,":");case"OOOO":default:return"GMT"+hl(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+eA(r,":");case"zzzz":default:return"GMT"+hl(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return xt(r,e.length)},T:function(t,e,n){const r=t.getTime();return xt(r,e.length)}};function eA(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+xt(s,2)}function tA(t,e){return t%60===0?(t>0?"-":"+")+xt(Math.abs(t)/60,2):hl(t,e)}function hl(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=xt(Math.trunc(r/60),2),s=xt(r%60,2);return n+i+e+s}const nA=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},dM=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},JZ=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return nA(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",nA(r,e)).replace("{{time}}",dM(i,e))},ZZ={p:dM,P:JZ},eee=/^D+$/,tee=/^Y+$/,nee=["D","DD","YY","YYYY"];function ree(t){return eee.test(t)}function iee(t){return tee.test(t)}function see(t,e,n){const r=oee(t,e,n);if(console.warn(r),nee.includes(t))throw new RangeError(r)}function oee(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const aee=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lee=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uee=/^'([^]*?)'?$/,cee=/''/g,dee=/[a-zA-Z]/;function ug(t,e,n){var p,m,g,x;const r=wy(),i=r.locale??GZ,s=r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,a=r.weekStartsOn??((x=(g=r.locale)==null?void 0:g.options)==null?void 0:x.weekStartsOn)??0,l=hi(t);if(!pv(l))throw new RangeError("Invalid time value");let c=e.match(lee).map(I=>{const E=I[0];if(E==="p"||E==="P"){const b=ZZ[E];return b(I,i.formatLong)}return I}).join("").match(aee).map(I=>{if(I==="''")return{isToken:!1,value:"'"};const E=I[0];if(E==="'")return{isToken:!1,value:hee(I)};if(ZR[E])return{isToken:!0,value:I};if(E.match(dee))throw new RangeError("Format string contains an unescaped latin alphabet character `"+E+"`");return{isToken:!1,value:I}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const h={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return c.map(I=>{if(!I.isToken)return I.value;const E=I.value;(iee(E)||ree(E))&&see(E,e,String(t));const b=ZR[E[0]];return b(l,E,i.localize,h)}).join("")}function hee(t){const e=t.match(uee);return e?e[1].replace(cee,"'"):t}function hM(t,e){const r=gee(t);let i;if(r.date){const c=vee(r.date,2);i=yee(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let a=0,l;if(r.time&&(a=_ee(r.time),isNaN(a)))return new Date(NaN);if(r.timezone){if(l=wee(r.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(s+a),h=new Date(0);return h.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),h.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),h}return new Date(s+a+l)}const Nm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},fee=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,pee=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,mee=/^([+-])(\d{2})(?::?(\d{2}))?$/;function gee(t){const e={},n=t.split(Nm.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Nm.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Nm.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Nm.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function vee(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function yee(t,e){if(e===null)return new Date(NaN);const n=t.match(fee);if(!n)return new Date(NaN);const r=!!n[4],i=Xd(n[1]),s=Xd(n[2])-1,a=Xd(n[3]),l=Xd(n[4]),c=Xd(n[5])-1;if(r)return Iee(e,l,c)?Eee(e,l,c):new Date(NaN);{const h=new Date(0);return!Tee(e,s,a)||!See(e,i)?new Date(NaN):(h.setUTCFullYear(e,s,Math.max(i,a)),h)}}function Xd(t){return t?parseInt(t):1}function _ee(t){const e=t.match(pee);if(!e)return NaN;const n=L_(e[1]),r=L_(e[2]),i=L_(e[3]);return Cee(n,r,i)?n*lM+r*aM+i*1e3:NaN}function L_(t){return t&&parseFloat(t.replace(",","."))||0}function wee(t){if(t==="Z")return 0;const e=t.match(mee);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return bee(r,i)?n*(r*lM+i*aM):NaN}function Eee(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const xee=[31,null,31,30,31,30,31,31,30,31,30,31];function fM(t){return t%400===0||t%4===0&&t%100!==0}function Tee(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(xee[e]||(fM(t)?29:28))}function See(t,e){return e>=1&&e<=(fM(t)?366:365)}function Iee(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function Cee(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function bee(t,e){return e>=0&&e<=59}function Ree(t,e){return lZ(t,-e)}function rA({className:t,...e}){return v.jsx("div",{className:Re("animate-pulse rounded-md bg-muted",t),...e})}const Aee=()=>{const[t,e]=w.useState([]),[n,r]=w.useState([]),[i,s]=w.useState(!0);w.useEffect(()=>{(async()=>{try{const h=await cT(),p=await _y();e(h),r(p)}catch(h){console.error("Error loading data:",h)}finally{s(!1)}})()},[]);const a=Pee(t),l=[...n].sort((c,h)=>h.doctorCount-c.doctorCount).slice(0,7);return v.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:i?v.jsxs(v.Fragment,{children:[v.jsx(rA,{className:"h-[400px] w-full rounded-lg"}),v.jsx(rA,{className:"h-[400px] w-full rounded-lg"})]}):v.jsxs(v.Fragment,{children:[v.jsxs(Rc,{children:[v.jsxs(Ac,{children:[v.jsx(qh,{children:"Doctor Registrations"}),v.jsx(Hg,{children:"Monthly doctor registration trend"})]}),v.jsx(Pc,{className:"space-y-4",children:v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:a.map(c=>v.jsxs("div",{className:"p-4 bg-blue-50 rounded-md",children:[v.jsx("p",{className:"text-sm text-gray-500",children:c.month}),v.jsx("p",{className:"text-xl font-bold",children:c.count})]},c.month))})})]}),v.jsxs(Rc,{children:[v.jsxs(Ac,{children:[v.jsx(qh,{children:"Specialty Distribution"}),v.jsx(Hg,{children:"Number of doctors by specialty"})]}),v.jsx(Pc,{className:"space-y-4",children:v.jsx("div",{className:"space-y-2",children:l.map(c=>v.jsxs("div",{className:"flex justify-between items-center p-2 bg-teal-50 rounded-md",children:[v.jsx("span",{children:c.name}),v.jsx("span",{className:"font-bold",children:c.doctorCount})]},c.id))})})]})]})})};function Pee(t){const e=new Date,n=[];for(let i=0;i<6;i++){const s=Ree(e,i),a=ug(s,"yyyy-MM");n.unshift({monthKey:a,month:ug(s,"MMM"),date:s})}const r=aZ.groupBy(t,i=>{let s;if(typeof i.joinedDate=="string")s=hM(i.joinedDate);else if(i.joinedDate instanceof Date)s=i.joinedDate;else return console.warn("Invalid joinedDate for doctor:",i),"Unknown";return pv(s)?ug(s,"yyyy-MM"):"Unknown"});return n.map(({monthKey:i,month:s})=>({month:s,count:r[i]?r[i].length:0}))}const Nee=()=>{const[t,e]=w.useState({totalDoctors:0,activeDoctors:0,specialties:0,averageRating:0}),[n,r]=w.useState(!0);return w.useEffect(()=>{(async()=>{try{const s=await cT(),a=await _y(),l=s.filter(p=>p.status==="active").length,c=s.reduce((p,m)=>p+(m.rating||0),0),h=s.length>0?c/s.length:0;e({totalDoctors:s.length,activeDoctors:l,specialties:a.length,averageRating:Number(h.toFixed(1))})}catch(s){console.error("Error loading dashboard data:",s)}finally{r(!1)}})()},[]),n?v.jsxs("div",{className:"space-y-6",children:[v.jsx(bc,{title:"Dashboard"}),v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx("p",{className:"text-gray-500",children:"Loading dashboard data..."})})]}):v.jsxs("div",{className:"space-y-6",children:[v.jsx(bc,{title:"Dashboard"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[v.jsx(Tm,{title:"Total Doctors",value:t.totalDoctors,icon:v.jsx(H1,{className:"h-5 w-5"}),color:"blue",trend:{value:0,positive:!0}}),v.jsx(Tm,{title:"Active Doctors",value:t.activeDoctors,icon:v.jsx(K1,{className:"h-5 w-5"}),color:"teal",trend:{value:0,positive:!0}}),v.jsx(Tm,{title:"Specialties",value:t.specialties,icon:v.jsx(YB,{className:"h-5 w-5"}),color:"amber"}),v.jsx(Tm,{title:"Average Rating",value:t.averageRating,icon:v.jsx(Ym,{className:"h-5 w-5"}),color:"blue",trend:{value:0,positive:!0}})]}),v.jsx(Aee,{})]})},kee=$v("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),wn=w.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const a=r?ga:"button";return v.jsx(a,{className:Re(kee({variant:e,size:n,className:t})),ref:s,...i})});wn.displayName="Button";const Qn=w.forwardRef(({className:t,type:e,...n},r)=>v.jsx("input",{type:e,className:Re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Qn.displayName="Input";function iA(t,[e,n]){return Math.min(n,Math.max(e,t))}var Dee=w.createContext(void 0);function Ey(t){const e=w.useContext(Dee);return t||e||"ltr"}var F_=0;function dT(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??sA()),document.body.insertAdjacentElement("beforeend",t[1]??sA()),F_++,()=>{F_===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),F_--}},[])}function sA(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var V_="focusScope.autoFocusOnMount",j_="focusScope.autoFocusOnUnmount",oA={bubbles:!1,cancelable:!0},Oee="FocusScope",xy=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[l,c]=w.useState(null),h=Dn(i),p=Dn(s),m=w.useRef(null),g=pt(e,E=>c(E)),x=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let E=function(R){if(x.paused||!l)return;const V=R.target;l.contains(V)?m.current=V:ko(m.current,{select:!0})},b=function(R){if(x.paused||!l)return;const V=R.relatedTarget;V!==null&&(l.contains(V)||ko(m.current,{select:!0}))},C=function(R){if(document.activeElement===document.body)for(const U of R)U.removedNodes.length>0&&ko(l)};document.addEventListener("focusin",E),document.addEventListener("focusout",b);const T=new MutationObserver(C);return l&&T.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",b),T.disconnect()}}},[r,l,x.paused]),w.useEffect(()=>{if(l){lA.add(x);const E=document.activeElement;if(!l.contains(E)){const C=new CustomEvent(V_,oA);l.addEventListener(V_,h),l.dispatchEvent(C),C.defaultPrevented||(Mee(Uee(pM(l)),{select:!0}),document.activeElement===E&&ko(l))}return()=>{l.removeEventListener(V_,h),setTimeout(()=>{const C=new CustomEvent(j_,oA);l.addEventListener(j_,p),l.dispatchEvent(C),C.defaultPrevented||ko(E??document.body,{select:!0}),l.removeEventListener(j_,p),lA.remove(x)},0)}}},[l,h,p,x]);const I=w.useCallback(E=>{if(!n&&!r||x.paused)return;const b=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,C=document.activeElement;if(b&&C){const T=E.currentTarget,[R,V]=Lee(T);R&&V?!E.shiftKey&&C===V?(E.preventDefault(),n&&ko(R,{select:!0})):E.shiftKey&&C===R&&(E.preventDefault(),n&&ko(V,{select:!0})):C===T&&E.preventDefault()}},[n,r,x.paused]);return v.jsx(Oe.div,{tabIndex:-1,...a,ref:g,onKeyDown:I})});xy.displayName=Oee;function Mee(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ko(r,{select:e}),document.activeElement!==n)return}function Lee(t){const e=pM(t),n=aA(e,t),r=aA(e.reverse(),t);return[n,r]}function pM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function aA(t,e){for(const n of t)if(!Fee(n,{upTo:e}))return n}function Fee(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Vee(t){return t instanceof HTMLInputElement&&"select"in t}function ko(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Vee(t)&&e&&t.select()}}var lA=jee();function jee(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=uA(t,e),t.unshift(e)},remove(e){var n;t=uA(t,e),(n=t[0])==null||n.resume()}}}function uA(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Uee(t){return t.filter(e=>e.tagName!=="A")}function $ee(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Bee=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Iu=new WeakMap,km=new WeakMap,Dm={},U_=0,mM=function(t){return t&&(t.host||mM(t.parentNode))},zee=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=mM(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Wee=function(t,e,n,r){var i=zee(e,Array.isArray(t)?t:[t]);Dm[n]||(Dm[n]=new WeakMap);var s=Dm[n],a=[],l=new Set,c=new Set(i),h=function(m){!m||l.has(m)||(l.add(m),h(m.parentNode))};i.forEach(h);var p=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(g){if(l.has(g))p(g);else try{var x=g.getAttribute(r),I=x!==null&&x!=="false",E=(Iu.get(g)||0)+1,b=(s.get(g)||0)+1;Iu.set(g,E),s.set(g,b),a.push(g),E===1&&I&&km.set(g,!0),b===1&&g.setAttribute(n,"true"),I||g.setAttribute(r,"true")}catch(C){console.error("aria-hidden: cannot operate on ",g,C)}})};return p(e),l.clear(),U_++,function(){a.forEach(function(m){var g=Iu.get(m)-1,x=s.get(m)-1;Iu.set(m,g),s.set(m,x),g||(km.has(m)||m.removeAttribute(r),km.delete(m)),x||m.removeAttribute(n)}),U_--,U_||(Iu=new WeakMap,Iu=new WeakMap,km=new WeakMap,Dm={})}},hT=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Bee(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Wee(r,i,n,"aria-hidden")):function(){return null}},cg="right-scroll-bar-position",dg="width-before-scroll-bar",Hee="with-scroll-bars-hidden",Kee="--removed-body-scroll-bar-size";function $_(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Gee(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var qee=typeof window<"u"?w.useLayoutEffect:w.useEffect,cA=new WeakMap;function Qee(t,e){var n=Gee(null,function(r){return t.forEach(function(i){return $_(i,r)})});return qee(function(){var r=cA.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(l){s.has(l)||$_(l,null)}),s.forEach(function(l){i.has(l)||$_(l,a)})}cA.set(n,t)},[t]),n}function Yee(t){return t}function Xee(t,e){e===void 0&&(e=Yee);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(s),a=n}var c=function(){var p=a;a=[],p.forEach(s)},h=function(){return Promise.resolve().then(c)};h(),n={push:function(p){a.push(p),h()},filter:function(p){return a=a.filter(p),n}}}};return i}function Jee(t){t===void 0&&(t={});var e=Xee(null);return e.options=ns({async:!0,ssr:!1},t),e}var gM=function(t){var e=t.sideCar,n=Rf(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,ns({},n))};gM.isSideCarExport=!0;function Zee(t,e){return t.useMedium(e),gM}var vM=Jee(),B_=function(){},Ty=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:B_,onWheelCapture:B_,onTouchMoveCapture:B_}),i=r[0],s=r[1],a=t.forwardProps,l=t.children,c=t.className,h=t.removeScrollBar,p=t.enabled,m=t.shards,g=t.sideCar,x=t.noIsolation,I=t.inert,E=t.allowPinchZoom,b=t.as,C=b===void 0?"div":b,T=t.gapMode,R=Rf(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),V=g,U=Qee([n,e]),z=ns(ns({},R),i);return w.createElement(w.Fragment,null,p&&w.createElement(V,{sideCar:vM,removeScrollBar:h,shards:m,noIsolation:x,inert:I,setCallbacks:s,allowPinchZoom:!!E,lockRef:n,gapMode:T}),a?w.cloneElement(w.Children.only(l),ns(ns({},z),{ref:U})):w.createElement(C,ns({},z,{className:c,ref:U}),l))});Ty.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ty.classNames={fullWidth:dg,zeroRight:cg};var ete=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function tte(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=ete();return e&&t.setAttribute("nonce",e),t}function nte(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function rte(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var ite=function(){var t=0,e=null;return{add:function(n){t==0&&(e=tte())&&(nte(e,n),rte(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},ste=function(){var t=ite();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},yM=function(){var t=ste(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},ote={left:0,top:0,right:0,gap:0},z_=function(t){return parseInt(t||"",10)||0},ate=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[z_(n),z_(r),z_(i)]},lte=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return ote;var e=ate(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},ute=yM(),ic="data-scroll-locked",cte=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Hee,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(ic,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cg,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(dg,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(cg," .").concat(cg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(dg," .").concat(dg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ic,`] {
    `).concat(Kee,": ").concat(l,`px;
  }
`)},dA=function(){var t=parseInt(document.body.getAttribute(ic)||"0",10);return isFinite(t)?t:0},dte=function(){w.useEffect(function(){return document.body.setAttribute(ic,(dA()+1).toString()),function(){var t=dA()-1;t<=0?document.body.removeAttribute(ic):document.body.setAttribute(ic,t.toString())}},[])},hte=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;dte();var s=w.useMemo(function(){return lte(i)},[i]);return w.createElement(ute,{styles:cte(s,!e,i,n?"":"!important")})},LE=!1;if(typeof window<"u")try{var Om=Object.defineProperty({},"passive",{get:function(){return LE=!0,!0}});window.addEventListener("test",Om,Om),window.removeEventListener("test",Om,Om)}catch{LE=!1}var Cu=LE?{passive:!1}:!1,fte=function(t){return t.tagName==="TEXTAREA"},_M=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!fte(t)&&n[e]==="visible")},pte=function(t){return _M(t,"overflowY")},mte=function(t){return _M(t,"overflowX")},hA=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=wM(t,r);if(i){var s=EM(t,r),a=s[1],l=s[2];if(a>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},gte=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},vte=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},wM=function(t,e){return t==="v"?pte(e):mte(e)},EM=function(t,e){return t==="v"?gte(e):vte(e)},yte=function(t,e){return t==="h"&&e==="rtl"?-1:1},_te=function(t,e,n,r,i){var s=yte(t,window.getComputedStyle(e).direction),a=s*r,l=n.target,c=e.contains(l),h=!1,p=a>0,m=0,g=0;do{var x=EM(t,l),I=x[0],E=x[1],b=x[2],C=E-b-s*I;(I||C)&&wM(t,l)&&(m+=C,g+=I),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(p&&(Math.abs(m)<1||!i)||!p&&(Math.abs(g)<1||!i))&&(h=!0),h},Mm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},fA=function(t){return[t.deltaX,t.deltaY]},pA=function(t){return t&&"current"in t?t.current:t},wte=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Ete=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},xte=0,bu=[];function Tte(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),i=w.useState(xte++)[0],s=w.useState(yM)[0],a=w.useRef(t);w.useEffect(function(){a.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var E=nG([t.lockRef.current],(t.shards||[]).map(pA),!0).filter(Boolean);return E.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),E.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=w.useCallback(function(E,b){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!a.current.allowPinchZoom;var C=Mm(E),T=n.current,R="deltaX"in E?E.deltaX:T[0]-C[0],V="deltaY"in E?E.deltaY:T[1]-C[1],U,z=E.target,N=Math.abs(R)>Math.abs(V)?"h":"v";if("touches"in E&&N==="h"&&z.type==="range")return!1;var A=hA(N,z);if(!A)return!0;if(A?U=N:(U=N==="v"?"h":"v",A=hA(N,z)),!A)return!1;if(!r.current&&"changedTouches"in E&&(R||V)&&(r.current=U),!U)return!0;var k=r.current||U;return _te(k,b,E,k==="h"?R:V,!0)},[]),c=w.useCallback(function(E){var b=E;if(!(!bu.length||bu[bu.length-1]!==s)){var C="deltaY"in b?fA(b):Mm(b),T=e.current.filter(function(U){return U.name===b.type&&(U.target===b.target||b.target===U.shadowParent)&&wte(U.delta,C)})[0];if(T&&T.should){b.cancelable&&b.preventDefault();return}if(!T){var R=(a.current.shards||[]).map(pA).filter(Boolean).filter(function(U){return U.contains(b.target)}),V=R.length>0?l(b,R[0]):!a.current.noIsolation;V&&b.cancelable&&b.preventDefault()}}},[]),h=w.useCallback(function(E,b,C,T){var R={name:E,delta:b,target:C,should:T,shadowParent:Ste(C)};e.current.push(R),setTimeout(function(){e.current=e.current.filter(function(V){return V!==R})},1)},[]),p=w.useCallback(function(E){n.current=Mm(E),r.current=void 0},[]),m=w.useCallback(function(E){h(E.type,fA(E),E.target,l(E,t.lockRef.current))},[]),g=w.useCallback(function(E){h(E.type,Mm(E),E.target,l(E,t.lockRef.current))},[]);w.useEffect(function(){return bu.push(s),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Cu),document.addEventListener("touchmove",c,Cu),document.addEventListener("touchstart",p,Cu),function(){bu=bu.filter(function(E){return E!==s}),document.removeEventListener("wheel",c,Cu),document.removeEventListener("touchmove",c,Cu),document.removeEventListener("touchstart",p,Cu)}},[]);var x=t.removeScrollBar,I=t.inert;return w.createElement(w.Fragment,null,I?w.createElement(s,{styles:Ete(i)}):null,x?w.createElement(hte,{gapMode:t.gapMode}):null)}function Ste(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Ite=Zee(vM,Tte);var Sy=w.forwardRef(function(t,e){return w.createElement(Ty,ns({},t,{ref:e,sideCar:Ite}))});Sy.classNames=Ty.classNames;var Cte=[" ","Enter","ArrowUp","ArrowDown"],bte=[" ","Enter"],Uf="Select",[Iy,Cy,Rte]=Vv(Uf),[rd,xie]=Na(Uf,[Rte,Kc]),by=Kc(),[Ate,Fa]=rd(Uf),[Pte,Nte]=rd(Uf),xM=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:l,onValueChange:c,dir:h,name:p,autoComplete:m,disabled:g,required:x,form:I}=t,E=by(e),[b,C]=w.useState(null),[T,R]=w.useState(null),[V,U]=w.useState(!1),z=Ey(h),[N=!1,A]=Nl({prop:r,defaultProp:i,onChange:s}),[k,L]=Nl({prop:a,defaultProp:l,onChange:c}),$=w.useRef(null),j=b?I||!!b.closest("form"):!0,[F,ee]=w.useState(new Set),ge=Array.from(F).map(le=>le.props.value).join(";");return v.jsx(Hk,{...E,children:v.jsxs(Ate,{required:x,scope:e,trigger:b,onTriggerChange:C,valueNode:T,onValueNodeChange:R,valueNodeHasChildren:V,onValueNodeHasChildrenChange:U,contentId:ss(),value:k,onValueChange:L,open:N,onOpenChange:A,dir:z,triggerPointerDownPosRef:$,disabled:g,children:[v.jsx(Iy.Provider,{scope:e,children:v.jsx(Pte,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(le=>{ee(he=>new Set(he).add(le))},[]),onNativeOptionRemove:w.useCallback(le=>{ee(he=>{const q=new Set(he);return q.delete(le),q})},[]),children:n})}),j?v.jsxs(GM,{"aria-hidden":!0,required:x,tabIndex:-1,name:p,autoComplete:m,value:k,onChange:le=>L(le.target.value),disabled:g,form:I,children:[k===void 0?v.jsx("option",{value:""}):null,Array.from(F)]},ge):null]})})};xM.displayName=Uf;var TM="SelectTrigger",SM=w.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=by(n),a=Fa(TM,n),l=a.disabled||r,c=pt(e,a.onTriggerChange),h=Cy(n),p=w.useRef("touch"),[m,g,x]=qM(E=>{const b=h().filter(R=>!R.disabled),C=b.find(R=>R.value===a.value),T=QM(b,E,C);T!==void 0&&a.onValueChange(T.value)}),I=E=>{l||(a.onOpenChange(!0),x()),E&&(a.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return v.jsx(rx,{asChild:!0,...s,children:v.jsx(Oe.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":KM(a.value)?"":void 0,...i,ref:c,onClick:pe(i.onClick,E=>{E.currentTarget.focus(),p.current!=="mouse"&&I(E)}),onPointerDown:pe(i.onPointerDown,E=>{p.current=E.pointerType;const b=E.target;b.hasPointerCapture(E.pointerId)&&b.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(I(E),E.preventDefault())}),onKeyDown:pe(i.onKeyDown,E=>{const b=m.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&g(E.key),!(b&&E.key===" ")&&Cte.includes(E.key)&&(I(),E.preventDefault())})})})});SM.displayName=TM;var IM="SelectValue",CM=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...l}=t,c=Fa(IM,n),{onValueNodeHasChildrenChange:h}=c,p=s!==void 0,m=pt(e,c.onValueNodeChange);return xn(()=>{h(p)},[h,p]),v.jsx(Oe.span,{...l,ref:m,style:{pointerEvents:"none"},children:KM(c.value)?v.jsx(v.Fragment,{children:a}):s})});CM.displayName=IM;var kte="SelectIcon",bM=w.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return v.jsx(Oe.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});bM.displayName=kte;var Dte="SelectPortal",RM=t=>v.jsx(Tf,{asChild:!0,...t});RM.displayName=Dte;var Ul="SelectContent",AM=w.forwardRef((t,e)=>{const n=Fa(Ul,t.__scopeSelect),[r,i]=w.useState();if(xn(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Wl.createPortal(v.jsx(PM,{scope:t.__scopeSelect,children:v.jsx(Iy.Slot,{scope:t.__scopeSelect,children:v.jsx("div",{children:t.children})})}),s):null}return v.jsx(NM,{...t,ref:e})});AM.displayName=Ul;var Ti=10,[PM,Va]=rd(Ul),Ote="SelectContentImpl",NM=w.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:l,sideOffset:c,align:h,alignOffset:p,arrowPadding:m,collisionBoundary:g,collisionPadding:x,sticky:I,hideWhenDetached:E,avoidCollisions:b,...C}=t,T=Fa(Ul,n),[R,V]=w.useState(null),[U,z]=w.useState(null),N=pt(e,_e=>V(_e)),[A,k]=w.useState(null),[L,$]=w.useState(null),j=Cy(n),[F,ee]=w.useState(!1),ge=w.useRef(!1);w.useEffect(()=>{if(R)return hT(R)},[R]),dT();const le=w.useCallback(_e=>{const[Ue,...He]=j().map(Be=>Be.ref.current),[$e]=He.slice(-1),Ke=document.activeElement;for(const Be of _e)if(Be===Ke||(Be==null||Be.scrollIntoView({block:"nearest"}),Be===Ue&&U&&(U.scrollTop=0),Be===$e&&U&&(U.scrollTop=U.scrollHeight),Be==null||Be.focus(),document.activeElement!==Ke))return},[j,U]),he=w.useCallback(()=>le([A,R]),[le,A,R]);w.useEffect(()=>{F&&he()},[F,he]);const{onOpenChange:q,triggerPointerDownPosRef:Y}=T;w.useEffect(()=>{if(R){let _e={x:0,y:0};const Ue=$e=>{var Ke,Be;_e={x:Math.abs(Math.round($e.pageX)-(((Ke=Y.current)==null?void 0:Ke.x)??0)),y:Math.abs(Math.round($e.pageY)-(((Be=Y.current)==null?void 0:Be.y)??0))}},He=$e=>{_e.x<=10&&_e.y<=10?$e.preventDefault():R.contains($e.target)||q(!1),document.removeEventListener("pointermove",Ue),Y.current=null};return Y.current!==null&&(document.addEventListener("pointermove",Ue),document.addEventListener("pointerup",He,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ue),document.removeEventListener("pointerup",He,{capture:!0})}}},[R,q,Y]),w.useEffect(()=>{const _e=()=>q(!1);return window.addEventListener("blur",_e),window.addEventListener("resize",_e),()=>{window.removeEventListener("blur",_e),window.removeEventListener("resize",_e)}},[q]);const[ue,oe]=qM(_e=>{const Ue=j().filter(Ke=>!Ke.disabled),He=Ue.find(Ke=>Ke.ref.current===document.activeElement),$e=QM(Ue,_e,He);$e&&setTimeout(()=>$e.ref.current.focus())}),me=w.useCallback((_e,Ue,He)=>{const $e=!ge.current&&!He;(T.value!==void 0&&T.value===Ue||$e)&&(k(_e),$e&&(ge.current=!0))},[T.value]),xe=w.useCallback(()=>R==null?void 0:R.focus(),[R]),Xe=w.useCallback((_e,Ue,He)=>{const $e=!ge.current&&!He;(T.value!==void 0&&T.value===Ue||$e)&&$(_e)},[T.value]),ot=r==="popper"?FE:kM,De=ot===FE?{side:l,sideOffset:c,align:h,alignOffset:p,arrowPadding:m,collisionBoundary:g,collisionPadding:x,sticky:I,hideWhenDetached:E,avoidCollisions:b}:{};return v.jsx(PM,{scope:n,content:R,viewport:U,onViewportChange:z,itemRefCallback:me,selectedItem:A,onItemLeave:xe,itemTextRefCallback:Xe,focusSelectedItem:he,selectedItemText:L,position:r,isPositioned:F,searchRef:ue,children:v.jsx(Sy,{as:ga,allowPinchZoom:!0,children:v.jsx(xy,{asChild:!0,trapped:T.open,onMountAutoFocus:_e=>{_e.preventDefault()},onUnmountAutoFocus:pe(i,_e=>{var Ue;(Ue=T.trigger)==null||Ue.focus({preventScroll:!0}),_e.preventDefault()}),children:v.jsx(Bc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:_e=>_e.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:v.jsx(ot,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:_e=>_e.preventDefault(),...C,...De,onPlaced:()=>ee(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...C.style},onKeyDown:pe(C.onKeyDown,_e=>{const Ue=_e.ctrlKey||_e.altKey||_e.metaKey;if(_e.key==="Tab"&&_e.preventDefault(),!Ue&&_e.key.length===1&&oe(_e.key),["ArrowUp","ArrowDown","Home","End"].includes(_e.key)){let $e=j().filter(Ke=>!Ke.disabled).map(Ke=>Ke.ref.current);if(["ArrowUp","End"].includes(_e.key)&&($e=$e.slice().reverse()),["ArrowUp","ArrowDown"].includes(_e.key)){const Ke=_e.target,Be=$e.indexOf(Ke);$e=$e.slice(Be+1)}setTimeout(()=>le($e)),_e.preventDefault()}})})})})})})});NM.displayName=Ote;var Mte="SelectItemAlignedPosition",kM=w.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Fa(Ul,n),a=Va(Ul,n),[l,c]=w.useState(null),[h,p]=w.useState(null),m=pt(e,N=>p(N)),g=Cy(n),x=w.useRef(!1),I=w.useRef(!0),{viewport:E,selectedItem:b,selectedItemText:C,focusSelectedItem:T}=a,R=w.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&h&&E&&b&&C){const N=s.trigger.getBoundingClientRect(),A=h.getBoundingClientRect(),k=s.valueNode.getBoundingClientRect(),L=C.getBoundingClientRect();if(s.dir!=="rtl"){const Ke=L.left-A.left,Be=k.left-Ke,$t=N.left-Be,wt=N.width+$t,mn=Math.max(wt,A.width),Tn=window.innerWidth-Ti,rn=iA(Be,[Ti,Math.max(Ti,Tn-mn)]);l.style.minWidth=wt+"px",l.style.left=rn+"px"}else{const Ke=A.right-L.right,Be=window.innerWidth-k.right-Ke,$t=window.innerWidth-N.right-Be,wt=N.width+$t,mn=Math.max(wt,A.width),Tn=window.innerWidth-Ti,rn=iA(Be,[Ti,Math.max(Ti,Tn-mn)]);l.style.minWidth=wt+"px",l.style.right=rn+"px"}const $=g(),j=window.innerHeight-Ti*2,F=E.scrollHeight,ee=window.getComputedStyle(h),ge=parseInt(ee.borderTopWidth,10),le=parseInt(ee.paddingTop,10),he=parseInt(ee.borderBottomWidth,10),q=parseInt(ee.paddingBottom,10),Y=ge+le+F+q+he,ue=Math.min(b.offsetHeight*5,Y),oe=window.getComputedStyle(E),me=parseInt(oe.paddingTop,10),xe=parseInt(oe.paddingBottom,10),Xe=N.top+N.height/2-Ti,ot=j-Xe,De=b.offsetHeight/2,_e=b.offsetTop+De,Ue=ge+le+_e,He=Y-Ue;if(Ue<=Xe){const Ke=$.length>0&&b===$[$.length-1].ref.current;l.style.bottom="0px";const Be=h.clientHeight-E.offsetTop-E.offsetHeight,$t=Math.max(ot,De+(Ke?xe:0)+Be+he),wt=Ue+$t;l.style.height=wt+"px"}else{const Ke=$.length>0&&b===$[0].ref.current;l.style.top="0px";const $t=Math.max(Xe,ge+E.offsetTop+(Ke?me:0)+De)+He;l.style.height=$t+"px",E.scrollTop=Ue-Xe+E.offsetTop}l.style.margin=`${Ti}px 0`,l.style.minHeight=ue+"px",l.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>x.current=!0)}},[g,s.trigger,s.valueNode,l,h,E,b,C,s.dir,r]);xn(()=>R(),[R]);const[V,U]=w.useState();xn(()=>{h&&U(window.getComputedStyle(h).zIndex)},[h]);const z=w.useCallback(N=>{N&&I.current===!0&&(R(),T==null||T(),I.current=!1)},[R,T]);return v.jsx(Fte,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:z,children:v.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:V},children:v.jsx(Oe.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});kM.displayName=Mte;var Lte="SelectPopperPosition",FE=w.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ti,...s}=t,a=by(n);return v.jsx(ix,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});FE.displayName=Lte;var[Fte,fT]=rd(Ul,{}),VE="SelectViewport",DM=w.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Va(VE,n),a=fT(VE,n),l=pt(e,s.onViewportChange),c=w.useRef(0);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),v.jsx(Iy.Slot,{scope:n,children:v.jsx(Oe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:pe(i.onScroll,h=>{const p=h.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:g}=a;if(g!=null&&g.current&&m){const x=Math.abs(c.current-p.scrollTop);if(x>0){const I=window.innerHeight-Ti*2,E=parseFloat(m.style.minHeight),b=parseFloat(m.style.height),C=Math.max(E,b);if(C<I){const T=C+x,R=Math.min(I,T),V=T-R;m.style.height=R+"px",m.style.bottom==="0px"&&(p.scrollTop=V>0?V:0,m.style.justifyContent="flex-end")}}}c.current=p.scrollTop})})})]})});DM.displayName=VE;var OM="SelectGroup",[Vte,jte]=rd(OM),Ute=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ss();return v.jsx(Vte,{scope:n,id:i,children:v.jsx(Oe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Ute.displayName=OM;var MM="SelectLabel",LM=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=jte(MM,n);return v.jsx(Oe.div,{id:i.id,...r,ref:e})});LM.displayName=MM;var mv="SelectItem",[$te,FM]=rd(mv),VM=w.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=t,l=Fa(mv,n),c=Va(mv,n),h=l.value===r,[p,m]=w.useState(s??""),[g,x]=w.useState(!1),I=pt(e,T=>{var R;return(R=c.itemRefCallback)==null?void 0:R.call(c,T,r,i)}),E=ss(),b=w.useRef("touch"),C=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return v.jsx($te,{scope:n,value:r,disabled:i,textId:E,isSelected:h,onItemTextChange:w.useCallback(T=>{m(R=>R||((T==null?void 0:T.textContent)??"").trim())},[]),children:v.jsx(Iy.ItemSlot,{scope:n,value:r,disabled:i,textValue:p,children:v.jsx(Oe.div,{role:"option","aria-labelledby":E,"data-highlighted":g?"":void 0,"aria-selected":h&&g,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:I,onFocus:pe(a.onFocus,()=>x(!0)),onBlur:pe(a.onBlur,()=>x(!1)),onClick:pe(a.onClick,()=>{b.current!=="mouse"&&C()}),onPointerUp:pe(a.onPointerUp,()=>{b.current==="mouse"&&C()}),onPointerDown:pe(a.onPointerDown,T=>{b.current=T.pointerType}),onPointerMove:pe(a.onPointerMove,T=>{var R;b.current=T.pointerType,i?(R=c.onItemLeave)==null||R.call(c):b.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(a.onPointerLeave,T=>{var R;T.currentTarget===document.activeElement&&((R=c.onItemLeave)==null||R.call(c))}),onKeyDown:pe(a.onKeyDown,T=>{var V;((V=c.searchRef)==null?void 0:V.current)!==""&&T.key===" "||(bte.includes(T.key)&&C(),T.key===" "&&T.preventDefault())})})})})});VM.displayName=mv;var uh="SelectItemText",jM=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,a=Fa(uh,n),l=Va(uh,n),c=FM(uh,n),h=Nte(uh,n),[p,m]=w.useState(null),g=pt(e,C=>m(C),c.onItemTextChange,C=>{var T;return(T=l.itemTextRefCallback)==null?void 0:T.call(l,C,c.value,c.disabled)}),x=p==null?void 0:p.textContent,I=w.useMemo(()=>v.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:E,onNativeOptionRemove:b}=h;return xn(()=>(E(I),()=>b(I)),[E,b,I]),v.jsxs(v.Fragment,{children:[v.jsx(Oe.span,{id:c.textId,...s,ref:g}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Wl.createPortal(s.children,a.valueNode):null]})});jM.displayName=uh;var UM="SelectItemIndicator",$M=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return FM(UM,n).isSelected?v.jsx(Oe.span,{"aria-hidden":!0,...r,ref:e}):null});$M.displayName=UM;var jE="SelectScrollUpButton",BM=w.forwardRef((t,e)=>{const n=Va(jE,t.__scopeSelect),r=fT(jE,t.__scopeSelect),[i,s]=w.useState(!1),a=pt(e,r.onScrollButtonChange);return xn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const h=c.scrollTop>0;s(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?v.jsx(WM,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});BM.displayName=jE;var UE="SelectScrollDownButton",zM=w.forwardRef((t,e)=>{const n=Va(UE,t.__scopeSelect),r=fT(UE,t.__scopeSelect),[i,s]=w.useState(!1),a=pt(e,r.onScrollButtonChange);return xn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const h=c.scrollHeight-c.clientHeight,p=Math.ceil(c.scrollTop)<h;s(p)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?v.jsx(WM,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});zM.displayName=UE;var WM=w.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Va("SelectScrollButton",n),a=w.useRef(null),l=Cy(n),c=w.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return w.useEffect(()=>()=>c(),[c]),xn(()=>{var p;const h=l().find(m=>m.ref.current===document.activeElement);(p=h==null?void 0:h.ref.current)==null||p.scrollIntoView({block:"nearest"})},[l]),v.jsx(Oe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:pe(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:pe(i.onPointerMove,()=>{var h;(h=s.onItemLeave)==null||h.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:pe(i.onPointerLeave,()=>{c()})})}),Bte="SelectSeparator",HM=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return v.jsx(Oe.div,{"aria-hidden":!0,...r,ref:e})});HM.displayName=Bte;var $E="SelectArrow",zte=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=by(n),s=Fa($E,n),a=Va($E,n);return s.open&&a.position==="popper"?v.jsx(sx,{...i,...r,ref:e}):null});zte.displayName=$E;function KM(t){return t===""||t===void 0}var GM=w.forwardRef((t,e)=>{const{value:n,...r}=t,i=w.useRef(null),s=pt(e,i),a=$ee(n);return w.useEffect(()=>{const l=i.current,c=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==n&&p){const m=new Event("change",{bubbles:!0});p.call(l,n),l.dispatchEvent(m)}},[a,n]),v.jsx(Sf,{asChild:!0,children:v.jsx("select",{...r,ref:s,defaultValue:n})})});GM.displayName="BubbleSelect";function qM(t){const e=Dn(t),n=w.useRef(""),r=w.useRef(0),i=w.useCallback(a=>{const l=n.current+a;e(l),function c(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),s=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function QM(t,e,n){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=Wte(t,Math.max(s,0));i.length===1&&(a=a.filter(h=>h!==n));const c=a.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Wte(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Hte=xM,YM=SM,Kte=CM,Gte=bM,qte=RM,XM=AM,Qte=DM,JM=LM,ZM=VM,Yte=jM,Xte=$M,eL=BM,tL=zM,nL=HM;const gv=Hte,vv=Kte,uf=w.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(YM,{ref:r,className:Re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,v.jsx(Gte,{asChild:!0,children:v.jsx(mk,{className:"h-4 w-4 opacity-50"})})]}));uf.displayName=YM.displayName;const rL=w.forwardRef(({className:t,...e},n)=>v.jsx(eL,{ref:n,className:Re("flex cursor-default items-center justify-center py-1",t),...e,children:v.jsx(GB,{className:"h-4 w-4"})}));rL.displayName=eL.displayName;const iL=w.forwardRef(({className:t,...e},n)=>v.jsx(tL,{ref:n,className:Re("flex cursor-default items-center justify-center py-1",t),...e,children:v.jsx(mk,{className:"h-4 w-4"})}));iL.displayName=tL.displayName;const cf=w.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>v.jsx(qte,{children:v.jsxs(XM,{ref:i,className:Re("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[v.jsx(rL,{}),v.jsx(Qte,{className:Re("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),v.jsx(iL,{})]})}));cf.displayName=XM.displayName;const Jte=w.forwardRef(({className:t,...e},n)=>v.jsx(JM,{ref:n,className:Re("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Jte.displayName=JM.displayName;const Ai=w.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(ZM,{ref:r,className:Re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(Xte,{children:v.jsx(pk,{className:"h-4 w-4"})})}),v.jsx(Yte,{children:e})]}));Ai.displayName=ZM.displayName;const Zte=w.forwardRef(({className:t,...e},n)=>v.jsx(nL,{ref:n,className:Re("-mx-1 my-1 h-px bg-muted",t),...e}));Zte.displayName=nL.displayName;const ene=$v("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function tne({className:t,variant:e,...n}){return v.jsx("div",{className:Re(ene({variant:e}),t),...n})}function nne(t,e=[]){let n=[];function r(s,a){const l=w.createContext(a),c=n.length;n=[...n,a];function h(m){const{scope:g,children:x,...I}=m,E=(g==null?void 0:g[t][c])||l,b=w.useMemo(()=>I,Object.values(I));return v.jsx(E.Provider,{value:b,children:x})}function p(m,g){const x=(g==null?void 0:g[t][c])||l,I=w.useContext(x);if(I)return I;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${s}\``)}return h.displayName=s+"Provider",[h,p]}const i=()=>{const s=n.map(a=>w.createContext(a));return function(l){const c=(l==null?void 0:l[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,rne(i,...e)]}function rne(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((l,{useScope:c,scopeName:h})=>{const m=c(s)[`__scope${h}`];return{...l,...m}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var W_="rovingFocusGroup.onEntryFocus",ine={bubbles:!1,cancelable:!0},Ry="RovingFocusGroup",[BE,sL,sne]=Vv(Ry),[one,Ay]=nne(Ry,[sne]),[ane,lne]=one(Ry),oL=w.forwardRef((t,e)=>v.jsx(BE.Provider,{scope:t.__scopeRovingFocusGroup,children:v.jsx(BE.Slot,{scope:t.__scopeRovingFocusGroup,children:v.jsx(une,{...t,ref:e})})}));oL.displayName=Ry;var une=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...m}=t,g=w.useRef(null),x=pt(e,g),I=Ey(s),[E=null,b]=Nl({prop:a,defaultProp:l,onChange:c}),[C,T]=w.useState(!1),R=Dn(h),V=sL(n),U=w.useRef(!1),[z,N]=w.useState(0);return w.useEffect(()=>{const A=g.current;if(A)return A.addEventListener(W_,R),()=>A.removeEventListener(W_,R)},[R]),v.jsx(ane,{scope:n,orientation:r,dir:I,loop:i,currentTabStopId:E,onItemFocus:w.useCallback(A=>b(A),[b]),onItemShiftTab:w.useCallback(()=>T(!0),[]),onFocusableItemAdd:w.useCallback(()=>N(A=>A+1),[]),onFocusableItemRemove:w.useCallback(()=>N(A=>A-1),[]),children:v.jsx(Oe.div,{tabIndex:C||z===0?-1:0,"data-orientation":r,...m,ref:x,style:{outline:"none",...t.style},onMouseDown:pe(t.onMouseDown,()=>{U.current=!0}),onFocus:pe(t.onFocus,A=>{const k=!U.current;if(A.target===A.currentTarget&&k&&!C){const L=new CustomEvent(W_,ine);if(A.currentTarget.dispatchEvent(L),!L.defaultPrevented){const $=V().filter(le=>le.focusable),j=$.find(le=>le.active),F=$.find(le=>le.id===E),ge=[j,F,...$].filter(Boolean).map(le=>le.ref.current);uL(ge,p)}}U.current=!1}),onBlur:pe(t.onBlur,()=>T(!1))})})}),aL="RovingFocusGroupItem",lL=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...a}=t,l=ss(),c=s||l,h=lne(aL,n),p=h.currentTabStopId===c,m=sL(n),{onFocusableItemAdd:g,onFocusableItemRemove:x}=h;return w.useEffect(()=>{if(r)return g(),()=>x()},[r,g,x]),v.jsx(BE.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:v.jsx(Oe.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:pe(t.onMouseDown,I=>{r?h.onItemFocus(c):I.preventDefault()}),onFocus:pe(t.onFocus,()=>h.onItemFocus(c)),onKeyDown:pe(t.onKeyDown,I=>{if(I.key==="Tab"&&I.shiftKey){h.onItemShiftTab();return}if(I.target!==I.currentTarget)return;const E=hne(I,h.orientation,h.dir);if(E!==void 0){if(I.metaKey||I.ctrlKey||I.altKey||I.shiftKey)return;I.preventDefault();let C=m().filter(T=>T.focusable).map(T=>T.ref.current);if(E==="last")C.reverse();else if(E==="prev"||E==="next"){E==="prev"&&C.reverse();const T=C.indexOf(I.currentTarget);C=h.loop?fne(C,T+1):C.slice(T+1)}setTimeout(()=>uL(C))}})})})});lL.displayName=aL;var cne={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function dne(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function hne(t,e,n){const r=dne(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return cne[r]}function uL(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function fne(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var cL=oL,dL=lL,zE=["Enter"," "],pne=["ArrowDown","PageUp","Home"],hL=["ArrowUp","PageDown","End"],mne=[...pne,...hL],gne={ltr:[...zE,"ArrowRight"],rtl:[...zE,"ArrowLeft"]},vne={ltr:["ArrowLeft"],rtl:["ArrowRight"]},$f="Menu",[df,yne,_ne]=Vv($f),[Xl,fL]=Na($f,[_ne,Kc,Ay]),Py=Kc(),pL=Ay(),[wne,Jl]=Xl($f),[Ene,Bf]=Xl($f),mL=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=t,l=Py(e),[c,h]=w.useState(null),p=w.useRef(!1),m=Dn(s),g=Ey(i);return w.useEffect(()=>{const x=()=>{p.current=!0,document.addEventListener("pointerdown",I,{capture:!0,once:!0}),document.addEventListener("pointermove",I,{capture:!0,once:!0})},I=()=>p.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",I,{capture:!0}),document.removeEventListener("pointermove",I,{capture:!0})}},[]),v.jsx(Hk,{...l,children:v.jsx(wne,{scope:e,open:n,onOpenChange:m,content:c,onContentChange:h,children:v.jsx(Ene,{scope:e,onClose:w.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:p,dir:g,modal:a,children:r})})})};mL.displayName=$f;var xne="MenuAnchor",pT=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Py(n);return v.jsx(rx,{...i,...r,ref:e})});pT.displayName=xne;var mT="MenuPortal",[Tne,gL]=Xl(mT,{forceMount:void 0}),vL=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Jl(mT,e);return v.jsx(Tne,{scope:e,forceMount:n,children:v.jsx(ji,{present:n||s.open,children:v.jsx(Tf,{asChild:!0,container:i,children:r})})})};vL.displayName=mT;var ui="MenuContent",[Sne,gT]=Xl(ui),yL=w.forwardRef((t,e)=>{const n=gL(ui,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Jl(ui,t.__scopeMenu),a=Bf(ui,t.__scopeMenu);return v.jsx(df.Provider,{scope:t.__scopeMenu,children:v.jsx(ji,{present:r||s.open,children:v.jsx(df.Slot,{scope:t.__scopeMenu,children:a.modal?v.jsx(Ine,{...i,ref:e}):v.jsx(Cne,{...i,ref:e})})})})}),Ine=w.forwardRef((t,e)=>{const n=Jl(ui,t.__scopeMenu),r=w.useRef(null),i=pt(e,r);return w.useEffect(()=>{const s=r.current;if(s)return hT(s)},[]),v.jsx(vT,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:pe(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Cne=w.forwardRef((t,e)=>{const n=Jl(ui,t.__scopeMenu);return v.jsx(vT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),vT=w.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:g,onDismiss:x,disableOutsideScroll:I,...E}=t,b=Jl(ui,n),C=Bf(ui,n),T=Py(n),R=pL(n),V=yne(n),[U,z]=w.useState(null),N=w.useRef(null),A=pt(e,N,b.onContentChange),k=w.useRef(0),L=w.useRef(""),$=w.useRef(0),j=w.useRef(null),F=w.useRef("right"),ee=w.useRef(0),ge=I?Sy:w.Fragment,le=I?{as:ga,allowPinchZoom:!0}:void 0,he=Y=>{var _e,Ue;const ue=L.current+Y,oe=V().filter(He=>!He.disabled),me=document.activeElement,xe=(_e=oe.find(He=>He.ref.current===me))==null?void 0:_e.textValue,Xe=oe.map(He=>He.textValue),ot=Vne(Xe,ue,xe),De=(Ue=oe.find(He=>He.textValue===ot))==null?void 0:Ue.ref.current;(function He($e){L.current=$e,window.clearTimeout(k.current),$e!==""&&(k.current=window.setTimeout(()=>He(""),1e3))})(ue),De&&setTimeout(()=>De.focus())};w.useEffect(()=>()=>window.clearTimeout(k.current),[]),dT();const q=w.useCallback(Y=>{var oe,me;return F.current===((oe=j.current)==null?void 0:oe.side)&&Une(Y,(me=j.current)==null?void 0:me.area)},[]);return v.jsx(Sne,{scope:n,searchRef:L,onItemEnter:w.useCallback(Y=>{q(Y)&&Y.preventDefault()},[q]),onItemLeave:w.useCallback(Y=>{var ue;q(Y)||((ue=N.current)==null||ue.focus(),z(null))},[q]),onTriggerLeave:w.useCallback(Y=>{q(Y)&&Y.preventDefault()},[q]),pointerGraceTimerRef:$,onPointerGraceIntentChange:w.useCallback(Y=>{j.current=Y},[]),children:v.jsx(ge,{...le,children:v.jsx(xy,{asChild:!0,trapped:i,onMountAutoFocus:pe(s,Y=>{var ue;Y.preventDefault(),(ue=N.current)==null||ue.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:v.jsx(Bc,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:g,onDismiss:x,children:v.jsx(cL,{asChild:!0,...R,dir:C.dir,orientation:"vertical",loop:r,currentTabStopId:U,onCurrentTabStopIdChange:z,onEntryFocus:pe(c,Y=>{C.isUsingKeyboardRef.current||Y.preventDefault()}),preventScrollOnEntryFocus:!0,children:v.jsx(ix,{role:"menu","aria-orientation":"vertical","data-state":OL(b.open),"data-radix-menu-content":"",dir:C.dir,...T,...E,ref:A,style:{outline:"none",...E.style},onKeyDown:pe(E.onKeyDown,Y=>{const oe=Y.target.closest("[data-radix-menu-content]")===Y.currentTarget,me=Y.ctrlKey||Y.altKey||Y.metaKey,xe=Y.key.length===1;oe&&(Y.key==="Tab"&&Y.preventDefault(),!me&&xe&&he(Y.key));const Xe=N.current;if(Y.target!==Xe||!mne.includes(Y.key))return;Y.preventDefault();const De=V().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);hL.includes(Y.key)&&De.reverse(),Lne(De)}),onBlur:pe(t.onBlur,Y=>{Y.currentTarget.contains(Y.target)||(window.clearTimeout(k.current),L.current="")}),onPointerMove:pe(t.onPointerMove,hf(Y=>{const ue=Y.target,oe=ee.current!==Y.clientX;if(Y.currentTarget.contains(ue)&&oe){const me=Y.clientX>ee.current?"right":"left";F.current=me,ee.current=Y.clientX}}))})})})})})})});yL.displayName=ui;var bne="MenuGroup",yT=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return v.jsx(Oe.div,{role:"group",...r,ref:e})});yT.displayName=bne;var Rne="MenuLabel",_L=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return v.jsx(Oe.div,{...r,ref:e})});_L.displayName=Rne;var yv="MenuItem",mA="menu.itemSelect",Ny=w.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=w.useRef(null),a=Bf(yv,t.__scopeMenu),l=gT(yv,t.__scopeMenu),c=pt(e,s),h=w.useRef(!1),p=()=>{const m=s.current;if(!n&&m){const g=new CustomEvent(mA,{bubbles:!0,cancelable:!0});m.addEventListener(mA,x=>r==null?void 0:r(x),{once:!0}),$1(m,g),g.defaultPrevented?h.current=!1:a.onClose()}};return v.jsx(wL,{...i,ref:c,disabled:n,onClick:pe(t.onClick,p),onPointerDown:m=>{var g;(g=t.onPointerDown)==null||g.call(t,m),h.current=!0},onPointerUp:pe(t.onPointerUp,m=>{var g;h.current||(g=m.currentTarget)==null||g.click()}),onKeyDown:pe(t.onKeyDown,m=>{const g=l.searchRef.current!=="";n||g&&m.key===" "||zE.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Ny.displayName=yv;var wL=w.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,a=gT(yv,n),l=pL(n),c=w.useRef(null),h=pt(e,c),[p,m]=w.useState(!1),[g,x]=w.useState("");return w.useEffect(()=>{const I=c.current;I&&x((I.textContent??"").trim())},[s.children]),v.jsx(df.ItemSlot,{scope:n,disabled:r,textValue:i??g,children:v.jsx(dL,{asChild:!0,...l,focusable:!r,children:v.jsx(Oe.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:h,onPointerMove:pe(t.onPointerMove,hf(I=>{r?a.onItemLeave(I):(a.onItemEnter(I),I.defaultPrevented||I.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pe(t.onPointerLeave,hf(I=>a.onItemLeave(I))),onFocus:pe(t.onFocus,()=>m(!0)),onBlur:pe(t.onBlur,()=>m(!1))})})})}),Ane="MenuCheckboxItem",EL=w.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return v.jsx(CL,{scope:t.__scopeMenu,checked:n,children:v.jsx(Ny,{role:"menuitemcheckbox","aria-checked":_v(n)?"mixed":n,...i,ref:e,"data-state":wT(n),onSelect:pe(i.onSelect,()=>r==null?void 0:r(_v(n)?!0:!n),{checkForDefaultPrevented:!1})})})});EL.displayName=Ane;var xL="MenuRadioGroup",[Pne,Nne]=Xl(xL,{value:void 0,onValueChange:()=>{}}),TL=w.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Dn(r);return v.jsx(Pne,{scope:t.__scopeMenu,value:n,onValueChange:s,children:v.jsx(yT,{...i,ref:e})})});TL.displayName=xL;var SL="MenuRadioItem",IL=w.forwardRef((t,e)=>{const{value:n,...r}=t,i=Nne(SL,t.__scopeMenu),s=n===i.value;return v.jsx(CL,{scope:t.__scopeMenu,checked:s,children:v.jsx(Ny,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":wT(s),onSelect:pe(r.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,n)},{checkForDefaultPrevented:!1})})})});IL.displayName=SL;var _T="MenuItemIndicator",[CL,kne]=Xl(_T,{checked:!1}),bL=w.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=kne(_T,n);return v.jsx(ji,{present:r||_v(s.checked)||s.checked===!0,children:v.jsx(Oe.span,{...i,ref:e,"data-state":wT(s.checked)})})});bL.displayName=_T;var Dne="MenuSeparator",RL=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return v.jsx(Oe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});RL.displayName=Dne;var One="MenuArrow",AL=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Py(n);return v.jsx(sx,{...i,...r,ref:e})});AL.displayName=One;var Mne="MenuSub",[Tie,PL]=Xl(Mne),ch="MenuSubTrigger",NL=w.forwardRef((t,e)=>{const n=Jl(ch,t.__scopeMenu),r=Bf(ch,t.__scopeMenu),i=PL(ch,t.__scopeMenu),s=gT(ch,t.__scopeMenu),a=w.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,h={__scopeMenu:t.__scopeMenu},p=w.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return w.useEffect(()=>p,[p]),w.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),c(null)}},[l,c]),v.jsx(pT,{asChild:!0,...h,children:v.jsx(wL,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":OL(n.open),...t,ref:Fv(e,i.onTriggerChange),onClick:m=>{var g;(g=t.onClick)==null||g.call(t,m),!(t.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:pe(t.onPointerMove,hf(m=>{s.onItemEnter(m),!m.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:pe(t.onPointerLeave,hf(m=>{var x,I;p();const g=(x=n.content)==null?void 0:x.getBoundingClientRect();if(g){const E=(I=n.content)==null?void 0:I.dataset.side,b=E==="right",C=b?-5:5,T=g[b?"left":"right"],R=g[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:m.clientX+C,y:m.clientY},{x:T,y:g.top},{x:R,y:g.top},{x:R,y:g.bottom},{x:T,y:g.bottom}],side:E}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(m),m.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:pe(t.onKeyDown,m=>{var x;const g=s.searchRef.current!=="";t.disabled||g&&m.key===" "||gne[r.dir].includes(m.key)&&(n.onOpenChange(!0),(x=n.content)==null||x.focus(),m.preventDefault())})})})});NL.displayName=ch;var kL="MenuSubContent",DL=w.forwardRef((t,e)=>{const n=gL(ui,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Jl(ui,t.__scopeMenu),a=Bf(ui,t.__scopeMenu),l=PL(kL,t.__scopeMenu),c=w.useRef(null),h=pt(e,c);return v.jsx(df.Provider,{scope:t.__scopeMenu,children:v.jsx(ji,{present:r||s.open,children:v.jsx(df.Slot,{scope:t.__scopeMenu,children:v.jsx(vT,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:h,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var m;a.isUsingKeyboardRef.current&&((m=c.current)==null||m.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:pe(t.onFocusOutside,p=>{p.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:pe(t.onEscapeKeyDown,p=>{a.onClose(),p.preventDefault()}),onKeyDown:pe(t.onKeyDown,p=>{var x;const m=p.currentTarget.contains(p.target),g=vne[a.dir].includes(p.key);m&&g&&(s.onOpenChange(!1),(x=l.trigger)==null||x.focus(),p.preventDefault())})})})})})});DL.displayName=kL;function OL(t){return t?"open":"closed"}function _v(t){return t==="indeterminate"}function wT(t){return _v(t)?"indeterminate":t?"checked":"unchecked"}function Lne(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Fne(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Vne(t,e,n){const i=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=Fne(t,Math.max(s,0));i.length===1&&(a=a.filter(h=>h!==n));const c=a.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function jne(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const l=e[s].x,c=e[s].y,h=e[a].x,p=e[a].y;c>r!=p>r&&n<(h-l)*(r-c)/(p-c)+l&&(i=!i)}return i}function Une(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return jne(n,e)}function hf(t){return e=>e.pointerType==="mouse"?t(e):void 0}var $ne=mL,Bne=pT,zne=vL,Wne=yL,Hne=yT,Kne=_L,Gne=Ny,qne=EL,Qne=TL,Yne=IL,Xne=bL,Jne=RL,Zne=AL,ere=NL,tre=DL,ET="DropdownMenu",[nre,Sie]=Na(ET,[fL]),lr=fL(),[rre,ML]=nre(ET),LL=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:a,modal:l=!0}=t,c=lr(e),h=w.useRef(null),[p=!1,m]=Nl({prop:i,defaultProp:s,onChange:a});return v.jsx(rre,{scope:e,triggerId:ss(),triggerRef:h,contentId:ss(),open:p,onOpenChange:m,onOpenToggle:w.useCallback(()=>m(g=>!g),[m]),modal:l,children:v.jsx($ne,{...c,open:p,onOpenChange:m,dir:r,modal:l,children:n})})};LL.displayName=ET;var FL="DropdownMenuTrigger",VL=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=ML(FL,n),a=lr(n);return v.jsx(Bne,{asChild:!0,...a,children:v.jsx(Oe.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Fv(e,s.triggerRef),onPointerDown:pe(t.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:pe(t.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});VL.displayName=FL;var ire="DropdownMenuPortal",jL=t=>{const{__scopeDropdownMenu:e,...n}=t,r=lr(e);return v.jsx(zne,{...r,...n})};jL.displayName=ire;var UL="DropdownMenuContent",$L=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ML(UL,n),s=lr(n),a=w.useRef(!1);return v.jsx(Wne,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:pe(t.onCloseAutoFocus,l=>{var c;a.current||(c=i.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:pe(t.onInteractOutside,l=>{const c=l.detail.originalEvent,h=c.button===0&&c.ctrlKey===!0,p=c.button===2||h;(!i.modal||p)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$L.displayName=UL;var sre="DropdownMenuGroup",ore=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=lr(n);return v.jsx(Hne,{...i,...r,ref:e})});ore.displayName=sre;var are="DropdownMenuLabel",BL=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=lr(n);return v.jsx(Kne,{...i,...r,ref:e})});BL.displayName=are;var lre="DropdownMenuItem",zL=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=lr(n);return v.jsx(Gne,{...i,...r,ref:e})});zL.displayName=lre;var ure="DropdownMenuCheckboxItem",WL=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=lr(n);return v.jsx(qne,{...i,...r,ref:e})});WL.displayName=ure;var cre="DropdownMenuRadioGroup",dre=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=lr(n);return v.jsx(Qne,{...i,...r,ref:e})});dre.displayName=cre;var hre="DropdownMenuRadioItem",HL=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=lr(n);return v.jsx(Yne,{...i,...r,ref:e})});HL.displayName=hre;var fre="DropdownMenuItemIndicator",KL=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=lr(n);return v.jsx(Xne,{...i,...r,ref:e})});KL.displayName=fre;var pre="DropdownMenuSeparator",GL=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=lr(n);return v.jsx(Jne,{...i,...r,ref:e})});GL.displayName=pre;var mre="DropdownMenuArrow",gre=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=lr(n);return v.jsx(Zne,{...i,...r,ref:e})});gre.displayName=mre;var vre="DropdownMenuSubTrigger",qL=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=lr(n);return v.jsx(ere,{...i,...r,ref:e})});qL.displayName=vre;var yre="DropdownMenuSubContent",QL=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=lr(n);return v.jsx(tre,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});QL.displayName=yre;var _re=LL,wre=VL,Ere=jL,YL=$L,XL=BL,JL=zL,ZL=WL,eF=HL,tF=KL,nF=GL,rF=qL,iF=QL;const xre=_re,Tre=wre,Sre=w.forwardRef(({className:t,inset:e,children:n,...r},i)=>v.jsxs(rF,{ref:i,className:Re("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,v.jsx(KB,{className:"ml-auto h-4 w-4"})]}));Sre.displayName=rF.displayName;const Ire=w.forwardRef(({className:t,...e},n)=>v.jsx(iF,{ref:n,className:Re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Ire.displayName=iF.displayName;const sF=w.forwardRef(({className:t,sideOffset:e=4,...n},r)=>v.jsx(Ere,{children:v.jsx(YL,{ref:r,sideOffset:e,className:Re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));sF.displayName=YL.displayName;const hg=w.forwardRef(({className:t,inset:e,...n},r)=>v.jsx(JL,{ref:r,className:Re("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));hg.displayName=JL.displayName;const Cre=w.forwardRef(({className:t,children:e,checked:n,...r},i)=>v.jsxs(ZL,{ref:i,className:Re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(tF,{children:v.jsx(pk,{className:"h-4 w-4"})})}),e]}));Cre.displayName=ZL.displayName;const bre=w.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(eF,{ref:r,className:Re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(tF,{children:v.jsx(qB,{className:"h-2 w-2 fill-current"})})}),e]}));bre.displayName=eF.displayName;const Rre=w.forwardRef(({className:t,inset:e,...n},r)=>v.jsx(XL,{ref:r,className:Re("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));Rre.displayName=XL.displayName;const Are=w.forwardRef(({className:t,...e},n)=>v.jsx(nF,{ref:n,className:Re("-mx-1 my-1 h-px bg-muted",t),...e}));Are.displayName=nF.displayName;var xT="Avatar",[Pre,Iie]=Na(xT),[Nre,oF]=Pre(xT),aF=w.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=w.useState("idle");return v.jsx(Nre,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:v.jsx(Oe.span,{...r,ref:e})})});aF.displayName=xT;var lF="AvatarImage",uF=w.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,a=oF(lF,n),l=kre(r,s.referrerPolicy),c=Dn(h=>{i(h),a.onImageLoadingStatusChange(h)});return xn(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?v.jsx(Oe.img,{...s,ref:e,src:r}):null});uF.displayName=lF;var cF="AvatarFallback",dF=w.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=oF(cF,n),[a,l]=w.useState(r===void 0);return w.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),a&&s.imageLoadingStatus!=="loaded"?v.jsx(Oe.span,{...i,ref:e}):null});dF.displayName=cF;function kre(t,e){const[n,r]=w.useState("idle");return xn(()=>{if(!t){r("error");return}let i=!0;const s=new window.Image,a=l=>()=>{i&&r(l)};return r("loading"),s.onload=a("loaded"),s.onerror=a("error"),s.src=t,e&&(s.referrerPolicy=e),()=>{i=!1}},[t,e]),n}var hF=aF,fF=uF,pF=dF;const mF=w.forwardRef(({className:t,...e},n)=>v.jsx(hF,{ref:n,className:Re("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));mF.displayName=hF.displayName;const Dre=w.forwardRef(({className:t,...e},n)=>v.jsx(fF,{ref:n,className:Re("aspect-square h-full w-full",t),...e}));Dre.displayName=fF.displayName;const gF=w.forwardRef(({className:t,...e},n)=>v.jsx(pF,{ref:n,className:Re("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));gF.displayName=pF.displayName;const Ore=({doctor:t,onEdit:e,onDelete:n,onStatusChange:r})=>{var p,m,g,x,I,E,b,C,T,R,V,U,z,N;const[i,s]=w.useState(!1),a="AIzaSyDavxgq9wYfh06xb-wIEmHY6MUx8edDZnM",l=A=>{const k=[],L=Math.floor(A),$=A%1>=.5;for(let F=0;F<L;F++)k.push(v.jsx(Ym,{className:"h-4 w-4 fill-amber-500 text-amber-500"},`full-${F}`));$&&k.push(v.jsx(Ym,{className:"h-4 w-4 text-amber-500"},"half"));const j=5-k.length;for(let F=0;F<j;F++)k.push(v.jsx(Ym,{className:"h-4 w-4 text-gray-300"},`empty-${F}`));return k},c=A=>{if(!A)return"N/A";try{let k;if(typeof A=="object"&&A!==null&&"seconds"in A&&typeof A.seconds=="number")k=new Date(A.seconds*1e3);else if(typeof A=="string"){const L=hM(A);if(pv(L))k=L;else{const $=Date.parse(A);if(!isNaN($))k=new Date($);else return console.warn("Could not parse date string:",A),"Date unavailable"}}else if(A instanceof Date)k=A;else if(typeof A=="number")k=new Date(A);else return console.warn("Unsupported date value type:",A),"Date unavailable";return pv(k)?ug(k,"MMM d, yyyy"):(console.warn("Invalid Date object after parsing:",A),"Date unavailable")}catch(k){return console.error("Error formatting date:",k,A),"Date unavailable"}},h=A=>A?A.split(" ").map(k=>k.charAt(0)).join("").toUpperCase().substring(0,2):"";return v.jsxs(Rc,{className:`overflow-hidden ${t.status==="suspended"?"opacity-70":""}`,children:[v.jsxs("div",{className:"p-4 flex flex-col items-center",children:[" ",v.jsxs(mF,{className:"h-24 w-24",children:[t.image?v.jsx("img",{src:t.image,alt:`${t.name}'s avatar`,className:"h-full w-full object-cover",onError:A=>{A.target.style.display="none";const k=A.target.nextElementSibling;k&&(k.style.display="flex")}}):null,v.jsxs(gF,{className:"bg-primary/10 text-primary text-xl flex items-center justify-center",children:[" ",h(t.name)]})]}),v.jsx(tne,{className:`absolute top-2 right-2 ${t.status==="active"?"bg-green-500 hover:bg-green-600":"bg-red-500 hover:bg-red-600"} text-white`,children:t.status})]}),v.jsx(Ac,{children:v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold",children:t.name}),v.jsx("p",{className:"text-sm text-gray-500",children:t.specialty})]}),v.jsxs(xre,{children:[v.jsx(Tre,{asChild:!0,children:v.jsx(wn,{variant:"ghost",size:"icon",children:v.jsx(QB,{className:"h-4 w-4"})})}),v.jsxs(sF,{align:"end",children:[v.jsx(hg,{onClick:()=>e(t),children:"Edit"}),v.jsx(hg,{onClick:()=>r(t.id,t.status==="active"?"suspended":"active"),children:t.status==="active"?"Suspend":"Activate"}),v.jsx(hg,{className:"text-red-600 focus:bg-red-50",onClick:()=>n(t.id),children:"Delete"})]})]})]})}),v.jsxs(Pc,{children:[v.jsxs("div",{className:"space-y-3",children:[" ",v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(ez,{className:"h-4 w-4 text-gray-500"}),v.jsx("span",{className:"text-sm",children:t.phone||"N/A"})," "]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(XB,{className:"h-4 w-4 text-gray-500"}),((m=(p=t.location)==null?void 0:p.coordinates)==null?void 0:m.lat)!=null&&((x=(g=t.location)==null?void 0:g.coordinates)==null?void 0:x.lng)!=null?v.jsxs("button",{onClick:()=>s(!i),className:"text-sm text-blue-600 hover:underline focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 rounded",children:[t.location.address||"View on Map"," "]}):v.jsx("span",{className:"text-sm text-gray-500",children:((I=t.location)==null?void 0:I.address)||"Location not available"})]}),v.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[l(t.rating||0),v.jsx("span",{className:"ml-1 text-sm font-medium",children:((E=t.rating)==null?void 0:E.toFixed(1))||"0.0"})," "]})]}),i&&a&&((C=(b=t.location)==null?void 0:b.coordinates)==null?void 0:C.lat)!=null&&((R=(T=t.location)==null?void 0:T.coordinates)==null?void 0:R.lng)!=null&&v.jsxs("div",{className:"mt-4 h-48 bg-gray-100 rounded-md relative overflow-hidden",children:[" ",v.jsx("iframe",{title:`Map for ${t.name}`,width:"100%",height:"100%",frameBorder:"0",style:{border:0},src:`https://www.google.com/maps/embed/v1/place?key=${a}&q=${t.location.coordinates.lat},${t.location.coordinates.lng}`,allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})]}),i&&(((U=(V=t.location)==null?void 0:V.coordinates)==null?void 0:U.lat)==null||((N=(z=t.location)==null?void 0:z.coordinates)==null?void 0:N.lng)==null)&&v.jsx("div",{className:"mt-4 h-48 flex items-center justify-center bg-gray-100 rounded-md text-gray-500 text-sm",children:"Map cannot be displayed. Check API key or location data."})]}),v.jsxs(SD,{className:"border-t pt-4 text-sm text-gray-500",children:["Joined ",c(t.joinedDate)]})]})};var TT="Dialog",[vF,Cie]=Na(TT),[Mre,Ui]=vF(TT),yF=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,l=w.useRef(null),c=w.useRef(null),[h=!1,p]=Nl({prop:r,defaultProp:i,onChange:s});return v.jsx(Mre,{scope:e,triggerRef:l,contentRef:c,contentId:ss(),titleId:ss(),descriptionId:ss(),open:h,onOpenChange:p,onOpenToggle:w.useCallback(()=>p(m=>!m),[p]),modal:a,children:n})};yF.displayName=TT;var _F="DialogTrigger",Lre=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ui(_F,n),s=pt(e,i.triggerRef);return v.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":CT(i.open),...r,ref:s,onClick:pe(t.onClick,i.onOpenToggle)})});Lre.displayName=_F;var ST="DialogPortal",[Fre,wF]=vF(ST,{forceMount:void 0}),EF=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Ui(ST,e);return v.jsx(Fre,{scope:e,forceMount:n,children:w.Children.map(r,a=>v.jsx(ji,{present:n||s.open,children:v.jsx(Tf,{asChild:!0,container:i,children:a})}))})};EF.displayName=ST;var wv="DialogOverlay",xF=w.forwardRef((t,e)=>{const n=wF(wv,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Ui(wv,t.__scopeDialog);return s.modal?v.jsx(ji,{present:r||s.open,children:v.jsx(Vre,{...i,ref:e})}):null});xF.displayName=wv;var Vre=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ui(wv,n);return v.jsx(Sy,{as:ga,allowPinchZoom:!0,shards:[i.contentRef],children:v.jsx(Oe.div,{"data-state":CT(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),$l="DialogContent",TF=w.forwardRef((t,e)=>{const n=wF($l,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Ui($l,t.__scopeDialog);return v.jsx(ji,{present:r||s.open,children:s.modal?v.jsx(jre,{...i,ref:e}):v.jsx(Ure,{...i,ref:e})})});TF.displayName=$l;var jre=w.forwardRef((t,e)=>{const n=Ui($l,t.__scopeDialog),r=w.useRef(null),i=pt(e,n.contentRef,r);return w.useEffect(()=>{const s=r.current;if(s)return hT(s)},[]),v.jsx(SF,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pe(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:pe(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&s.preventDefault()}),onFocusOutside:pe(t.onFocusOutside,s=>s.preventDefault())})}),Ure=w.forwardRef((t,e)=>{const n=Ui($l,t.__scopeDialog),r=w.useRef(!1),i=w.useRef(!1);return v.jsx(SF,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var c,h;(c=t.onInteractOutside)==null||c.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((h=n.triggerRef.current)==null?void 0:h.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),SF=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,l=Ui($l,n),c=w.useRef(null),h=pt(e,c);return dT(),v.jsxs(v.Fragment,{children:[v.jsx(xy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:v.jsx(Bc,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":CT(l.open),...a,ref:h,onDismiss:()=>l.onOpenChange(!1)})}),v.jsxs(v.Fragment,{children:[v.jsx($re,{titleId:l.titleId}),v.jsx(zre,{contentRef:c,descriptionId:l.descriptionId})]})]})}),IT="DialogTitle",IF=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ui(IT,n);return v.jsx(Oe.h2,{id:i.titleId,...r,ref:e})});IF.displayName=IT;var CF="DialogDescription",bF=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ui(CF,n);return v.jsx(Oe.p,{id:i.descriptionId,...r,ref:e})});bF.displayName=CF;var RF="DialogClose",AF=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ui(RF,n);return v.jsx(Oe.button,{type:"button",...r,ref:e,onClick:pe(t.onClick,()=>i.onOpenChange(!1))})});AF.displayName=RF;function CT(t){return t?"open":"closed"}var PF="DialogTitleWarning",[bie,NF]=sB(PF,{contentName:$l,titleName:IT,docsSlug:"dialog"}),$re=({titleId:t})=>{const e=NF(PF),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Bre="DialogDescriptionWarning",zre=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${NF(Bre).contentName}}.`;return w.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Wre=yF,Hre=EF,kF=xF,DF=TF,OF=IF,MF=bF,Kre=AF;const LF=Wre,Gre=Hre,FF=w.forwardRef(({className:t,...e},n)=>v.jsx(kF,{ref:n,className:Re("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));FF.displayName=kF.displayName;const bT=w.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(Gre,{children:[v.jsx(FF,{}),v.jsxs(DF,{ref:r,className:Re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,v.jsxs(Kre,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[v.jsx(G1,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bT.displayName=DF.displayName;const RT=({className:t,...e})=>v.jsx("div",{className:Re("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});RT.displayName="DialogHeader";const AT=({className:t,...e})=>v.jsx("div",{className:Re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});AT.displayName="DialogFooter";const PT=w.forwardRef(({className:t,...e},n)=>v.jsx(OF,{ref:n,className:Re("text-lg font-semibold leading-none tracking-tight",t),...e}));PT.displayName=OF.displayName;const qre=w.forwardRef(({className:t,...e},n)=>v.jsx(MF,{ref:n,className:Re("text-sm text-muted-foreground",t),...e}));qre.displayName=MF.displayName;const Qre=({initialLat:t=-33.918861,initialLng:e=18.4233,initialCity:n="",onLocationSelected:r})=>{const[i,s]=w.useState(t),[a,l]=w.useState(e),[c,h]=w.useState(n),[p,m]=w.useState(""),[g,x]=w.useState(!1),[I,E]=w.useState(""),[b,C]=w.useState(null),T=w.useRef(null),R=w.useRef(null),V=w.useRef(null),U=w.useRef(null);w.useEffect(()=>{const j=localStorage.getItem("AIzaSyDavxgq9wYfh06xb-wIEmHY6MUx8edDZnM");j?m(j):C("Google Maps API key is not configured.")},[]),w.useEffect(()=>{var F;if(!p||g)return;if(C(null),(F=window.google)!=null&&F.maps){z();return}const j=document.createElement("script");return j.src=`https://maps.googleapis.com/maps/api/js?key=${p}&libraries=places`,j.async=!0,j.defer=!0,j.onload=()=>{z()},j.onerror=ee=>{console.error("Google Maps API loading error:",ee),C("Failed to load Google Maps. Your API key might be invalid or restricted."),Lr.error("Failed to load Google Maps. Check your API key.")},document.head.appendChild(j),()=>{j.parentNode&&document.head.removeChild(j)}},[p]);const z=()=>{var j;if(!(!T.current||!((j=window.google)!=null&&j.maps)))try{const F={center:{lat:i,lng:a},zoom:12,mapTypeControl:!0,streetViewControl:!1,fullscreenControl:!1},ee=new google.maps.Map(T.current,F);V.current=ee;const ge=new google.maps.Marker({position:{lat:i,lng:a},map:ee,draggable:!0,animation:google.maps.Animation.DROP});R.current=ge,U.current=new google.maps.Geocoder,ge.addListener("dragend",N),ee.addListener("click",le=>{if(!le.latLng)return;const he=le.latLng.lat(),q=le.latLng.lng();ge.setPosition({lat:he,lng:q}),s(he),l(q),A(he,q)}),x(!0),t&&e&&!n&&A(t,e)}catch(F){console.error("Map initialization error:",F),C("Failed to initialize Google Maps. Please refresh the page or check your API key."),Lr.error("Failed to initialize Google Maps")}},N=()=>{if(!R.current)return;const j=R.current.getPosition();if(!j)return;const F=j.lat(),ee=j.lng();s(F),l(ee),A(F,ee)},A=(j,F)=>{U.current&&U.current.geocode({location:{lat:j,lng:F}},(ee,ge)=>{if(ge===google.maps.GeocoderStatus.OK&&ee&&ee[0]){let le="";for(const he of ee[0].address_components)if(he.types.includes("locality")){le=he.long_name;break}else he.types.includes("administrative_area_level_1")&&(le=he.long_name);!le&&ee[0].formatted_address&&(le=ee[0].formatted_address),h(le)}else console.error("Geocoder failed due to: "+ge),Lr.error("Failed to get location details")})},k=()=>{!I.trim()||!U.current||!V.current||!R.current||U.current.geocode({address:I},(j,F)=>{var ee,ge;if(F===google.maps.GeocoderStatus.OK&&j&&j[0]){const le=j[0].geometry.location,he=le.lat(),q=le.lng();(ee=V.current)==null||ee.setCenter(le),(ge=R.current)==null||ge.setPosition(le),s(he),l(q);let Y="";for(const ue of j[0].address_components)if(ue.types.includes("locality")){Y=ue.long_name;break}else ue.types.includes("administrative_area_level_1")&&(Y=ue.long_name);!Y&&j[0].formatted_address&&(Y=j[0].formatted_address),h(Y)}else Lr.error("Location not found")})},L=()=>{r(i,a,c)},$=()=>{const j=document.querySelector('[class*="fixed bottom-4 right-4"]');j?j.click():Lr.error("Couldn't find the configuration button. Please scroll to the bottom right of the page to configure your API key.")};return!p||b?v.jsxs("div",{className:"p-4 text-center border rounded-md bg-amber-50",children:[v.jsx("p",{className:"mb-2 text-amber-700",children:b||"Google Maps API key is not configured."}),v.jsx("p",{className:"text-sm text-amber-600 mb-4",children:"You need to set up a Google Maps API key with Maps JavaScript API, Geocoding API, and Places API enabled."}),v.jsx(wn,{onClick:$,className:"bg-amber-600 hover:bg-amber-700",children:"Configure API Key"})]}):v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex gap-2",children:[v.jsx(Qn,{value:I,onChange:j=>E(j.target.value),placeholder:"Search location...",onKeyDown:j=>j.key==="Enter"&&k()}),v.jsx(wn,{type:"button",onClick:k,size:"sm",children:"Search"})]}),v.jsx("div",{ref:T,className:"w-full h-[300px] rounded-md border","aria-label":"Google Map"}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(UC,{className:"h-4 w-4 text-gray-500"}),v.jsx("span",{className:"text-sm font-medium",children:"Latitude:"})]}),v.jsx(Qn,{value:i.toFixed(6),onChange:j=>s(parseFloat(j.target.value)||0),type:"number",step:"0.000001"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(UC,{className:"h-4 w-4 text-gray-500"}),v.jsx("span",{className:"text-sm font-medium",children:"Longitude:"})]}),v.jsx(Qn,{value:a.toFixed(6),onChange:j=>l(parseFloat(j.target.value)||0),type:"number",step:"0.000001"})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-sm font-medium",children:"City / Location Name:"}),v.jsx(Qn,{value:c,onChange:j=>h(j.target.value),placeholder:"City name will be detected automatically"})]}),v.jsx(wn,{type:"button",onClick:L,className:"w-full bg-medical-600",children:"Apply This Location"})]})};var NT="Tabs",[Yre,Rie]=Na(NT,[Ay]),VF=Ay(),[Xre,kT]=Yre(NT),jF=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:l,activationMode:c="automatic",...h}=t,p=Ey(l),[m,g]=Nl({prop:r,onChange:i,defaultProp:s});return v.jsx(Xre,{scope:n,baseId:ss(),value:m,onValueChange:g,orientation:a,dir:p,activationMode:c,children:v.jsx(Oe.div,{dir:p,"data-orientation":a,...h,ref:e})})});jF.displayName=NT;var UF="TabsList",$F=w.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=kT(UF,n),a=VF(n);return v.jsx(cL,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:v.jsx(Oe.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});$F.displayName=UF;var BF="TabsTrigger",zF=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,a=kT(BF,n),l=VF(n),c=KF(a.baseId,r),h=GF(a.baseId,r),p=r===a.value;return v.jsx(dL,{asChild:!0,...l,focusable:!i,active:p,children:v.jsx(Oe.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:pe(t.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?a.onValueChange(r):m.preventDefault()}),onKeyDown:pe(t.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&a.onValueChange(r)}),onFocus:pe(t.onFocus,()=>{const m=a.activationMode!=="manual";!p&&!i&&m&&a.onValueChange(r)})})})});zF.displayName=BF;var WF="TabsContent",HF=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=t,l=kT(WF,n),c=KF(l.baseId,r),h=GF(l.baseId,r),p=r===l.value,m=w.useRef(p);return w.useEffect(()=>{const g=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(g)},[]),v.jsx(ji,{present:i||p,children:({present:g})=>v.jsx(Oe.div,{"data-state":p?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:h,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:m.current?"0s":void 0},children:g&&s})})});HF.displayName=WF;function KF(t,e){return`${t}-trigger-${e}`}function GF(t,e){return`${t}-content-${e}`}var Jre=jF,qF=$F,QF=zF,YF=HF;const Zre=Jre,XF=w.forwardRef(({className:t,...e},n)=>v.jsx(qF,{ref:n,className:Re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));XF.displayName=qF.displayName;const WE=w.forwardRef(({className:t,...e},n)=>v.jsx(QF,{ref:n,className:Re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));WE.displayName=QF.displayName;const HE=w.forwardRef(({className:t,...e},n)=>v.jsx(YF,{ref:n,className:Re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));HE.displayName=YF.displayName;const eie=({isOpen:t,onClose:e,onSubmit:n,initialData:r})=>{const[i,s]=w.useState({name:"",email:"",phone:"",specialty:void 0,city:"",lat:-33.918861,lng:18.4233,status:"active",image:""}),[a,l]=w.useState(!1),[c,h]=w.useState(""),[p,m]=w.useState(!1),[g,x]=w.useState("basic"),{data:I=[],refetch:E,isLoading:b}=pD({queryKey:["specialties"],queryFn:async()=>{console.log("Fetching specialties from Firebase...");const U=await _y();return console.log("Specialties fetched:",U),U},enabled:t,staleTime:0,refetchOnMount:"always"});w.useEffect(()=>{t&&(console.log("Form opened, refetching specialties..."),E())},[t,E]),w.useEffect(()=>{console.log("Specialties data updated:",I)},[I]),w.useEffect(()=>{var U,z,N,A,k;if(r){const L=((z=(U=r.location)==null?void 0:U.coordinates)==null?void 0:z.lat)??-33.918861,$=((A=(N=r.location)==null?void 0:N.coordinates)==null?void 0:A.lng)??18.4233,j=((k=r.location)==null?void 0:k.address)??"";s({name:r.name||"",email:r.email||"",phone:r.phone||"",specialty:r.specialty||void 0,status:r.status||"active",image:r.image||"",lat:L,lng:$,city:j})}else s({name:"",email:"",phone:"",specialty:void 0,city:"",lat:-33.918861,lng:18.4233,status:"active",image:""});x("basic")},[r,t]);const C=(U,z)=>{s(N=>({...N,[U]:z}))},T=async()=>{if(c.trim())try{l(!0);const U={name:c.trim(),description:"",doctorCount:0},z=await sM(U);console.log("New specialty added with ID:",z),C("specialty",c.trim()),await E(),h(""),m(!1),Lr.success("New specialty added")}catch(U){console.error("Error adding specialty:",U),Lr.error("Failed to add new specialty")}finally{l(!1)}},R=(U,z,N)=>{s(A=>({...A,lat:U,lng:z,city:N})),Lr.success("Location updated"),x("basic")},V=async U=>{U.preventDefault(),l(!0);try{const N={name:i.name,email:i.email,phone:i.phone,specialty:i.specialty||"",status:i.status,image:i.image||"https://via.placeholder.com/150",location:{address:i.city||"",coordinates:{lat:i.lat,lng:i.lng}}};n(N)}catch(z){console.error("Error submitting form:",z),Lr.error("An error occurred while saving the doctor information.")}finally{l(!1)}};return v.jsx(LF,{open:t,onOpenChange:e,children:v.jsxs(bT,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[v.jsx(RT,{children:v.jsx(PT,{children:r?"Edit Doctor":"Register New Doctor"})}),v.jsxs(Zre,{defaultValue:"basic",value:g,onValueChange:x,children:[v.jsxs(XF,{className:"grid w-full grid-cols-2 mb-4",children:[v.jsx(WE,{value:"basic",children:"Basic Information"}),v.jsx(WE,{value:"location",children:"Location"})]}),v.jsxs("form",{onSubmit:V,children:[v.jsx(HE,{value:"basic",className:"space-y-6",children:v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-sm font-medium",children:"Full Name"}),v.jsx(Qn,{value:i.name,onChange:U=>C("name",U.target.value),required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-sm font-medium",children:"Email"}),v.jsx(Qn,{type:"email",value:i.email,onChange:U=>C("email",U.target.value),required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-sm font-medium",children:"Phone Number"}),v.jsx(Qn,{value:i.phone,onChange:U=>C("phone",U.target.value),required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-sm font-medium",children:"Specialty"}),p?v.jsxs("div",{className:"flex space-x-2 items-center",children:[v.jsx(Qn,{value:c,onChange:U=>h(U.target.value),placeholder:"Enter new specialty"}),v.jsx(wn,{type:"button",onClick:T,disabled:a||!c.trim(),size:"sm",children:"Add"}),v.jsx(wn,{type:"button",variant:"outline",onClick:()=>m(!1),size:"sm",children:"Cancel"})]}):v.jsxs("div",{className:"flex space-x-2 items-center",children:[v.jsxs(gv,{value:i.specialty,onValueChange:U=>C("specialty",U),disabled:b,children:[v.jsx(uf,{className:"flex-1",children:b?v.jsx("span",{className:"text-gray-500",children:"Loading..."}):v.jsx(vv,{placeholder:"Select specialty"})}),v.jsxs(cf,{children:[console.log("Specialties after filter:",I.filter(U=>typeof U.name=="string"&&U.name.trim()!=="")),b?v.jsx(Ai,{value:"loading",disabled:!0,children:"Loading specialties..."}):I.length===0?v.jsx(Ai,{value:"no-specialties",disabled:!0,children:"No specialties available"}):I.filter(U=>typeof U.name=="string"&&U.name.trim()!=="").map(U=>(console.log("Rendering SelectItem for specialty:",U),v.jsx(Ai,{value:U.name,children:U.name},U.id)))]})]}),v.jsx(wn,{type:"button",variant:"outline",onClick:()=>m(!0),size:"sm",disabled:b,children:"New"})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-sm font-medium",children:"Status"}),v.jsxs(gv,{value:i.status,onValueChange:U=>C("status",U),children:[v.jsx(uf,{children:v.jsx(vv,{})}),v.jsxs(cf,{children:[v.jsx(Ai,{value:"active",children:"Active"}),v.jsx(Ai,{value:"suspended",children:"Suspended"})]})]})]}),v.jsxs("div",{className:"space-y-2 col-span-2",children:[v.jsx("label",{className:"text-sm font-medium",children:"Location"}),v.jsxs("div",{className:"p-2 border rounded-md bg-gray-50",children:[v.jsx("p",{className:"text-sm text-gray-600",children:i.city||"No location set"}),v.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Lat: ",i.lat.toFixed(6),", Lng: ",i.lng.toFixed(6)," "]}),v.jsx("div",{className:"flex justify-end mt-2",children:v.jsx(wn,{type:"button",variant:"outline",size:"sm",onClick:()=>x("location"),children:"Change Location"})})]})]}),v.jsxs("div",{className:"space-y-2 col-span-2",children:[v.jsx("label",{className:"text-sm font-medium",children:"Profile Image URL"}),v.jsx(Qn,{value:i.image,onChange:U=>C("image",U.target.value),placeholder:"Enter image URL or leave blank for placeholder"}),i.image&&v.jsx("div",{className:"h-20 w-20 rounded-md overflow-hidden mt-2",children:v.jsx("img",{src:i.image,alt:"Doctor preview",className:"h-full w-full object-cover",onError:U=>{U.target.src="https://via.placeholder.com/150"}})}),!i.image&&v.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Using a placeholder image if no URL is provided."})]})]})}),v.jsx(HE,{value:"location",children:v.jsx("div",{className:"space-y-4",children:v.jsx(Qre,{initialLat:i.lat,initialLng:i.lng,initialCity:i.city,onLocationSelected:R})})}),v.jsxs(AT,{className:"mt-6",children:[v.jsx(wn,{type:"button",variant:"outline",onClick:e,disabled:a,children:"Cancel"}),v.jsx(wn,{type:"submit",className:"bg-medical-600",disabled:a,children:a?"Saving...":r?"Update":"Register"})]})]})]})]})})},tie=({doctors:t,onAddDoctor:e,onUpdateDoctor:n,onDeleteDoctor:r})=>{const[i,s]=w.useState(""),[a,l]=w.useState("all"),[c,h]=w.useState("all"),[p,m]=w.useState(!1),[g,x]=w.useState(void 0),{toast:I}=xf(),E=Array.from(new Set(t.map(z=>z.specialty))),b=z=>{x(z),m(!0)},C=()=>{m(!1),x(void 0)},T=z=>{g?(n(g.id,z),I({title:"Doctor Updated",description:`${z.name} has been updated successfully.`})):(e(z),I({title:"Doctor Added",description:`${z.name} has been registered successfully.`})),C()},R=(z,N)=>{n(z,{status:N});const A=t.find(k=>k.id===z);A&&I({title:N==="active"?"Doctor Activated":"Doctor Suspended",description:`${A.name} has been ${N==="active"?"activated":"suspended"}.`})},V=z=>{const N=t.find(A=>A.id===z);N&&(r(z),I({title:"Doctor Deleted",description:`${N.name} has been removed from the system.`,variant:"destructive"}))},U=t.filter(z=>{const N=z.name.toLowerCase().includes(i.toLowerCase())||z.email.toLowerCase().includes(i.toLowerCase())||z.specialty.toLowerCase().includes(i.toLowerCase()),A=a==="all"||z.specialty===a,k=c==="all"||z.status===c;return N&&A&&k});return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end md:items-center justify-between",children:[v.jsxs("div",{className:"flex flex-col md:flex-row gap-4 w-full md:w-auto",children:[v.jsxs("div",{className:"relative",children:[v.jsx(gk,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),v.jsx(Qn,{type:"text",placeholder:"Search doctors...",value:i,onChange:z=>s(z.target.value),className:"pl-9 w-full md:w-64"})]}),v.jsxs(gv,{value:a,onValueChange:l,children:[v.jsx(uf,{className:"w-full md:w-44",children:v.jsx(vv,{placeholder:"Specialty"})}),v.jsxs(cf,{children:[v.jsx(Ai,{value:"all",children:"All Specialties"}),E.map(z=>v.jsx(Ai,{value:z,children:z},z))]})]}),v.jsxs(gv,{value:c,onValueChange:h,children:[v.jsx(uf,{className:"w-full md:w-40",children:v.jsx(vv,{placeholder:"Status"})}),v.jsxs(cf,{children:[v.jsx(Ai,{value:"all",children:"All Status"}),v.jsx(Ai,{value:"active",children:"Active"}),v.jsx(Ai,{value:"suspended",children:"Suspended"})]})]})]}),v.jsxs(wn,{className:"bg-medical-600 w-full md:w-auto",onClick:()=>b(),children:[v.jsx(H1,{className:"mr-2 h-4 w-4"}),"Register New Doctor"]})]}),U.length===0?v.jsx("div",{className:"text-center py-12",children:v.jsx("p",{className:"text-gray-500",children:"No doctors found matching your filters."})}):v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:U.map(z=>v.jsx(Ore,{doctor:z,onEdit:b,onDelete:V,onStatusChange:R},z.id))}),v.jsx(eie,{isOpen:p,onClose:C,onSubmit:T,initialData:g})]})},nie=()=>{const{toast:t}=xf(),e=dx(),{data:n=[],isLoading:r}=pD({queryKey:["doctors"],queryFn:cT,meta:{onError:p=>{console.error("Error loading doctors:",p),t({title:"Error",description:"Failed to load doctors data",variant:"destructive"})}}}),i=E_({mutationFn:p=>nZ(p),onSuccess:(p,m)=>{e.invalidateQueries({queryKey:["doctors"]}),e.invalidateQueries({queryKey:["specialties"]}),t({title:"Success",description:"Doctor added successfully"})},onError:p=>{console.error("Error adding doctor:",p),t({title:"Error",description:"Failed to add doctor",variant:"destructive"})}}),s=E_({mutationFn:({id:p,updatedFields:m})=>rZ(p,m),onSuccess:(p,{updatedFields:m})=>{e.invalidateQueries({queryKey:["doctors"]}),m.specialty&&e.invalidateQueries({queryKey:["specialties"]}),t({title:"Success",description:"Doctor updated successfully"})},onError:p=>{console.error("Error updating doctor:",p),t({title:"Error",description:"Failed to update doctor",variant:"destructive"})}}),a=E_({mutationFn:p=>iZ(p),onSuccess:()=>{e.invalidateQueries({queryKey:["doctors"]}),e.invalidateQueries({queryKey:["specialties"]}),t({title:"Success",description:"Doctor deleted successfully"})},onError:p=>{console.error("Error deleting doctor:",p),t({title:"Error",description:"Failed to delete doctor",variant:"destructive"})}}),l=async p=>{i.mutate(p)},c=async(p,m)=>{s.mutate({id:p,updatedFields:m})},h=async p=>{a.mutate(p)};return r?v.jsxs("div",{className:"space-y-6",children:[v.jsx(bc,{title:"Doctors Management"}),v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx("p",{className:"text-gray-500",children:"Loading doctors data..."})})]}):v.jsxs("div",{className:"space-y-6",children:[v.jsx(bc,{title:"Doctors Management"}),v.jsx(tie,{doctors:n,onAddDoctor:l,onUpdateDoctor:c,onDeleteDoctor:h})]})},JF=w.forwardRef(({className:t,...e},n)=>v.jsx("textarea",{className:Re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));JF.displayName="Textarea";const rie=({specialties:t,onAddSpecialty:e,onUpdateSpecialty:n,onDeleteSpecialty:r})=>{const[i,s]=w.useState(""),[a,l]=w.useState(!1),[c,h]=w.useState(void 0),[p,m]=w.useState({name:"",description:"",doctorCount:0}),{toast:g}=xf(),x=T=>{T?(m({name:T.name,description:T.description,doctorCount:T.doctorCount}),h(T)):(m({name:"",description:"",doctorCount:0}),h(void 0)),l(!0)},I=()=>{l(!1)},E=T=>{T.preventDefault(),c?(n(c.id,p),g({title:"Specialty Updated",description:`${p.name} has been updated successfully.`})):(e(p),g({title:"Specialty Added",description:`${p.name} has been added successfully.`})),I()},b=T=>{r(T.id),g({title:"Specialty Deleted",description:`${T.name} has been removed from the system.`,variant:"destructive"})},C=t.filter(T=>T.name.toLowerCase().includes(i.toLowerCase())||T.description.toLowerCase().includes(i.toLowerCase()));return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-end md:items-center justify-between",children:[v.jsxs("div",{className:"relative w-full md:w-auto",children:[v.jsx(gk,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500"}),v.jsx(Qn,{type:"text",placeholder:"Search specialties...",value:i,onChange:T=>s(T.target.value),className:"pl-9 w-full md:w-64"})]}),v.jsxs(wn,{className:"bg-medical-600 w-full md:w-auto",onClick:()=>x(),children:[v.jsx(tz,{className:"mr-2 h-4 w-4"}),"Add New Specialty"]})]}),C.length===0?v.jsx("div",{className:"text-center py-12",children:v.jsx("p",{className:"text-gray-500",children:"No specialties found matching your search."})}):v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:C.map(T=>v.jsxs(Rc,{children:[v.jsx(Ac,{className:"pb-2",children:v.jsxs(qh,{className:"text-lg flex justify-between items-start",children:[T.name,v.jsxs("div",{className:"flex gap-1",children:[v.jsx(wn,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>x(T),children:v.jsx(ZB,{className:"h-4 w-4"})}),v.jsx(wn,{variant:"ghost",size:"icon",className:"h-7 w-7 text-red-500",onClick:()=>b(T),children:v.jsx(nz,{className:"h-4 w-4"})})]})]})}),v.jsxs(Pc,{children:[v.jsx("p",{className:"text-sm text-gray-600 mb-4",children:T.description}),v.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[v.jsx(K1,{className:"h-4 w-4 mr-1"}),v.jsxs("span",{children:[T.doctorCount," doctors"]})]})]})]},T.id))}),v.jsx(LF,{open:a,onOpenChange:I,children:v.jsxs(bT,{className:"sm:max-w-[500px]",children:[v.jsx(RT,{children:v.jsx(PT,{children:c?"Edit Specialty":"Add New Specialty"})}),v.jsxs("form",{onSubmit:E,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-sm font-medium",children:"Specialty Name"}),v.jsx(Qn,{value:p.name,onChange:T=>m({...p,name:T.target.value}),required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-sm font-medium",children:"Description"}),v.jsx(JF,{value:p.description,onChange:T=>m({...p,description:T.target.value}),required:!0})]}),c&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-sm font-medium",children:"Doctor Count"}),v.jsx(Qn,{type:"number",value:p.doctorCount,onChange:T=>m({...p,doctorCount:parseInt(T.target.value)||0}),required:!0})]}),v.jsxs(AT,{children:[v.jsx(wn,{type:"button",variant:"outline",onClick:I,children:"Cancel"}),v.jsx(wn,{type:"submit",className:"bg-medical-600",children:c?"Update":"Add"})]})]})]})})]})},iie=()=>{const[t,e]=w.useState([]),[n,r]=w.useState(!0),{toast:i}=xf();w.useEffect(()=>{(async()=>{try{const h=await _y();e(h)}catch(h){console.error("Error loading specialties:",h),i({title:"Error",description:"Failed to load specialties data",variant:"destructive"})}finally{r(!1)}})()},[i]);const s=async c=>{try{const h=await sM(c),p={...c,id:h};e([...t,p]),i({title:"Success",description:"Specialty added successfully"})}catch(h){console.error("Error adding specialty:",h),i({title:"Error",description:"Failed to add specialty",variant:"destructive"})}},a=async(c,h)=>{try{await sZ(c,h),e(t.map(p=>p.id===c?{...p,...h}:p)),i({title:"Success",description:"Specialty updated successfully"})}catch(p){console.error("Error updating specialty:",p),i({title:"Error",description:"Failed to update specialty",variant:"destructive"})}},l=async c=>{try{await oZ(c),e(t.filter(h=>h.id!==c)),i({title:"Success",description:"Specialty deleted successfully"})}catch(h){console.error("Error deleting specialty:",h),i({title:"Error",description:"Failed to delete specialty",variant:"destructive"})}};return n?v.jsxs("div",{className:"space-y-6",children:[v.jsx(bc,{title:"Specialties Management"}),v.jsx("div",{className:"flex justify-center items-center h-64",children:v.jsx("p",{className:"text-gray-500",children:"Loading specialties data..."})})]}):v.jsxs("div",{className:"space-y-6",children:[v.jsx(bc,{title:"Specialties Management"}),v.jsx(rie,{specialties:t,onAddSpecialty:s,onUpdateSpecialty:a,onDeleteSpecialty:l})]})},sie=()=>{const t=Hl();return w.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:v.jsxs("div",{className:"text-center",children:[v.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),v.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),v.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})};var oie="Label",ZF=w.forwardRef((t,e)=>v.jsx(Oe.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));ZF.displayName=oie;var eV=ZF;const aie=$v("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),KE=w.forwardRef(({className:t,...e},n)=>v.jsx(eV,{ref:n,className:Re(aie(),t),...e}));KE.displayName=eV.displayName;const lie=()=>{const[t,e]=w.useState(""),[n,r]=w.useState(""),[i,s]=w.useState(!1),a=gx(),l=async c=>{if(c.preventDefault(),s(!0),!t||!n){Lr.error("Please enter both email and password."),s(!1);return}if(!dv){console.error("Firebase Auth is not initialized."),Lr.error("Authentication service not available. Please check Firebase configuration."),s(!1);return}try{await eq(dv,t,n),Lr.success("Login successful!"),a("/")}catch(h){console.error("Login error:",h);let p="Login failed. Please try again.";h.code==="auth/user-not-found"?p="No user found with this email.":h.code==="auth/wrong-password"?p="Incorrect password.":h.code==="auth/invalid-email"?p="Invalid email address format.":h.code==="auth/too-many-requests"&&(p="Too many login attempts. Please try again later."),Lr.error(p)}finally{s(!1)}};return v.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:v.jsxs(Rc,{className:"w-full max-w-md",children:[v.jsxs(Ac,{children:[v.jsx(qh,{className:"text-2xl text-center",children:"Administrator Login"}),v.jsx(Hg,{className:"text-center",children:"Log in to the Doc Tracker Admin Portal :D"})]}),v.jsx(Pc,{children:v.jsxs("form",{onSubmit:l,className:"grid gap-4",children:[v.jsxs("div",{className:"grid gap-2",children:[v.jsx(KE,{htmlFor:"email",children:"Email"}),v.jsx(Qn,{id:"email",type:"email",placeholder:"tyoe in your email",required:!0,value:t,onChange:c=>e(c.target.value)})]}),v.jsxs("div",{className:"grid gap-2",children:[v.jsx(KE,{htmlFor:"password",children:"Password"}),v.jsx(Qn,{id:"password",type:"password",required:!0,value:n,onChange:c=>r(c.target.value)})]}),v.jsx(wn,{type:"submit",className:"w-full bg-medical-600",disabled:i,children:i?"Logging in...":"Login"})]})})]})})},uie=new rH({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}}),cie=()=>{const[t,e]=w.useState(null),[n,r]=w.useState(!0);return w.useEffect(()=>{const i=rq(dv,s=>{e(s),r(!1),console.log("Auth state changed. Current user:",s)});return()=>i()},[]),n?v.jsx("div",{children:"Loading authentication..."}):v.jsx(lH,{client:uie,children:v.jsxs($8,{children:[v.jsx(jz,{}),v.jsx(pW,{}),v.jsx(f7,{children:t?v.jsxs("div",{className:"layout-grid",children:[v.jsx(_7,{}),v.jsx("main",{className:"p-0 md:p-6 bg-gray-50 min-h-screen",children:v.jsx("div",{className:"bg-white rounded-none md:rounded-xl shadow-sm overflow-hidden",children:v.jsxs(mb,{children:[v.jsx(No,{path:"/",element:v.jsx(Nee,{})}),v.jsx(No,{path:"/doctors",element:v.jsx(nie,{})}),v.jsx(No,{path:"/specialties",element:v.jsx(iie,{})}),v.jsx(No,{path:"/login",element:v.jsx(pb,{to:"/",replace:!0})}),v.jsx(No,{path:"*",element:v.jsx(sie,{})})]})})})]}):v.jsxs(mb,{children:[v.jsx(No,{path:"/login",element:v.jsx(lie,{})}),v.jsx(No,{path:"*",element:v.jsx(pb,{to:"/login",replace:!0})})]})})]})})};$N(document.getElementById("root")).render(v.jsx(cie,{}));
